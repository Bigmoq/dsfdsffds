var aX=Object.defineProperty;var CO=e=>{throw TypeError(e)};var sX=(e,t,r)=>t in e?aX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Va=(e,t,r)=>sX(e,typeof t!="symbol"?t+"":t,r),Ej=(e,t,r)=>t.has(e)||CO("Cannot "+r);var H=(e,t,r)=>(Ej(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?CO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(Ej(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),nt=(e,t,r)=>(Ej(e,t,"access private method"),r);var Sv=(e,t,r,n)=>({set _(a){ye(e,t,a,r)},get _(){return H(e,t,n)}});function iX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z3={exports:{}},vb={},U3={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=Symbol.for("react.element"),oX=Symbol.for("react.portal"),lX=Symbol.for("react.fragment"),cX=Symbol.for("react.strict_mode"),uX=Symbol.for("react.profiler"),dX=Symbol.for("react.provider"),fX=Symbol.for("react.context"),hX=Symbol.for("react.forward_ref"),mX=Symbol.for("react.suspense"),pX=Symbol.for("react.memo"),gX=Symbol.for("react.lazy"),kO=Symbol.iterator;function vX(e){return e===null||typeof e!="object"?null:(e=kO&&e[kO]||e["@@iterator"],typeof e=="function"?e:null)}var V3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W3=Object.assign,H3={};function Qf(e,t,r){this.props=e,this.context=t,this.refs=H3,this.updater=r||V3}Qf.prototype.isReactComponent={};Qf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q3(){}q3.prototype=Qf.prototype;function Wk(e,t,r){this.props=e,this.context=t,this.refs=H3,this.updater=r||V3}var Hk=Wk.prototype=new q3;Hk.constructor=Wk;W3(Hk,Qf.prototype);Hk.isPureReactComponent=!0;var EO=Array.isArray,K3=Object.prototype.hasOwnProperty,qk={current:null},G3={key:!0,ref:!0,__self:!0,__source:!0};function Y3(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)K3.call(t,n)&&!G3.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pg,type:e,key:s,ref:o,props:a,_owner:qk.current}}function yX(e,t){return{$$typeof:Pg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pg}function xX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var AO=/\/+/g;function Aj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xX(""+e.key):t.toString(36)}function Ey(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pg:case oX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Aj(o,0):n,EO(a)?(r="",e!=null&&(r=e.replace(AO,"$&/")+"/"),Ey(a,t,r,"",function(u){return u})):a!=null&&(Kk(a)&&(a=yX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(AO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",EO(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Aj(s,l);o+=Ey(s,t,r,c,a)}else if(c=vX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Aj(s,l++),o+=Ey(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kv(e,t,r){if(e==null)return e;var n=[],a=0;return Ey(e,n,"","",function(s){return t.call(r,s,a++)}),n}function bX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},Ay={transition:null},wX={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Ay,ReactCurrentOwner:qk};function X3(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:kv,forEach:function(e,t,r){kv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kv(e,function(){t++}),t},toArray:function(e){return kv(e,function(t){return t})||[]},only:function(e){if(!Kk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=Qf;ct.Fragment=lX;ct.Profiler=uX;ct.PureComponent=Wk;ct.StrictMode=cX;ct.Suspense=mX;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wX;ct.act=X3;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=W3({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=qk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)K3.call(t,c)&&!G3.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pg,type:e.type,key:a,ref:s,props:n,_owner:o}};ct.createContext=function(e){return e={$$typeof:fX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dX,_context:e},e.Consumer=e};ct.createElement=Y3;ct.createFactory=function(e){var t=Y3.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:hX,render:e}};ct.isValidElement=Kk;ct.lazy=function(e){return{$$typeof:gX,_payload:{_status:-1,_result:e},_init:bX}};ct.memo=function(e,t){return{$$typeof:pX,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Ay.transition;Ay.transition={};try{e()}finally{Ay.transition=t}};ct.unstable_act=X3;ct.useCallback=function(e,t){return Xn.current.useCallback(e,t)};ct.useContext=function(e){return Xn.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};ct.useEffect=function(e,t){return Xn.current.useEffect(e,t)};ct.useId=function(){return Xn.current.useId()};ct.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return Xn.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};ct.useRef=function(e){return Xn.current.useRef(e)};ct.useState=function(e){return Xn.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return Xn.current.useTransition()};ct.version="18.3.1";U3.exports=ct;var p=U3.exports;const L=vt(p),Gk=iX({__proto__:null,default:L},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jX=p,_X=Symbol.for("react.element"),NX=Symbol.for("react.fragment"),SX=Object.prototype.hasOwnProperty,CX=jX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kX={key:!0,ref:!0,__self:!0,__source:!0};function Z3(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)SX.call(t,n)&&!kX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_X,type:e,key:s,ref:o,props:a,_owner:CX.current}}vb.Fragment=NX;vb.jsx=Z3;vb.jsxs=Z3;z3.exports=vb;var i=z3.exports,Q3={exports:{}},za={},J3={exports:{}},eL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,T){var U=D.length;D.push(T);e:for(;0<U;){var R=U-1>>>1,M=D[R];if(0<a(M,T))D[R]=T,D[U]=M,U=R;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var T=D[0],U=D.pop();if(U!==T){D[0]=U;e:for(var R=0,M=D.length,B=M>>>1;R<B;){var V=2*(R+1)-1,q=D[V],J=V+1,Y=D[J];if(0>a(q,U))J<M&&0>a(Y,q)?(D[R]=Y,D[J]=U,R=J):(D[R]=q,D[V]=U,R=V);else if(J<M&&0>a(Y,U))D[R]=Y,D[J]=U,R=J;else break e}}return T}function a(D,T){var U=D.sortIndex-T.sortIndex;return U!==0?U:D.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=D)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function j(D){if(g=!1,w(D),!v)if(r(c)!==null)v=!0,O(_);else{var T=r(u);T!==null&&$(j,T.startTime-D)}}function _(D,T){v=!1,g&&(g=!1,b(k),k=-1),m=!0;var U=h;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||D&&!E());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var M=R(f.expirationTime<=T);T=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var V=r(u);V!==null&&$(j,V.startTime-T),B=!1}return B}finally{f=null,h=U,m=!1}}var N=!1,S=null,k=-1,C=5,A=-1;function E(){return!(e.unstable_now()-A<C)}function P(){if(S!==null){var D=e.unstable_now();A=D;var T=!0;try{T=S(!0,D)}finally{T?F():(N=!1,S=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=P,F=function(){z.postMessage(null)}}else F=function(){x(P,0)};function O(D){S=D,N||(N=!0,F())}function $(D,T){k=x(function(){D(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,O(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var U=h;h=T;try{return D()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,T){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return T()}finally{h=U}},e.unstable_scheduleCallback=function(D,T,U){var R=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?R+U:R):U=R,D){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=U+M,D={id:d++,callback:T,priorityLevel:D,startTime:U,expirationTime:M,sortIndex:-1},U>R?(D.sortIndex=U,t(u,D),r(c)===null&&D===r(u)&&(g?(b(k),k=-1):g=!0,$(j,U-R))):(D.sortIndex=M,t(c,D),v||m||(v=!0,O(_))),D},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(D){var T=h;return function(){var U=h;h=T;try{return D.apply(this,arguments)}finally{h=U}}}})(eL);J3.exports=eL;var EX=J3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AX=p,Fa=EX;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tL=new Set,Xm={};function bu(e,t){Qd(e,t),Qd(e+"Capture",t)}function Qd(e,t){for(Xm[e]=t,e=0;e<t.length;e++)tL.add(t[e])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I_=Object.prototype.hasOwnProperty,PX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PO={},OO={};function OX(e){return I_.call(OO,e)?!0:I_.call(PO,e)?!1:PX.test(e)?OO[e]=!0:(PO[e]=!0,!1)}function TX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MX(e,t,r,n){if(t===null||typeof t>"u"||TX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nn[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nn[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nn[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nn[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nn[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nn[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nn[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nn[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nn[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yk=/[\-:]([a-z])/g;function Xk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yk,Xk);Nn[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yk,Xk);Nn[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yk,Xk);Nn[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zk(e,t,r,n){var a=Nn.hasOwnProperty(t)?Nn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MX(t,r,a,n)&&(r=null),n||a===null?OX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wo=AX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ev=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),rL=Symbol.for("react.provider"),nL=Symbol.for("react.context"),Jk=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),F_=Symbol.for("react.suspense_list"),e2=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),aL=Symbol.for("react.offscreen"),TO=Symbol.iterator;function Fh(e){return e===null||typeof e!="object"?null:(e=TO&&e[TO]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,Pj;function um(e){if(Pj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pj=t&&t[1]||""}return`
`+Pj+e}var Oj=!1;function Tj(e,t){if(!e||Oj)return"";Oj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Oj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?um(e):""}function RX(e){switch(e.tag){case 5:return um(e.type);case 16:return um("Lazy");case 13:return um("Suspense");case 19:return um("SuspenseList");case 0:case 2:case 15:return e=Tj(e.type,!1),e;case 11:return e=Tj(e.type.render,!1),e;case 1:return e=Tj(e.type,!0),e;default:return""}}function B_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ju:return"Fragment";case Qu:return"Portal";case $_:return"Profiler";case Qk:return"StrictMode";case L_:return"Suspense";case F_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nL:return(e.displayName||"Context")+".Consumer";case rL:return(e._context.displayName||"Context")+".Provider";case Jk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e2:return t=e.displayName||null,t!==null?t:B_(e.type)||"Memo";case Wo:t=e._payload,e=e._init;try{return B_(e(t))}catch{}}return null}function DX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B_(t);case 8:return t===Qk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ol(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IX(e){var t=sL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Av(e){e._valueTracker||(e._valueTracker=IX(e))}function iL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sL(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z_(e,t){var r=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function MO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ol(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oL(e,t){t=t.checked,t!=null&&Zk(e,"checked",t,!1)}function U_(e,t){oL(e,t);var r=Ol(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V_(e,t.type,r):t.hasOwnProperty("defaultValue")&&V_(e,t.type,Ol(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function V_(e,t,r){(t!=="number"||nx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var dm=Array.isArray;function wd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ol(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function W_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function DO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(dm(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ol(r)}}function lL(e,t){var r=Ol(t.value),n=Ol(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function IO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pv,uL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pv=Pv||document.createElement("div"),Pv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$X=["Webkit","ms","Moz","O"];Object.keys(wm).forEach(function(e){$X.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wm[t]=wm[e]})});function dL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wm.hasOwnProperty(e)&&wm[e]?(""+t).trim():t+"px"}function fL(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var LX=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q_(e,t){if(t){if(LX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function K_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G_=null;function t2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y_=null,jd=null,_d=null;function $O(e){if(e=Mg(e)){if(typeof Y_!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=jb(t),Y_(e.stateNode,e.type,t))}}function hL(e){jd?_d?_d.push(e):_d=[e]:jd=e}function mL(){if(jd){var e=jd,t=_d;if(_d=jd=null,$O(e),t)for(e=0;e<t.length;e++)$O(t[e])}}function pL(e,t){return e(t)}function gL(){}var Mj=!1;function vL(e,t,r){if(Mj)return e(t,r);Mj=!0;try{return pL(e,t,r)}finally{Mj=!1,(jd!==null||_d!==null)&&(gL(),mL())}}function Qm(e,t){var r=e.stateNode;if(r===null)return null;var n=jb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var X_=!1;if(io)try{var Bh={};Object.defineProperty(Bh,"passive",{get:function(){X_=!0}}),window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{X_=!1}function FX(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var jm=!1,ax=null,sx=!1,Z_=null,BX={onError:function(e){jm=!0,ax=e}};function zX(e,t,r,n,a,s,o,l,c){jm=!1,ax=null,FX.apply(BX,arguments)}function UX(e,t,r,n,a,s,o,l,c){if(zX.apply(this,arguments),jm){if(jm){var u=ax;jm=!1,ax=null}else throw Error(ue(198));sx||(sx=!0,Z_=u)}}function wu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LO(e){if(wu(e)!==e)throw Error(ue(188))}function VX(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return LO(a),e;if(s===n)return LO(a),t;s=s.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function xL(e){return e=VX(e),e!==null?bL(e):null}function bL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bL(e);if(t!==null)return t;e=e.sibling}return null}var wL=Fa.unstable_scheduleCallback,FO=Fa.unstable_cancelCallback,WX=Fa.unstable_shouldYield,HX=Fa.unstable_requestPaint,Nr=Fa.unstable_now,qX=Fa.unstable_getCurrentPriorityLevel,r2=Fa.unstable_ImmediatePriority,jL=Fa.unstable_UserBlockingPriority,ix=Fa.unstable_NormalPriority,KX=Fa.unstable_LowPriority,_L=Fa.unstable_IdlePriority,yb=null,gi=null;function GX(e){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(yb,e,void 0,(e.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:ZX,YX=Math.log,XX=Math.LN2;function ZX(e){return e>>>=0,e===0?32:31-(YX(e)/XX|0)|0}var Ov=64,Tv=4194304;function fm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ox(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=fm(l):(s&=o,s!==0&&(n=fm(s)))}else o=r&~a,o!==0?n=fm(o):s!==0&&(n=fm(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ls(t),a=1<<r,n|=e[r],t&=~a;return n}function QX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ls(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=QX(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Q_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NL(){var e=Ov;return Ov<<=1,!(Ov&4194240)&&(Ov=64),e}function Rj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Og(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ls(t),e[t]=r}function eZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ls(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function n2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ls(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ct=0;function SL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CL,a2,kL,EL,AL,J_=!1,Mv=[],vl=null,yl=null,xl=null,Jm=new Map,ep=new Map,Xo=[],tZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BO(e,t){switch(e){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":Jm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ep.delete(t.pointerId)}}function zh(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Mg(t),t!==null&&a2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rZ(e,t,r,n,a){switch(t){case"focusin":return vl=zh(vl,e,t,r,n,a),!0;case"dragenter":return yl=zh(yl,e,t,r,n,a),!0;case"mouseover":return xl=zh(xl,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Jm.set(s,zh(Jm.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,ep.set(s,zh(ep.get(s)||null,e,t,r,n,a)),!0}return!1}function PL(e){var t=bc(e.target);if(t!==null){var r=wu(t);if(r!==null){if(t=r.tag,t===13){if(t=yL(r),t!==null){e.blockedOn=t,AL(e.priority,function(){kL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Py(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=eN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);G_=n,r.target.dispatchEvent(n),G_=null}else return t=Mg(r),t!==null&&a2(t),e.blockedOn=r,!1;t.shift()}return!0}function zO(e,t,r){Py(e)&&r.delete(t)}function nZ(){J_=!1,vl!==null&&Py(vl)&&(vl=null),yl!==null&&Py(yl)&&(yl=null),xl!==null&&Py(xl)&&(xl=null),Jm.forEach(zO),ep.forEach(zO)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,J_||(J_=!0,Fa.unstable_scheduleCallback(Fa.unstable_NormalPriority,nZ)))}function tp(e){function t(a){return Uh(a,e)}if(0<Mv.length){Uh(Mv[0],e);for(var r=1;r<Mv.length;r++){var n=Mv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vl!==null&&Uh(vl,e),yl!==null&&Uh(yl,e),xl!==null&&Uh(xl,e),Jm.forEach(t),ep.forEach(t),r=0;r<Xo.length;r++)n=Xo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xo.length&&(r=Xo[0],r.blockedOn===null);)PL(r),r.blockedOn===null&&Xo.shift()}var Nd=wo.ReactCurrentBatchConfig,lx=!0;function aZ(e,t,r,n){var a=Ct,s=Nd.transition;Nd.transition=null;try{Ct=1,s2(e,t,r,n)}finally{Ct=a,Nd.transition=s}}function sZ(e,t,r,n){var a=Ct,s=Nd.transition;Nd.transition=null;try{Ct=4,s2(e,t,r,n)}finally{Ct=a,Nd.transition=s}}function s2(e,t,r,n){if(lx){var a=eN(e,t,r,n);if(a===null)Wj(e,t,n,cx,r),BO(e,n);else if(rZ(a,e,t,r,n))n.stopPropagation();else if(BO(e,n),t&4&&-1<tZ.indexOf(e)){for(;a!==null;){var s=Mg(a);if(s!==null&&CL(s),s=eN(e,t,r,n),s===null&&Wj(e,t,n,cx,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Wj(e,t,n,null,r)}}var cx=null;function eN(e,t,r,n){if(cx=null,e=t2(n),e=bc(e),e!==null)if(t=wu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cx=e,null}function OL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qX()){case r2:return 1;case jL:return 4;case ix:case KX:return 16;case _L:return 536870912;default:return 16}default:return 16}}var ul=null,i2=null,Oy=null;function TL(){if(Oy)return Oy;var e,t=i2,r=t.length,n,a="value"in ul?ul.value:ul.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Oy=a.slice(e,1<n?1-n:void 0)}function Ty(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rv(){return!0}function UO(){return!1}function Ua(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rv:UO,this.isPropagationStopped=UO,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rv)},persist:function(){},isPersistent:Rv}),t}var Jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o2=Ua(Jf),Tg=cr({},Jf,{view:0,detail:0}),iZ=Ua(Tg),Dj,Ij,Vh,xb=cr({},Tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vh&&(Vh&&e.type==="mousemove"?(Dj=e.screenX-Vh.screenX,Ij=e.screenY-Vh.screenY):Ij=Dj=0,Vh=e),Dj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),VO=Ua(xb),oZ=cr({},xb,{dataTransfer:0}),lZ=Ua(oZ),cZ=cr({},Tg,{relatedTarget:0}),$j=Ua(cZ),uZ=cr({},Jf,{animationName:0,elapsedTime:0,pseudoElement:0}),dZ=Ua(uZ),fZ=cr({},Jf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hZ=Ua(fZ),mZ=cr({},Jf,{data:0}),WO=Ua(mZ),pZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vZ[e])?!!t[e]:!1}function l2(){return yZ}var xZ=cr({},Tg,{key:function(e){if(e.key){var t=pZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ty(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l2,charCode:function(e){return e.type==="keypress"?Ty(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ty(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bZ=Ua(xZ),wZ=cr({},xb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HO=Ua(wZ),jZ=cr({},Tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l2}),_Z=Ua(jZ),NZ=cr({},Jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),SZ=Ua(NZ),CZ=cr({},xb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kZ=Ua(CZ),EZ=[9,13,27,32],c2=io&&"CompositionEvent"in window,_m=null;io&&"documentMode"in document&&(_m=document.documentMode);var AZ=io&&"TextEvent"in window&&!_m,ML=io&&(!c2||_m&&8<_m&&11>=_m),qO=" ",KO=!1;function RL(e,t){switch(e){case"keyup":return EZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ed=!1;function PZ(e,t){switch(e){case"compositionend":return DL(t);case"keypress":return t.which!==32?null:(KO=!0,qO);case"textInput":return e=t.data,e===qO&&KO?null:e;default:return null}}function OZ(e,t){if(ed)return e==="compositionend"||!c2&&RL(e,t)?(e=TL(),Oy=i2=ul=null,ed=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ML&&t.locale!=="ko"?null:t.data;default:return null}}var TZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TZ[e.type]:t==="textarea"}function IL(e,t,r,n){hL(n),t=ux(t,"onChange"),0<t.length&&(r=new o2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nm=null,rp=null;function MZ(e){KL(e,0)}function bb(e){var t=nd(e);if(iL(t))return e}function RZ(e,t){if(e==="change")return t}var $L=!1;if(io){var Lj;if(io){var Fj="oninput"in document;if(!Fj){var YO=document.createElement("div");YO.setAttribute("oninput","return;"),Fj=typeof YO.oninput=="function"}Lj=Fj}else Lj=!1;$L=Lj&&(!document.documentMode||9<document.documentMode)}function XO(){Nm&&(Nm.detachEvent("onpropertychange",LL),rp=Nm=null)}function LL(e){if(e.propertyName==="value"&&bb(rp)){var t=[];IL(t,rp,e,t2(e)),vL(MZ,t)}}function DZ(e,t,r){e==="focusin"?(XO(),Nm=t,rp=r,Nm.attachEvent("onpropertychange",LL)):e==="focusout"&&XO()}function IZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bb(rp)}function $Z(e,t){if(e==="click")return bb(t)}function LZ(e,t){if(e==="input"||e==="change")return bb(t)}function FZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:FZ;function np(e,t){if(Ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!I_.call(t,a)||!Ws(e[a],t[a]))return!1}return!0}function ZO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QO(e,t){var r=ZO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ZO(r)}}function FL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BL(){for(var e=window,t=nx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nx(e.document)}return t}function u2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BZ(e){var t=BL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FL(r.ownerDocument.documentElement,r)){if(n!==null&&u2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=QO(r,s);var o=QO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zZ=io&&"documentMode"in document&&11>=document.documentMode,td=null,tN=null,Sm=null,rN=!1;function JO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rN||td==null||td!==nx(n)||(n=td,"selectionStart"in n&&u2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sm&&np(Sm,n)||(Sm=n,n=ux(tN,"onSelect"),0<n.length&&(t=new o2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=td)))}function Dv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rd={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},Bj={},zL={};io&&(zL=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function wb(e){if(Bj[e])return Bj[e];if(!rd[e])return e;var t=rd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zL)return Bj[e]=t[r];return e}var UL=wb("animationend"),VL=wb("animationiteration"),WL=wb("animationstart"),HL=wb("transitionend"),qL=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(e,t){qL.set(e,t),bu(t,[e])}for(var zj=0;zj<eT.length;zj++){var Uj=eT[zj],UZ=Uj.toLowerCase(),VZ=Uj[0].toUpperCase()+Uj.slice(1);Bl(UZ,"on"+VZ)}Bl(UL,"onAnimationEnd");Bl(VL,"onAnimationIteration");Bl(WL,"onAnimationStart");Bl("dblclick","onDoubleClick");Bl("focusin","onFocus");Bl("focusout","onBlur");Bl(HL,"onTransitionEnd");Qd("onMouseEnter",["mouseout","mouseover"]);Qd("onMouseLeave",["mouseout","mouseover"]);Qd("onPointerEnter",["pointerout","pointerover"]);Qd("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(hm));function tT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UX(n,t,void 0,e),e.currentTarget=null}function KL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;tT(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;tT(a,l,u),s=c}}}if(sx)throw e=Z_,sx=!1,Z_=null,e}function Xt(e,t){var r=t[oN];r===void 0&&(r=t[oN]=new Set);var n=e+"__bubble";r.has(n)||(GL(t,e,2,!1),r.add(n))}function Vj(e,t,r){var n=0;t&&(n|=4),GL(r,e,n,t)}var Iv="_reactListening"+Math.random().toString(36).slice(2);function ap(e){if(!e[Iv]){e[Iv]=!0,tL.forEach(function(r){r!=="selectionchange"&&(WZ.has(r)||Vj(r,!1,e),Vj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iv]||(t[Iv]=!0,Vj("selectionchange",!1,t))}}function GL(e,t,r,n){switch(OL(t)){case 1:var a=aZ;break;case 4:a=sZ;break;default:a=s2}r=a.bind(null,t,r,e),a=void 0,!X_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=bc(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}vL(function(){var u=s,d=t2(r),f=[];e:{var h=qL.get(e);if(h!==void 0){var m=o2,v=e;switch(e){case"keypress":if(Ty(r)===0)break e;case"keydown":case"keyup":m=bZ;break;case"focusin":v="focus",m=$j;break;case"focusout":v="blur",m=$j;break;case"beforeblur":case"afterblur":m=$j;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_Z;break;case UL:case VL:case WL:m=dZ;break;case HL:m=SZ;break;case"scroll":m=iZ;break;case"wheel":m=kZ;break;case"copy":case"cut":case"paste":m=hZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=HO}var g=(t&4)!==0,x=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=Qm(y,b),j!=null&&g.push(sp(y,j,w)))),x)break;y=y.return}0<g.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==G_&&(v=r.relatedTarget||r.fromElement)&&(bc(v)||v[oo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?bc(v):null,v!==null&&(x=wu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=VO,j="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=HO,j="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?h:nd(m),w=v==null?h:nd(v),h=new g(j,y+"leave",m,r,d),h.target=x,h.relatedTarget=w,j=null,bc(d)===u&&(g=new g(b,y+"enter",v,r,d),g.target=w,g.relatedTarget=x,j=g),x=j,m&&v)t:{for(g=m,b=v,y=0,w=g;w;w=Ou(w))y++;for(w=0,j=b;j;j=Ou(j))w++;for(;0<y-w;)g=Ou(g),y--;for(;0<w-y;)b=Ou(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ou(g),b=Ou(b)}g=null}else g=null;m!==null&&rT(f,h,m,g,!1),v!==null&&x!==null&&rT(f,x,v,g,!0)}}e:{if(h=u?nd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=RZ;else if(GO(h))if($L)_=LZ;else{_=IZ;var N=DZ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=$Z);if(_&&(_=_(e,u))){IL(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&V_(h,"number",h.value)}switch(N=u?nd(u):window,e){case"focusin":(GO(N)||N.contentEditable==="true")&&(td=N,tN=u,Sm=null);break;case"focusout":Sm=tN=td=null;break;case"mousedown":rN=!0;break;case"contextmenu":case"mouseup":case"dragend":rN=!1,JO(f,r,d);break;case"selectionchange":if(zZ)break;case"keydown":case"keyup":JO(f,r,d)}var S;if(c2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ed?RL(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(ML&&r.locale!=="ko"&&(ed||k!=="onCompositionStart"?k==="onCompositionEnd"&&ed&&(S=TL()):(ul=d,i2="value"in ul?ul.value:ul.textContent,ed=!0)),N=ux(u,k),0<N.length&&(k=new WO(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=DL(r),S!==null&&(k.data=S)))),(S=AZ?PZ(e,r):OZ(e,r))&&(u=ux(u,"onBeforeInput"),0<u.length&&(d=new WO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}KL(f,t)})}function sp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ux(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Qm(e,r),s!=null&&n.unshift(sp(e,s,a)),s=Qm(e,t),s!=null&&n.push(sp(e,s,a))),e=e.return}return n}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rT(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Qm(r,s),c!=null&&o.unshift(sp(r,c,l))):a||(c=Qm(r,s),c!=null&&o.push(sp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HZ=/\r\n?/g,qZ=/\u0000|\uFFFD/g;function nT(e){return(typeof e=="string"?e:""+e).replace(HZ,`
`).replace(qZ,"")}function $v(e,t,r){if(t=nT(t),nT(e)!==t&&r)throw Error(ue(425))}function dx(){}var nN=null,aN=null;function sN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iN=typeof setTimeout=="function"?setTimeout:void 0,KZ=typeof clearTimeout=="function"?clearTimeout:void 0,aT=typeof Promise=="function"?Promise:void 0,GZ=typeof queueMicrotask=="function"?queueMicrotask:typeof aT<"u"?function(e){return aT.resolve(null).then(e).catch(YZ)}:iN;function YZ(e){setTimeout(function(){throw e})}function Hj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tp(t)}function bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var eh=Math.random().toString(36).slice(2),li="__reactFiber$"+eh,ip="__reactProps$"+eh,oo="__reactContainer$"+eh,oN="__reactEvents$"+eh,XZ="__reactListeners$"+eh,ZZ="__reactHandles$"+eh;function bc(e){var t=e[li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oo]||r[li]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sT(e);e!==null;){if(r=e[li])return r;e=sT(e)}return t}e=r,r=e.parentNode}return null}function Mg(e){return e=e[li]||e[oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function jb(e){return e[ip]||null}var lN=[],ad=-1;function zl(e){return{current:e}}function Jt(e){0>ad||(e.current=lN[ad],lN[ad]=null,ad--)}function Wt(e,t){ad++,lN[ad]=e.current,e.current=t}var Tl={},Dn=zl(Tl),ua=zl(!1),Zc=Tl;function Jd(e,t){var r=e.type.contextTypes;if(!r)return Tl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function da(e){return e=e.childContextTypes,e!=null}function fx(){Jt(ua),Jt(Dn)}function iT(e,t,r){if(Dn.current!==Tl)throw Error(ue(168));Wt(Dn,t),Wt(ua,r)}function YL(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ue(108,DX(e)||"Unknown",a));return cr({},r,n)}function hx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tl,Zc=Dn.current,Wt(Dn,e),Wt(ua,ua.current),!0}function oT(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=YL(e,t,Zc),n.__reactInternalMemoizedMergedChildContext=e,Jt(ua),Jt(Dn),Wt(Dn,e)):Jt(ua),Wt(ua,r)}var qi=null,_b=!1,qj=!1;function XL(e){qi===null?qi=[e]:qi.push(e)}function QZ(e){_b=!0,XL(e)}function Ul(){if(!qj&&qi!==null){qj=!0;var e=0,t=Ct;try{var r=qi;for(Ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qi=null,_b=!1}catch(a){throw qi!==null&&(qi=qi.slice(e+1)),wL(r2,Ul),a}finally{Ct=t,qj=!1}}return null}var sd=[],id=0,mx=null,px=0,Ja=[],es=0,Qc=null,Yi=1,Xi="";function lc(e,t){sd[id++]=px,sd[id++]=mx,mx=e,px=t}function ZL(e,t,r){Ja[es++]=Yi,Ja[es++]=Xi,Ja[es++]=Qc,Qc=e;var n=Yi;e=Xi;var a=32-Ls(n)-1;n&=~(1<<a),r+=1;var s=32-Ls(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Yi=1<<32-Ls(t)+a|r<<a|n,Xi=s+e}else Yi=1<<s|r<<a|n,Xi=e}function d2(e){e.return!==null&&(lc(e,1),ZL(e,1,0))}function f2(e){for(;e===mx;)mx=sd[--id],sd[id]=null,px=sd[--id],sd[id]=null;for(;e===Qc;)Qc=Ja[--es],Ja[es]=null,Xi=Ja[--es],Ja[es]=null,Yi=Ja[--es],Ja[es]=null}var Da=null,Ma=null,tr=!1,Rs=null;function QL(e,t){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Da=e,Ma=bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Da=e,Ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qc!==null?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Da=e,Ma=null,!0):!1;default:return!1}}function cN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uN(e){if(tr){var t=Ma;if(t){var r=t;if(!lT(e,t)){if(cN(e))throw Error(ue(418));t=bl(r.nextSibling);var n=Da;t&&lT(e,t)?QL(n,r):(e.flags=e.flags&-4097|2,tr=!1,Da=e)}}else{if(cN(e))throw Error(ue(418));e.flags=e.flags&-4097|2,tr=!1,Da=e}}}function cT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Da=e}function Lv(e){if(e!==Da)return!1;if(!tr)return cT(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sN(e.type,e.memoizedProps)),t&&(t=Ma)){if(cN(e))throw JL(),Error(ue(418));for(;t;)QL(e,t),t=bl(t.nextSibling)}if(cT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ma=bl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ma=null}}else Ma=Da?bl(e.stateNode.nextSibling):null;return!0}function JL(){for(var e=Ma;e;)e=bl(e.nextSibling)}function ef(){Ma=Da=null,tr=!1}function h2(e){Rs===null?Rs=[e]:Rs.push(e)}var JZ=wo.ReactCurrentBatchConfig;function Wh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Fv(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uT(e){var t=e._init;return t(e._payload)}function eF(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=Nl(b,y),b.index=0,b.sibling=null,b}function s(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,j){return y===null||y.tag!==6?(y=Jj(w,b.mode,j),y.return=b,y):(y=a(y,w),y.return=b,y)}function c(b,y,w,j){var _=w.type;return _===Ju?d(b,y,w.props.children,j,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wo&&uT(_)===y.type)?(j=a(y,w.props),j.ref=Wh(b,y,w),j.return=b,j):(j=Fy(w.type,w.key,w.props,null,b.mode,j),j.ref=Wh(b,y,w),j.return=b,j)}function u(b,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=e1(w,b.mode,j),y.return=b,y):(y=a(y,w.children||[]),y.return=b,y)}function d(b,y,w,j,_){return y===null||y.tag!==7?(y=Vc(w,b.mode,j,_),y.return=b,y):(y=a(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jj(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ev:return w=Fy(y.type,y.key,y.props,null,b.mode,w),w.ref=Wh(b,null,y),w.return=b,w;case Qu:return y=e1(y,b.mode,w),y.return=b,y;case Wo:var j=y._init;return f(b,j(y._payload),w)}if(dm(y)||Fh(y))return y=Vc(y,b.mode,w,null),y.return=b,y;Fv(b,y)}return null}function h(b,y,w,j){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(b,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ev:return w.key===_?c(b,y,w,j):null;case Qu:return w.key===_?u(b,y,w,j):null;case Wo:return _=w._init,h(b,y,_(w._payload),j)}if(dm(w)||Fh(w))return _!==null?null:d(b,y,w,j,null);Fv(b,w)}return null}function m(b,y,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(y,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ev:return b=b.get(j.key===null?w:j.key)||null,c(y,b,j,_);case Qu:return b=b.get(j.key===null?w:j.key)||null,u(y,b,j,_);case Wo:var N=j._init;return m(b,y,w,N(j._payload),_)}if(dm(j)||Fh(j))return b=b.get(w)||null,d(y,b,j,_,null);Fv(y,j)}return null}function v(b,y,w,j){for(var _=null,N=null,S=y,k=y=0,C=null;S!==null&&k<w.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var A=h(b,S,w[k],j);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(b,S),y=s(A,y,k),N===null?_=A:N.sibling=A,N=A,S=C}if(k===w.length)return r(b,S),tr&&lc(b,k),_;if(S===null){for(;k<w.length;k++)S=f(b,w[k],j),S!==null&&(y=s(S,y,k),N===null?_=S:N.sibling=S,N=S);return tr&&lc(b,k),_}for(S=n(b,S);k<w.length;k++)C=m(S,b,k,w[k],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),y=s(C,y,k),N===null?_=C:N.sibling=C,N=C);return e&&S.forEach(function(E){return t(b,E)}),tr&&lc(b,k),_}function g(b,y,w,j){var _=Fh(w);if(typeof _!="function")throw Error(ue(150));if(w=_.call(w),w==null)throw Error(ue(151));for(var N=_=null,S=y,k=y=0,C=null,A=w.next();S!==null&&!A.done;k++,A=w.next()){S.index>k?(C=S,S=null):C=S.sibling;var E=h(b,S,A.value,j);if(E===null){S===null&&(S=C);break}e&&S&&E.alternate===null&&t(b,S),y=s(E,y,k),N===null?_=E:N.sibling=E,N=E,S=C}if(A.done)return r(b,S),tr&&lc(b,k),_;if(S===null){for(;!A.done;k++,A=w.next())A=f(b,A.value,j),A!==null&&(y=s(A,y,k),N===null?_=A:N.sibling=A,N=A);return tr&&lc(b,k),_}for(S=n(b,S);!A.done;k++,A=w.next())A=m(S,b,k,A.value,j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),y=s(A,y,k),N===null?_=A:N.sibling=A,N=A);return e&&S.forEach(function(P){return t(b,P)}),tr&&lc(b,k),_}function x(b,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Ju&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ev:e:{for(var _=w.key,N=y;N!==null;){if(N.key===_){if(_=w.type,_===Ju){if(N.tag===7){r(b,N.sibling),y=a(N,w.props.children),y.return=b,b=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wo&&uT(_)===N.type){r(b,N.sibling),y=a(N,w.props),y.ref=Wh(b,N,w),y.return=b,b=y;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===Ju?(y=Vc(w.props.children,b.mode,j,w.key),y.return=b,b=y):(j=Fy(w.type,w.key,w.props,null,b.mode,j),j.ref=Wh(b,y,w),j.return=b,b=j)}return o(b);case Qu:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=a(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=e1(w,b.mode,j),y.return=b,b=y}return o(b);case Wo:return N=w._init,x(b,y,N(w._payload),j)}if(dm(w))return v(b,y,w,j);if(Fh(w))return g(b,y,w,j);Fv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,w),y.return=b,b=y):(r(b,y),y=Jj(w,b.mode,j),y.return=b,b=y),o(b)):r(b,y)}return x}var tf=eF(!0),tF=eF(!1),gx=zl(null),vx=null,od=null,m2=null;function p2(){m2=od=vx=null}function g2(e){var t=gx.current;Jt(gx),e._currentValue=t}function dN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sd(e,t){vx=e,m2=od=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(oa=!0),e.firstContext=null)}function ds(e){var t=e._currentValue;if(m2!==e)if(e={context:e,memoizedValue:t,next:null},od===null){if(vx===null)throw Error(ue(308));od=e,vx.dependencies={lanes:0,firstContext:e}}else od=od.next=e;return t}var wc=null;function v2(e){wc===null?wc=[e]:wc.push(e)}function rF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,v2(t)):(r.next=a.next,a.next=r),t.interleaved=r,lo(e,n)}function lo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ho=!1;function y2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,lo(e,r)}return a=n.interleaved,a===null?(t.next=t,v2(n)):(t.next=a.next,a.next=t),n.interleaved=t,lo(e,r)}function My(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n2(e,r)}}function dT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yx(e,t,r,n){var a=e.updateQueue;Ho=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=cr({},f,h);break e;case 2:Ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);eu|=o,e.lanes=o,e.memoizedState=f}}function fT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var Rg={},vi=zl(Rg),op=zl(Rg),lp=zl(Rg);function jc(e){if(e===Rg)throw Error(ue(174));return e}function x2(e,t){switch(Wt(lp,t),Wt(op,e),Wt(vi,Rg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H_(t,e)}Jt(vi),Wt(vi,t)}function rf(){Jt(vi),Jt(op),Jt(lp)}function aF(e){jc(lp.current);var t=jc(vi.current),r=H_(t,e.type);t!==r&&(Wt(op,e),Wt(vi,r))}function b2(e){op.current===e&&(Jt(vi),Jt(op))}var ir=zl(0);function xx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kj=[];function w2(){for(var e=0;e<Kj.length;e++)Kj[e]._workInProgressVersionPrimary=null;Kj.length=0}var Ry=wo.ReactCurrentDispatcher,Gj=wo.ReactCurrentBatchConfig,Jc=0,lr=null,Ur=null,rn=null,bx=!1,Cm=!1,cp=0,eQ=0;function kn(){throw Error(ue(321))}function j2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ws(e[r],t[r]))return!1;return!0}function _2(e,t,r,n,a,s){if(Jc=s,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ry.current=e===null||e.memoizedState===null?aQ:sQ,e=r(n,a),Cm){s=0;do{if(Cm=!1,cp=0,25<=s)throw Error(ue(301));s+=1,rn=Ur=null,t.updateQueue=null,Ry.current=iQ,e=r(n,a)}while(Cm)}if(Ry.current=wx,t=Ur!==null&&Ur.next!==null,Jc=0,rn=Ur=lr=null,bx=!1,t)throw Error(ue(300));return e}function N2(){var e=cp!==0;return cp=0,e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?lr.memoizedState=rn=e:rn=rn.next=e,rn}function fs(){if(Ur===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=rn===null?lr.memoizedState:rn.next;if(t!==null)rn=t,Ur=e;else{if(e===null)throw Error(ue(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},rn===null?lr.memoizedState=rn=e:rn=rn.next=e}return rn}function up(e,t){return typeof t=="function"?t(e):t}function Yj(e){var t=fs(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Ur,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Jc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,lr.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Ws(n,t.memoizedState)||(oa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,lr.lanes|=s,eu|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xj(e){var t=fs(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Ws(s,t.memoizedState)||(oa=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function sF(){}function iF(e,t){var r=lr,n=fs(),a=t(),s=!Ws(n.memoizedState,a);if(s&&(n.memoizedState=a,oa=!0),n=n.queue,S2(cF.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,dp(9,lF.bind(null,r,n,a,t),void 0,null),ln===null)throw Error(ue(349));Jc&30||oF(r,t,a)}return a}function oF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lF(e,t,r,n){t.value=r,t.getSnapshot=n,uF(t)&&dF(e)}function cF(e,t,r){return r(function(){uF(t)&&dF(e)})}function uF(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ws(e,r)}catch{return!0}}function dF(e){var t=lo(e,1);t!==null&&Fs(t,e,1,-1)}function hT(e){var t=ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:e},t.queue=e,e=e.dispatch=nQ.bind(null,lr,e),[t.memoizedState,e]}function dp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fF(){return fs().memoizedState}function Dy(e,t,r,n){var a=ai();lr.flags|=e,a.memoizedState=dp(1|t,r,void 0,n===void 0?null:n)}function Nb(e,t,r,n){var a=fs();n=n===void 0?null:n;var s=void 0;if(Ur!==null){var o=Ur.memoizedState;if(s=o.destroy,n!==null&&j2(n,o.deps)){a.memoizedState=dp(t,r,s,n);return}}lr.flags|=e,a.memoizedState=dp(1|t,r,s,n)}function mT(e,t){return Dy(8390656,8,e,t)}function S2(e,t){return Nb(2048,8,e,t)}function hF(e,t){return Nb(4,2,e,t)}function mF(e,t){return Nb(4,4,e,t)}function pF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gF(e,t,r){return r=r!=null?r.concat([e]):null,Nb(4,4,pF.bind(null,t,e),r)}function C2(){}function vF(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&j2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yF(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&j2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xF(e,t,r){return Jc&21?(Ws(r,t)||(r=NL(),lr.lanes|=r,eu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,oa=!0),e.memoizedState=r)}function tQ(e,t){var r=Ct;Ct=r!==0&&4>r?r:4,e(!0);var n=Gj.transition;Gj.transition={};try{e(!1),t()}finally{Ct=r,Gj.transition=n}}function bF(){return fs().memoizedState}function rQ(e,t,r){var n=_l(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wF(e))jF(t,r);else if(r=rF(e,t,r,n),r!==null){var a=Yn();Fs(r,e,n,a),_F(r,t,n)}}function nQ(e,t,r){var n=_l(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wF(e))jF(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ws(l,o)){var c=t.interleaved;c===null?(a.next=a,v2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=rF(e,t,a,n),r!==null&&(a=Yn(),Fs(r,e,n,a),_F(r,t,n))}}function wF(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function jF(e,t){Cm=bx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _F(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n2(e,r)}}var wx={readContext:ds,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},aQ={readContext:ds,useCallback:function(e,t){return ai().memoizedState=[e,t===void 0?null:t],e},useContext:ds,useEffect:mT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dy(4194308,4,pF.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dy(4,2,e,t)},useMemo:function(e,t){var r=ai();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ai();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rQ.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=ai();return e={current:e},t.memoizedState=e},useState:hT,useDebugValue:C2,useDeferredValue:function(e){return ai().memoizedState=e},useTransition:function(){var e=hT(!1),t=e[0];return e=tQ.bind(null,e[1]),ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,a=ai();if(tr){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),ln===null)throw Error(ue(349));Jc&30||oF(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,mT(cF.bind(null,n,s,e),[e]),n.flags|=2048,dp(9,lF.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ai(),t=ln.identifierPrefix;if(tr){var r=Xi,n=Yi;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sQ={readContext:ds,useCallback:vF,useContext:ds,useEffect:S2,useImperativeHandle:gF,useInsertionEffect:hF,useLayoutEffect:mF,useMemo:yF,useReducer:Yj,useRef:fF,useState:function(){return Yj(up)},useDebugValue:C2,useDeferredValue:function(e){var t=fs();return xF(t,Ur.memoizedState,e)},useTransition:function(){var e=Yj(up)[0],t=fs().memoizedState;return[e,t]},useMutableSource:sF,useSyncExternalStore:iF,useId:bF,unstable_isNewReconciler:!1},iQ={readContext:ds,useCallback:vF,useContext:ds,useEffect:S2,useImperativeHandle:gF,useInsertionEffect:hF,useLayoutEffect:mF,useMemo:yF,useReducer:Xj,useRef:fF,useState:function(){return Xj(up)},useDebugValue:C2,useDeferredValue:function(e){var t=fs();return Ur===null?t.memoizedState=e:xF(t,Ur.memoizedState,e)},useTransition:function(){var e=Xj(up)[0],t=fs().memoizedState;return[e,t]},useMutableSource:sF,useSyncExternalStore:iF,useId:bF,unstable_isNewReconciler:!1};function Cs(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sb={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=_l(e),s=to(n,a);s.payload=t,r!=null&&(s.callback=r),t=wl(e,s,a),t!==null&&(Fs(t,e,a,n),My(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=_l(e),s=to(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=wl(e,s,a),t!==null&&(Fs(t,e,a,n),My(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=_l(e),a=to(r,n);a.tag=2,t!=null&&(a.callback=t),t=wl(e,a,n),t!==null&&(Fs(t,e,n,r),My(t,e,n))}};function pT(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!np(r,n)||!np(a,s):!0}function NF(e,t,r){var n=!1,a=Tl,s=t.contextType;return typeof s=="object"&&s!==null?s=ds(s):(a=da(t)?Zc:Dn.current,n=t.contextTypes,s=(n=n!=null)?Jd(e,a):Tl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function gT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sb.enqueueReplaceState(t,t.state,null)}function hN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},y2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=ds(s):(s=da(t)?Zc:Dn.current,a.context=Jd(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(fN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sb.enqueueReplaceState(a,a.state,null),yx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function nf(e,t){try{var r="",n=t;do r+=RX(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Zj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oQ=typeof WeakMap=="function"?WeakMap:Map;function SF(e,t,r){r=to(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_x||(_x=!0,NN=n),mN(e,t)},r}function CF(e,t,r){r=to(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){mN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mN(e,t),typeof n!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function vT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=wQ.bind(null,e,t,r),t.then(e,e))}function yT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=to(-1,1),t.tag=2,wl(r,t,1))),r.lanes|=1),e)}var lQ=wo.ReactCurrentOwner,oa=!1;function Ln(e,t,r,n){t.child=e===null?tF(t,null,r,n):tf(t,e.child,r,n)}function bT(e,t,r,n,a){r=r.render;var s=t.ref;return Sd(t,a),n=_2(e,t,r,n,s,a),r=N2(),e!==null&&!oa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,co(e,t,a)):(tr&&r&&d2(t),t.flags|=1,Ln(e,t,n,a),t.child)}function wT(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!R2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,kF(e,t,s,n,a)):(e=Fy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:np,r(o,n)&&e.ref===t.ref)return co(e,t,a)}return t.flags|=1,e=Nl(s,n),e.ref=t.ref,e.return=t,t.child=e}function kF(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(np(s,n)&&e.ref===t.ref)if(oa=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(oa=!0);else return t.lanes=e.lanes,co(e,t,a)}return pN(e,t,r,n,a)}function EF(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(cd,Ca),Ca|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(cd,Ca),Ca|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wt(cd,Ca),Ca|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Wt(cd,Ca),Ca|=n;return Ln(e,t,a,r),t.child}function AF(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pN(e,t,r,n,a){var s=da(r)?Zc:Dn.current;return s=Jd(t,s),Sd(t,a),r=_2(e,t,r,n,s,a),n=N2(),e!==null&&!oa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,co(e,t,a)):(tr&&n&&d2(t),t.flags|=1,Ln(e,t,r,a),t.child)}function jT(e,t,r,n,a){if(da(r)){var s=!0;hx(t)}else s=!1;if(Sd(t,a),t.stateNode===null)Iy(e,t),NF(t,r,n),hN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ds(u):(u=da(r)?Zc:Dn.current,u=Jd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&gT(t,o,n,u),Ho=!1;var h=t.memoizedState;o.state=h,yx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ua.current||Ho?(typeof d=="function"&&(fN(t,r,d,n),c=t.memoizedState),(l=Ho||pT(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,nF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cs(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ds(c):(c=da(r)?Zc:Dn.current,c=Jd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&gT(t,o,n,c),Ho=!1,h=t.memoizedState,o.state=h,yx(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||ua.current||Ho?(typeof m=="function"&&(fN(t,r,m,n),v=t.memoizedState),(u=Ho||pT(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return gN(e,t,r,n,s,a)}function gN(e,t,r,n,a,s){AF(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&oT(t,r,!1),co(e,t,s);n=t.stateNode,lQ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=tf(t,e.child,null,s),t.child=tf(t,null,l,s)):Ln(e,t,l,s),t.memoizedState=n.state,a&&oT(t,r,!0),t.child}function PF(e){var t=e.stateNode;t.pendingContext?iT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iT(e,t.context,!1),x2(e,t.containerInfo)}function _T(e,t,r,n,a){return ef(),h2(a),t.flags|=256,Ln(e,t,r,n),t.child}var vN={dehydrated:null,treeContext:null,retryLane:0};function yN(e){return{baseLanes:e,cachePool:null,transitions:null}}function OF(e,t,r){var n=t.pendingProps,a=ir.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wt(ir,a&1),e===null)return uN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Eb(o,n,0,null),e=Vc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yN(r),t.memoizedState=vN,e):k2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return cQ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Nl(l,s):(s=Vc(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?yN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=vN,n}return s=e.child,e=s.sibling,n=Nl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function k2(e,t){return t=Eb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bv(e,t,r,n){return n!==null&&h2(n),tf(t,e.child,null,r),e=k2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cQ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Zj(Error(ue(422))),Bv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Eb({mode:"visible",children:n.children},a,0,null),s=Vc(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&tf(t,e.child,null,o),t.child.memoizedState=yN(o),t.memoizedState=vN,s);if(!(t.mode&1))return Bv(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ue(419)),n=Zj(s,n,void 0),Bv(e,t,o,n)}if(l=(o&e.childLanes)!==0,oa||l){if(n=ln,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,lo(e,a),Fs(n,e,a,-1))}return M2(),n=Zj(Error(ue(421))),Bv(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jQ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ma=bl(a.nextSibling),Da=t,tr=!0,Rs=null,e!==null&&(Ja[es++]=Yi,Ja[es++]=Xi,Ja[es++]=Qc,Yi=e.id,Xi=e.overflow,Qc=t),t=k2(t,n.children),t.flags|=4096,t)}function NT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),dN(e.return,t,r)}function Qj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function TF(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ln(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NT(e,r,t);else if(e.tag===19)NT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Qj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Qj(t,!0,r,null,s);break;case"together":Qj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function co(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Nl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uQ(e,t,r){switch(t.tag){case 3:PF(t),ef();break;case 5:aF(t);break;case 1:da(t.type)&&hx(t);break;case 4:x2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Wt(gx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?OF(e,t,r):(Wt(ir,ir.current&1),e=co(e,t,r),e!==null?e.sibling:null);Wt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TF(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,EF(e,t,r)}return co(e,t,r)}var MF,xN,RF,DF;MF=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xN=function(){};RF=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jc(vi.current);var s=null;switch(r){case"input":a=z_(e,a),n=z_(e,n),s=[];break;case"select":a=cr({},a,{value:void 0}),n=cr({},n,{value:void 0}),s=[];break;case"textarea":a=W_(e,a),n=W_(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=dx)}q_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};DF=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hh(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dQ(e,t,r){var n=t.pendingProps;switch(f2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return da(t.type)&&fx(),En(t),null;case 3:return n=t.stateNode,rf(),Jt(ua),Jt(Dn),w2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rs!==null&&(kN(Rs),Rs=null))),xN(e,t),En(t),null;case 5:b2(t);var a=jc(lp.current);if(r=t.type,e!==null&&t.stateNode!=null)RF(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return En(t),null}if(e=jc(vi.current),Lv(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[li]=t,n[ip]=s,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<hm.length;a++)Xt(hm[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":MO(n,s),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xt("invalid",n);break;case"textarea":DO(n,s),Xt("invalid",n)}q_(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&$v(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$v(n.textContent,l,e),a=["children",""+l]):Xm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",n)}switch(r){case"input":Av(n),RO(n,s,!0);break;case"textarea":Av(n),IO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=dx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[li]=t,e[ip]=n,MF(e,t,!1,!1),t.stateNode=e;e:{switch(o=K_(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),a=n;break;case"iframe":case"object":case"embed":Xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<hm.length;a++)Xt(hm[a],e);a=n;break;case"source":Xt("error",e),a=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),a=n;break;case"details":Xt("toggle",e),a=n;break;case"input":MO(e,n),a=z_(e,n),Xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=cr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":DO(e,n),a=W_(e,n),Xt("invalid",e);break;default:a=n}q_(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?fL(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uL(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zm(e,c):typeof c=="number"&&Zm(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xm.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Xt("scroll",e):c!=null&&Zk(e,s,c,o))}switch(r){case"input":Av(e),RO(e,n,!1);break;case"textarea":Av(e),IO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ol(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?wd(e,!!n.multiple,s,!1):n.defaultValue!=null&&wd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=dx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)DF(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=jc(lp.current),jc(vi.current),Lv(t)){if(n=t.stateNode,r=t.memoizedProps,n[li]=t,(s=n.nodeValue!==r)&&(e=Da,e!==null))switch(e.tag){case 3:$v(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$v(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[li]=t,t.stateNode=n}return En(t),null;case 13:if(Jt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&Ma!==null&&t.mode&1&&!(t.flags&128))JL(),ef(),t.flags|=98560,s=!1;else if(s=Lv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ue(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[li]=t}else ef(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),s=!1}else Rs!==null&&(kN(Rs),Rs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Kr===0&&(Kr=3):M2())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return rf(),xN(e,t),e===null&&ap(t.stateNode.containerInfo),En(t),null;case 10:return g2(t.type._context),En(t),null;case 17:return da(t.type)&&fx(),En(t),null;case 19:if(Jt(ir),s=t.memoizedState,s===null)return En(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Hh(s,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xx(e),o!==null){for(t.flags|=128,Hh(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(ir,ir.current&1|2),t.child}e=e.sibling}s.tail!==null&&Nr()>af&&(t.flags|=128,n=!0,Hh(s,!1),t.lanes=4194304)}else{if(!n)if(e=xx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tr)return En(t),null}else 2*Nr()-s.renderingStartTime>af&&r!==1073741824&&(t.flags|=128,n=!0,Hh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Nr(),t.sibling=null,r=ir.current,Wt(ir,n?r&1|2:r&1),t):(En(t),null);case 22:case 23:return T2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ca&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function fQ(e,t){switch(f2(t),t.tag){case 1:return da(t.type)&&fx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rf(),Jt(ua),Jt(Dn),w2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b2(t),null;case 13:if(Jt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));ef()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(ir),null;case 4:return rf(),null;case 10:return g2(t.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var zv=!1,Tn=!1,hQ=typeof WeakSet=="function"?WeakSet:Set,we=null;function ld(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function bN(e,t,r){try{r()}catch(n){vr(e,t,n)}}var ST=!1;function mQ(e,t){if(nN=lx,e=BL(),u2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(aN={focusedElem:e,selectionRange:r},lx=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Cs(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(j){vr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return v=ST,ST=!1,v}function km(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&bN(t,r,s)}a=a.next}while(a!==n)}}function Cb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function IF(e){var t=e.alternate;t!==null&&(e.alternate=null,IF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[li],delete t[ip],delete t[oN],delete t[XZ],delete t[ZZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $F(e){return e.tag===5||e.tag===3||e.tag===4}function CT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$F(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dx));else if(n!==4&&(e=e.child,e!==null))for(jN(e,t,r),e=e.sibling;e!==null;)jN(e,t,r),e=e.sibling}function _N(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_N(e,t,r),e=e.sibling;e!==null;)_N(e,t,r),e=e.sibling}var yn=null,Ps=!1;function Io(e,t,r){for(r=r.child;r!==null;)LF(e,t,r),r=r.sibling}function LF(e,t,r){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(yb,r)}catch{}switch(r.tag){case 5:Tn||ld(r,t);case 6:var n=yn,a=Ps;yn=null,Io(e,t,r),yn=n,Ps=a,yn!==null&&(Ps?(e=yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yn.removeChild(r.stateNode));break;case 18:yn!==null&&(Ps?(e=yn,r=r.stateNode,e.nodeType===8?Hj(e.parentNode,r):e.nodeType===1&&Hj(e,r),tp(e)):Hj(yn,r.stateNode));break;case 4:n=yn,a=Ps,yn=r.stateNode.containerInfo,Ps=!0,Io(e,t,r),yn=n,Ps=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bN(r,t,o),a=a.next}while(a!==n)}Io(e,t,r);break;case 1:if(!Tn&&(ld(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,t,l)}Io(e,t,r);break;case 21:Io(e,t,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,Io(e,t,r),Tn=n):Io(e,t,r);break;default:Io(e,t,r)}}function kT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hQ),t.forEach(function(n){var a=_Q.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function xs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,Ps=!1;break e;case 3:yn=l.stateNode.containerInfo,Ps=!0;break e;case 4:yn=l.stateNode.containerInfo,Ps=!0;break e}l=l.return}if(yn===null)throw Error(ue(160));LF(s,o,a),yn=null,Ps=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){vr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FF(t,e),t=t.sibling}function FF(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xs(t,e),ni(e),n&4){try{km(3,e,e.return),Cb(3,e)}catch(g){vr(e,e.return,g)}try{km(5,e,e.return)}catch(g){vr(e,e.return,g)}}break;case 1:xs(t,e),ni(e),n&512&&r!==null&&ld(r,r.return);break;case 5:if(xs(t,e),ni(e),n&512&&r!==null&&ld(r,r.return),e.flags&32){var a=e.stateNode;try{Zm(a,"")}catch(g){vr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&oL(a,s),K_(l,o);var u=K_(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?fL(a,f):d==="dangerouslySetInnerHTML"?uL(a,f):d==="children"?Zm(a,f):Zk(a,d,f,u)}switch(l){case"input":U_(a,s);break;case"textarea":lL(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?wd(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?wd(a,!!s.multiple,s.defaultValue,!0):wd(a,!!s.multiple,s.multiple?[]:"",!1))}a[ip]=s}catch(g){vr(e,e.return,g)}}break;case 6:if(xs(t,e),ni(e),n&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){vr(e,e.return,g)}}break;case 3:if(xs(t,e),ni(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tp(t.containerInfo)}catch(g){vr(e,e.return,g)}break;case 4:xs(t,e),ni(e);break;case 13:xs(t,e),ni(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(P2=Nr())),n&4&&kT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tn=(u=Tn)||d,xs(t,e),Tn=u):xs(t,e),ni(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:km(4,h,h.return);break;case 1:ld(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){vr(n,r,g)}}break;case 5:ld(h,h.return);break;case 22:if(h.memoizedState!==null){AT(f);continue}}m!==null?(m.return=h,we=m):AT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dL("display",o))}catch(g){vr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){vr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xs(t,e),ni(e),n&4&&kT(e);break;case 21:break;default:xs(t,e),ni(e)}}function ni(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($F(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Zm(a,""),n.flags&=-33);var s=CT(e);_N(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=CT(e);jN(e,l,o);break;default:throw Error(ue(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pQ(e,t,r){we=e,BF(e)}function BF(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var a=we,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||zv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=zv;var u=Tn;if(zv=o,(Tn=c)&&!u)for(we=a;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?PT(a):c!==null?(c.return=o,we=c):PT(a);for(;s!==null;)we=s,BF(s),s=s.sibling;we=a,zv=l,Tn=u}ET(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,we=s):ET(e)}}function ET(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Cb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Cs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fT(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fT(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Tn||t.flags&512&&wN(t)}catch(h){vr(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function AT(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function PT(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cb(4,t)}catch(c){vr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){vr(t,a,c)}}var s=t.return;try{wN(t)}catch(c){vr(t,s,c)}break;case 5:var o=t.return;try{wN(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var gQ=Math.ceil,jx=wo.ReactCurrentDispatcher,E2=wo.ReactCurrentOwner,is=wo.ReactCurrentBatchConfig,gt=0,ln=null,Tr=null,wn=0,Ca=0,cd=zl(0),Kr=0,fp=null,eu=0,kb=0,A2=0,Em=null,aa=null,P2=0,af=1/0,Vi=null,_x=!1,NN=null,jl=null,Uv=!1,dl=null,Nx=0,Am=0,SN=null,$y=-1,Ly=0;function Yn(){return gt&6?Nr():$y!==-1?$y:$y=Nr()}function _l(e){return e.mode&1?gt&2&&wn!==0?wn&-wn:JZ.transition!==null?(Ly===0&&(Ly=NL()),Ly):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:OL(e.type)),e):1}function Fs(e,t,r,n){if(50<Am)throw Am=0,SN=null,Error(ue(185));Og(e,r,n),(!(gt&2)||e!==ln)&&(e===ln&&(!(gt&2)&&(kb|=r),Kr===4&&Zo(e,wn)),fa(e,n),r===1&&gt===0&&!(t.mode&1)&&(af=Nr()+500,_b&&Ul()))}function fa(e,t){var r=e.callbackNode;JX(e,t);var n=ox(e,e===ln?wn:0);if(n===0)r!==null&&FO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&FO(r),t===1)e.tag===0?QZ(OT.bind(null,e)):XL(OT.bind(null,e)),GZ(function(){!(gt&6)&&Ul()}),r=null;else{switch(SL(n)){case 1:r=r2;break;case 4:r=jL;break;case 16:r=ix;break;case 536870912:r=_L;break;default:r=ix}r=GF(r,zF.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zF(e,t){if($y=-1,Ly=0,gt&6)throw Error(ue(327));var r=e.callbackNode;if(Cd()&&e.callbackNode!==r)return null;var n=ox(e,e===ln?wn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sx(e,n);else{t=n;var a=gt;gt|=2;var s=VF();(ln!==e||wn!==t)&&(Vi=null,af=Nr()+500,Uc(e,t));do try{xQ();break}catch(l){UF(e,l)}while(!0);p2(),jx.current=s,gt=a,Tr!==null?t=0:(ln=null,wn=0,t=Kr)}if(t!==0){if(t===2&&(a=Q_(e),a!==0&&(n=a,t=CN(e,a))),t===1)throw r=fp,Uc(e,0),Zo(e,n),fa(e,Nr()),r;if(t===6)Zo(e,n);else{if(a=e.current.alternate,!(n&30)&&!vQ(a)&&(t=Sx(e,n),t===2&&(s=Q_(e),s!==0&&(n=s,t=CN(e,s))),t===1))throw r=fp,Uc(e,0),Zo(e,n),fa(e,Nr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:cc(e,aa,Vi);break;case 3:if(Zo(e,n),(n&130023424)===n&&(t=P2+500-Nr(),10<t)){if(ox(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=iN(cc.bind(null,e,aa,Vi),t);break}cc(e,aa,Vi);break;case 4:if(Zo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ls(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gQ(n/1960))-n,10<n){e.timeoutHandle=iN(cc.bind(null,e,aa,Vi),n);break}cc(e,aa,Vi);break;case 5:cc(e,aa,Vi);break;default:throw Error(ue(329))}}}return fa(e,Nr()),e.callbackNode===r?zF.bind(null,e):null}function CN(e,t){var r=Em;return e.current.memoizedState.isDehydrated&&(Uc(e,t).flags|=256),e=Sx(e,t),e!==2&&(t=aa,aa=r,t!==null&&kN(t)),e}function kN(e){aa===null?aa=e:aa.push.apply(aa,e)}function vQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ws(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zo(e,t){for(t&=~A2,t&=~kb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ls(t),n=1<<r;e[r]=-1,t&=~n}}function OT(e){if(gt&6)throw Error(ue(327));Cd();var t=ox(e,0);if(!(t&1))return fa(e,Nr()),null;var r=Sx(e,t);if(e.tag!==0&&r===2){var n=Q_(e);n!==0&&(t=n,r=CN(e,n))}if(r===1)throw r=fp,Uc(e,0),Zo(e,t),fa(e,Nr()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cc(e,aa,Vi),fa(e,Nr()),null}function O2(e,t){var r=gt;gt|=1;try{return e(t)}finally{gt=r,gt===0&&(af=Nr()+500,_b&&Ul())}}function tu(e){dl!==null&&dl.tag===0&&!(gt&6)&&Cd();var t=gt;gt|=1;var r=is.transition,n=Ct;try{if(is.transition=null,Ct=1,e)return e()}finally{Ct=n,is.transition=r,gt=t,!(gt&6)&&Ul()}}function T2(){Ca=cd.current,Jt(cd)}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KZ(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(f2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fx();break;case 3:rf(),Jt(ua),Jt(Dn),w2();break;case 5:b2(n);break;case 4:rf();break;case 13:Jt(ir);break;case 19:Jt(ir);break;case 10:g2(n.type._context);break;case 22:case 23:T2()}r=r.return}if(ln=e,Tr=e=Nl(e.current,null),wn=Ca=t,Kr=0,fp=null,A2=kb=eu=0,aa=Em=null,wc!==null){for(t=0;t<wc.length;t++)if(r=wc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}wc=null}return e}function UF(e,t){do{var r=Tr;try{if(p2(),Ry.current=wx,bx){for(var n=lr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bx=!1}if(Jc=0,rn=Ur=lr=null,Cm=!1,cp=0,E2.current=null,r===null||r.return===null){Kr=1,fp=t,Tr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=wn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yT(o);if(m!==null){m.flags&=-257,xT(m,o,l,s,t),m.mode&1&&vT(s,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){vT(s,u,t),M2();break e}c=Error(ue(426))}}else if(tr&&l.mode&1){var x=yT(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),xT(x,o,l,s,t),h2(nf(c,l));break e}}s=c=nf(c,l),Kr!==4&&(Kr=2),Em===null?Em=[s]:Em.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=SF(s,c,t);dT(s,b);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(jl===null||!jl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=CF(s,l,t);dT(s,j);break e}}s=s.return}while(s!==null)}HF(r)}catch(_){t=_,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(!0)}function VF(){var e=jx.current;return jx.current=wx,e===null?wx:e}function M2(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ln===null||!(eu&268435455)&&!(kb&268435455)||Zo(ln,wn)}function Sx(e,t){var r=gt;gt|=2;var n=VF();(ln!==e||wn!==t)&&(Vi=null,Uc(e,t));do try{yQ();break}catch(a){UF(e,a)}while(!0);if(p2(),gt=r,jx.current=n,Tr!==null)throw Error(ue(261));return ln=null,wn=0,Kr}function yQ(){for(;Tr!==null;)WF(Tr)}function xQ(){for(;Tr!==null&&!WX();)WF(Tr)}function WF(e){var t=KF(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,t===null?HF(e):Tr=t,E2.current=null}function HF(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fQ(r,t),r!==null){r.flags&=32767,Tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,Tr=null;return}}else if(r=dQ(r,t,Ca),r!==null){Tr=r;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);Kr===0&&(Kr=5)}function cc(e,t,r){var n=Ct,a=is.transition;try{is.transition=null,Ct=1,bQ(e,t,r,n)}finally{is.transition=a,Ct=n}return null}function bQ(e,t,r,n){do Cd();while(dl!==null);if(gt&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(eZ(e,s),e===ln&&(Tr=ln=null,wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uv||(Uv=!0,GF(ix,function(){return Cd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=is.transition,is.transition=null;var o=Ct;Ct=1;var l=gt;gt|=4,E2.current=null,mQ(e,r),FF(r,e),BZ(aN),lx=!!nN,aN=nN=null,e.current=r,pQ(r),HX(),gt=l,Ct=o,is.transition=s}else e.current=r;if(Uv&&(Uv=!1,dl=e,Nx=a),s=e.pendingLanes,s===0&&(jl=null),GX(r.stateNode),fa(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_x)throw _x=!1,e=NN,NN=null,e;return Nx&1&&e.tag!==0&&Cd(),s=e.pendingLanes,s&1?e===SN?Am++:(Am=0,SN=e):Am=0,Ul(),null}function Cd(){if(dl!==null){var e=SL(Nx),t=is.transition,r=Ct;try{if(is.transition=null,Ct=16>e?16:e,dl===null)var n=!1;else{if(e=dl,dl=null,Nx=0,gt&6)throw Error(ue(331));var a=gt;for(gt|=4,we=e.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:km(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(IF(d),d===u){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:km(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,we=b;break e}we=s.return}}var y=e.current;for(we=y;we!==null;){o=we;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,we=w;else e:for(o=y;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cb(9,l)}}catch(_){vr(l,l.return,_)}if(l===o){we=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,we=j;break e}we=l.return}}if(gt=a,Ul(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(yb,e)}catch{}n=!0}return n}finally{Ct=r,is.transition=t}}return!1}function TT(e,t,r){t=nf(r,t),t=SF(e,t,1),e=wl(e,t,1),t=Yn(),e!==null&&(Og(e,1,t),fa(e,t))}function vr(e,t,r){if(e.tag===3)TT(e,e,r);else for(;t!==null;){if(t.tag===3){TT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jl===null||!jl.has(n))){e=nf(r,e),e=CF(t,e,1),t=wl(t,e,1),e=Yn(),t!==null&&(Og(t,1,e),fa(t,e));break}}t=t.return}}function wQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,ln===e&&(wn&r)===r&&(Kr===4||Kr===3&&(wn&130023424)===wn&&500>Nr()-P2?Uc(e,0):A2|=r),fa(e,t)}function qF(e,t){t===0&&(e.mode&1?(t=Tv,Tv<<=1,!(Tv&130023424)&&(Tv=4194304)):t=1);var r=Yn();e=lo(e,t),e!==null&&(Og(e,t,r),fa(e,r))}function jQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qF(e,r)}function _Q(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),qF(e,r)}var KF;KF=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ua.current)oa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return oa=!1,uQ(e,t,r);oa=!!(e.flags&131072)}else oa=!1,tr&&t.flags&1048576&&ZL(t,px,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Iy(e,t),e=t.pendingProps;var a=Jd(t,Dn.current);Sd(t,r),a=_2(null,t,n,e,a,r);var s=N2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,da(n)?(s=!0,hx(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,y2(t),a.updater=Sb,t.stateNode=a,a._reactInternals=t,hN(t,n,e,r),t=gN(null,t,n,!0,s,r)):(t.tag=0,tr&&s&&d2(t),Ln(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Iy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SQ(n),e=Cs(n,e),a){case 0:t=pN(null,t,n,e,r);break e;case 1:t=jT(null,t,n,e,r);break e;case 11:t=bT(null,t,n,e,r);break e;case 14:t=wT(null,t,n,Cs(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cs(n,a),pN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cs(n,a),jT(e,t,n,a,r);case 3:e:{if(PF(t),e===null)throw Error(ue(387));n=t.pendingProps,s=t.memoizedState,a=s.element,nF(e,t),yx(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=nf(Error(ue(423)),t),t=_T(e,t,n,r,a);break e}else if(n!==a){a=nf(Error(ue(424)),t),t=_T(e,t,n,r,a);break e}else for(Ma=bl(t.stateNode.containerInfo.firstChild),Da=t,tr=!0,Rs=null,r=tF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ef(),n===a){t=co(e,t,r);break e}Ln(e,t,n,r)}t=t.child}return t;case 5:return aF(t),e===null&&uN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,sN(n,a)?o=null:s!==null&&sN(n,s)&&(t.flags|=32),AF(e,t),Ln(e,t,o,r),t.child;case 6:return e===null&&uN(t),null;case 13:return OF(e,t,r);case 4:return x2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tf(t,null,n,r):Ln(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cs(n,a),bT(e,t,n,a,r);case 7:return Ln(e,t,t.pendingProps,r),t.child;case 8:return Ln(e,t,t.pendingProps.children,r),t.child;case 12:return Ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Wt(gx,n._currentValue),n._currentValue=o,s!==null)if(Ws(s.value,o)){if(s.children===a.children&&!ua.current){t=co(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=to(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),dN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),dN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Sd(t,r),a=ds(a),n=n(a),t.flags|=1,Ln(e,t,n,r),t.child;case 14:return n=t.type,a=Cs(n,t.pendingProps),a=Cs(n.type,a),wT(e,t,n,a,r);case 15:return kF(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cs(n,a),Iy(e,t),t.tag=1,da(n)?(e=!0,hx(t)):e=!1,Sd(t,r),NF(t,n,a),hN(t,n,a,r),gN(null,t,n,!0,e,r);case 19:return TF(e,t,r);case 22:return EF(e,t,r)}throw Error(ue(156,t.tag))};function GF(e,t){return wL(e,t)}function NQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,r,n){return new NQ(e,t,r,n)}function R2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SQ(e){if(typeof e=="function")return R2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jk)return 11;if(e===e2)return 14}return 2}function Nl(e,t){var r=e.alternate;return r===null?(r=rs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fy(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")R2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ju:return Vc(r.children,a,s,t);case Qk:o=8,a|=8;break;case $_:return e=rs(12,r,t,a|2),e.elementType=$_,e.lanes=s,e;case L_:return e=rs(13,r,t,a),e.elementType=L_,e.lanes=s,e;case F_:return e=rs(19,r,t,a),e.elementType=F_,e.lanes=s,e;case aL:return Eb(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rL:o=10;break e;case nL:o=9;break e;case Jk:o=11;break e;case e2:o=14;break e;case Wo:o=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=rs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Vc(e,t,r,n){return e=rs(7,e,n,t),e.lanes=r,e}function Eb(e,t,r,n){return e=rs(22,e,n,t),e.elementType=aL,e.lanes=r,e.stateNode={isHidden:!1},e}function Jj(e,t,r){return e=rs(6,e,null,t),e.lanes=r,e}function e1(e,t,r){return t=rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rj(0),this.expirationTimes=Rj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function D2(e,t,r,n,a,s,o,l,c){return e=new CQ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=rs(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y2(s),e}function kQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YF(e){if(!e)return Tl;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(da(r))return YL(e,r,t)}return t}function XF(e,t,r,n,a,s,o,l,c){return e=D2(r,n,!0,e,a,s,o,l,c),e.context=YF(null),r=e.current,n=Yn(),a=_l(r),s=to(n,a),s.callback=t??null,wl(r,s,a),e.current.lanes=a,Og(e,a,n),fa(e,n),e}function Ab(e,t,r,n){var a=t.current,s=Yn(),o=_l(a);return r=YF(r),t.context===null?t.context=r:t.pendingContext=r,t=to(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wl(a,t,o),e!==null&&(Fs(e,a,o,s),My(e,a,o)),o}function Cx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I2(e,t){MT(e,t),(e=e.alternate)&&MT(e,t)}function EQ(){return null}var ZF=typeof reportError=="function"?reportError:function(e){console.error(e)};function $2(e){this._internalRoot=e}Pb.prototype.render=$2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Ab(e,t,null,null)};Pb.prototype.unmount=$2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tu(function(){Ab(null,e,null,null)}),t[oo]=null}};function Pb(e){this._internalRoot=e}Pb.prototype.unstable_scheduleHydration=function(e){if(e){var t=EL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xo.length&&t!==0&&t<Xo[r].priority;r++);Xo.splice(r,0,e),r===0&&PL(e)}};function L2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ob(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RT(){}function AQ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Cx(o);s.call(u)}}var o=XF(t,n,e,0,null,!1,!1,"",RT);return e._reactRootContainer=o,e[oo]=o.current,ap(e.nodeType===8?e.parentNode:e),tu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Cx(c);l.call(u)}}var c=D2(e,0,!1,null,null,!1,!1,"",RT);return e._reactRootContainer=c,e[oo]=c.current,ap(e.nodeType===8?e.parentNode:e),tu(function(){Ab(t,c,r,n)}),c}function Tb(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Cx(o);l.call(c)}}Ab(t,o,e,a)}else o=AQ(r,t,e,a,n);return Cx(o)}CL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fm(t.pendingLanes);r!==0&&(n2(t,r|1),fa(t,Nr()),!(gt&6)&&(af=Nr()+500,Ul()))}break;case 13:tu(function(){var n=lo(e,1);if(n!==null){var a=Yn();Fs(n,e,1,a)}}),I2(e,1)}};a2=function(e){if(e.tag===13){var t=lo(e,134217728);if(t!==null){var r=Yn();Fs(t,e,134217728,r)}I2(e,134217728)}};kL=function(e){if(e.tag===13){var t=_l(e),r=lo(e,t);if(r!==null){var n=Yn();Fs(r,e,t,n)}I2(e,t)}};EL=function(){return Ct};AL=function(e,t){var r=Ct;try{return Ct=e,t()}finally{Ct=r}};Y_=function(e,t,r){switch(t){case"input":if(U_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=jb(n);if(!a)throw Error(ue(90));iL(n),U_(n,a)}}}break;case"textarea":lL(e,r);break;case"select":t=r.value,t!=null&&wd(e,!!r.multiple,t,!1)}};pL=O2;gL=tu;var PQ={usingClientEntryPoint:!1,Events:[Mg,nd,jb,hL,mL,O2]},qh={findFiberByHostInstance:bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OQ={bundleType:qh.bundleType,version:qh.version,rendererPackageName:qh.rendererPackageName,rendererConfig:qh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xL(e),e===null?null:e.stateNode},findFiberByHostInstance:qh.findFiberByHostInstance||EQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vv.isDisabled&&Vv.supportsFiber)try{yb=Vv.inject(OQ),gi=Vv}catch{}}za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PQ;za.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L2(t))throw Error(ue(200));return kQ(e,t,null,r)};za.createRoot=function(e,t){if(!L2(e))throw Error(ue(299));var r=!1,n="",a=ZF;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=D2(e,1,!1,null,null,r,!1,n,a),e[oo]=t.current,ap(e.nodeType===8?e.parentNode:e),new $2(t)};za.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=xL(t),e=e===null?null:e.stateNode,e};za.flushSync=function(e){return tu(e)};za.hydrate=function(e,t,r){if(!Ob(t))throw Error(ue(200));return Tb(null,e,t,!0,r)};za.hydrateRoot=function(e,t,r){if(!L2(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=ZF;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=XF(t,null,e,1,r??null,a,!1,s,o),e[oo]=t.current,ap(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Pb(t)};za.render=function(e,t,r){if(!Ob(t))throw Error(ue(200));return Tb(null,e,t,!1,r)};za.unmountComponentAtNode=function(e){if(!Ob(e))throw Error(ue(40));return e._reactRootContainer?(tu(function(){Tb(null,null,e,!1,function(){e._reactRootContainer=null,e[oo]=null})}),!0):!1};za.unstable_batchedUpdates=O2;za.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ob(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Tb(e,t,r,!1,n)};za.version="18.3.1-next-f1338f8080-20240426";function QF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QF)}catch(e){console.error(e)}}QF(),Q3.exports=za;var ns=Q3.exports;const JF=vt(ns);var eB,DT=ns;eB=DT.createRoot,DT.hydrateRoot;const TQ=1,MQ=1e6;let t1=0;function RQ(){return t1=(t1+1)%Number.MAX_SAFE_INTEGER,t1.toString()}const r1=new Map,IT=e=>{if(r1.has(e))return;const t=setTimeout(()=>{r1.delete(e),Pm({type:"REMOVE_TOAST",toastId:e})},MQ);r1.set(e,t)},DQ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,TQ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?IT(r):e.toasts.forEach(n=>{IT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},By=[];let zy={toasts:[]};function Pm(e){zy=DQ(zy,e),By.forEach(t=>{t(zy)})}function IQ({...e}){const t=RQ(),r=a=>Pm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Pm({type:"DISMISS_TOAST",toastId:t});return Pm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ke(){const[e,t]=p.useState(zy);return p.useEffect(()=>(By.push(t),()=>{const r=By.indexOf(t);r>-1&&By.splice(r,1)}),[e]),{...e,toast:IQ,dismiss:r=>Pm({type:"DISMISS_TOAST",toastId:r})}}function le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function $T(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mb(...e){return t=>{let r=!1;const n=e.map(a=>{const s=$T(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():$T(e[a],null)}}}}function Oe(...e){return p.useCallback(Mb(...e),e)}function $Q(e,t){const r=p.createContext(t),n=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Dr(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:x,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=p.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,LQ(a,...t)]}function LQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ru(e){const t=BQ(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(zQ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var FQ=ru("Slot");function BQ(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=VQ(a),l=UQ(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Mb(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tB=Symbol("radix.slottable");function rB(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tB,t}function zQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tB}function UQ(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function VQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function th(e){const t=e+"CollectionProvider",[r,n]=Dr(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:b}=g,y=L.useRef(null),w=L.useRef(new Map).current;return i.jsx(a,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=ru(l),u=L.forwardRef((g,x)=>{const{scope:b,children:y}=g,w=s(l,b),j=Oe(x,w.collectionRef);return i.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ru(d),m=L.forwardRef((g,x)=>{const{scope:b,children:y,...w}=g,j=L.useRef(null),_=Oe(x,j),N=s(d,b);return L.useEffect(()=>(N.itemMap.set(j,{ref:j,...w}),()=>void N.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:_,children:y})});m.displayName=d;function v(g){const x=s(e+"CollectionConsumer",g);return L.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,S)=>w.indexOf(N.ref.current)-w.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var WQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=WQ.reduce((e,t)=>{const r=ru(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F2(e,t){e&&ns.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function HQ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qQ="DismissableLayer",EN="dismissableLayer.update",KQ="dismissableLayer.pointerDownOutside",GQ="dismissableLayer.focusOutside",LT,nB=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rh=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(nB),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=Oe(t,S=>f(S)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(x),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=b,_=XQ(S=>{const k=S.target,C=[...u.branches].some(A=>A.contains(k));!j||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=ZQ(S=>{const k=S.target;[...u.branches].some(A=>A.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return HQ(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),FT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=LT)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),FT())},[d,u]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(EN,S),()=>document.removeEventListener(EN,S)},[]),i.jsx(me.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,N.onFocusCapture),onBlurCapture:le(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,_.onPointerDownCapture)})});rh.displayName=qQ;var YQ="DismissableLayerBranch",aB=p.forwardRef((e,t)=>{const r=p.useContext(nB),n=p.useRef(null),a=Oe(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(me.div,{...e,ref:a})});aB.displayName=YQ;function XQ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){sB(KQ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZQ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&sB(GQ,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FT(){const e=new CustomEvent(EN);document.dispatchEvent(e)}function sB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F2(a,s):a.dispatchEvent(s)}var QQ=rh,JQ=aB,br=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},eJ="Portal",Dg=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);br(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?JF.createPortal(i.jsx(me.div,{...n,ref:t}),o):null});Dg.displayName=eJ;function tJ(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var hn=e=>{const{present:t,children:r}=e,n=rJ(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=Oe(n.ref,nJ(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};hn.displayName="Presence";function rJ(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=tJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Wv(n.current);s.current=l==="mounted"?u:"none"},[l]),br(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Wv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),br(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Wv(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(s.current=Wv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Wv(e){return(e==null?void 0:e.animationName)||"none"}function nJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aJ=Gk[" useInsertionEffect ".trim().toString()]||br;function va({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=sJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=iJ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function sJ({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return aJ(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function iJ(e){return typeof e=="function"}var iB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oJ="VisuallyHidden",Rb=p.forwardRef((e,t)=>i.jsx(me.span,{...e,ref:t,style:{...iB,...e.style}}));Rb.displayName=oJ;var lJ=Rb,B2="ToastProvider",[z2,cJ,uJ]=th("Toast"),[oB]=Dr("Toast",[uJ]),[dJ,Db]=oB(B2),lB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${B2}\`. Expected non-empty \`string\`.`),i.jsx(z2.Provider,{scope:t,children:i.jsx(dJ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};lB.displayName=B2;var cB="ToastViewport",fJ=["F8"],AN="toast.viewportPause",PN="toast.viewportResume",uB=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=fJ,label:a="Notifications ({hotkey})",...s}=e,o=Db(cB,r),l=cJ(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Oe(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const x=b=>{var w;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),p.useEffect(()=>{const x=c.current,b=f.current;if(v&&x&&b){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(AN);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(PN);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!x.contains(N.relatedTarget)&&w()},_=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const j=w.ref.current,_=[j,...SJ(j)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const b=y=>{var _,N,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const k=document.activeElement,C=y.shiftKey;if(y.target===x&&C){(_=u.current)==null||_.focus();return}const P=g({tabbingDirection:C?"backwards":"forwards"}),F=P.findIndex(I=>I===k);n1(P.slice(F+1))?y.preventDefault():C?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,g]),i.jsxs(JQ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(ON,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});n1(x)}}),i.jsx(z2.Slot,{scope:r,children:i.jsx(me.ol,{tabIndex:-1,...s,ref:h})}),v&&i.jsx(ON,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});n1(x)}})]})});uB.displayName=cB;var dB="ToastFocusProxy",ON=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=Db(dB,r);return i.jsx(Rb,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});ON.displayName=dB;var Ig="Toast",hJ="toast.swipeStart",mJ="toast.swipeMove",pJ="toast.swipeCancel",gJ="toast.swipeEnd",fB=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l,c]=va({prop:n,defaultProp:a??!0,onChange:s,caller:Ig});return i.jsx(hn,{present:r||l,children:i.jsx(xJ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xr(e.onPause),onResume:xr(e.onResume),onSwipeStart:le(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:le(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});fB.displayName=Ig;var[vJ,yJ]=oB(Ig,{onClose(){}}),xJ=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,g=Db(Ig,r),[x,b]=p.useState(null),y=Oe(t,I=>b(I)),w=p.useRef(null),j=p.useRef(null),_=a||g.duration,N=p.useRef(0),S=p.useRef(_),k=p.useRef(0),{onToastAdd:C,onToastRemove:A}=g,E=xr(()=>{var z;(x==null?void 0:x.contains(document.activeElement))&&((z=g.viewport)==null||z.focus()),o()}),P=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(E,I))},[E]);p.useEffect(()=>{const I=g.viewport;if(I){const z=()=>{P(S.current),u==null||u()},O=()=>{const $=new Date().getTime()-N.current;S.current=S.current-$,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(AN,O),I.addEventListener(PN,z),()=>{I.removeEventListener(AN,O),I.removeEventListener(PN,z)}}},[g.viewport,_,c,u,P]),p.useEffect(()=>{s&&!g.isClosePausedRef.current&&P(_)},[s,_,g.isClosePausedRef,P]),p.useEffect(()=>(C(),()=>A()),[C,A]);const F=p.useMemo(()=>x?xB(x):null,[x]);return g.viewport?i.jsxs(i.Fragment,{children:[F&&i.jsx(bJ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),i.jsx(vJ,{scope:r,onClose:E,children:ns.createPortal(i.jsx(z2.ItemSlot,{scope:r,children:i.jsx(QQ,{asChild:!0,onEscapeKeyDown:le(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||E(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:le(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:le(e.onPointerMove,I=>{if(!w.current)return;const z=I.clientX-w.current.x,O=I.clientY-w.current.y,$=!!j.current,D=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=D?T(0,z):0,R=D?0:T(0,O),M=I.pointerType==="touch"?10:2,B={x:U,y:R},V={originalEvent:I,delta:B};$?(j.current=B,Hv(mJ,f,V,{discrete:!1})):BT(B,g.swipeDirection,M)?(j.current=B,Hv(hJ,d,V,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(z)>M||Math.abs(O)>M)&&(w.current=null)}),onPointerUp:le(e.onPointerUp,I=>{const z=j.current,O=I.target;if(O.hasPointerCapture(I.pointerId)&&O.releasePointerCapture(I.pointerId),j.current=null,w.current=null,z){const $=I.currentTarget,D={originalEvent:I,delta:z};BT(z,g.swipeDirection,g.swipeThreshold)?Hv(gJ,m,D,{discrete:!0}):Hv(pJ,h,D,{discrete:!0}),$.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),bJ=e=>{const{__scopeToast:t,children:r,...n}=e,a=Db(Ig,t),[s,o]=p.useState(!1),[l,c]=p.useState(!1);return _J(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Dg,{asChild:!0,children:i.jsx(Rb,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},wJ="ToastTitle",hB=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(me.div,{...n,ref:t})});hB.displayName=wJ;var jJ="ToastDescription",mB=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(me.div,{...n,ref:t})});mB.displayName=jJ;var pB="ToastAction",gB=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(yB,{altText:r,asChild:!0,children:i.jsx(U2,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pB}\`. Expected non-empty \`string\`.`),null)});gB.displayName=pB;var vB="ToastClose",U2=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=yJ(vB,r);return i.jsx(yB,{asChild:!0,children:i.jsx(me.button,{type:"button",...n,ref:t,onClick:le(e.onClick,a.onClose)})})});U2.displayName=vB;var yB=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function xB(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),NJ(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...xB(n))}}),t}function Hv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F2(a,s):a.dispatchEvent(s)}var BT=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function _J(e=()=>{}){const t=xr(e);br(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function NJ(e){return e.nodeType===e.ELEMENT_NODE}function SJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var CJ=lB,bB=uB,wB=fB,jB=hB,_B=mB,NB=gB,SB=U2;function CB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=CB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=CB(e))&&(n&&(n+=" "),n+=t);return n}const zT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,UT=Ge,$g=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return UT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=zT(d)||zT(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...s,...l}[g]):{...s,...l}[g]===x})?[...u,f,h]:u},[]);return UT(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...EJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kB("lucide",a),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=p.forwardRef(({className:n,...a},s)=>p.createElement(AJ,{ref:s,iconNode:t,className:kB(`lucide-${kJ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=se("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=se("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=se("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=se("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=se("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=se("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=se("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=se("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=se("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=se("Candy",[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z",key:"ue6khb"}],["path",{d:"M14 6.5v10",key:"5xnk7c"}],["path",{d:"M10 7.5v10",key:"1uew51"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1",key:"b9cp6k"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1",key:"5lney8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=se("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=se("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=se("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=se("Drum",[["path",{d:"m2 2 8 8",key:"1v6059"}],["path",{d:"m22 2-8 8",key:"173r8a"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5",key:"liohsx"}],["path",{d:"M7 13.4v7.9",key:"1yi6u9"}],["path",{d:"M12 14v8",key:"1tn2tj"}],["path",{d:"M17 13.4v7.9",key:"eqz2v3"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9",key:"1750ul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=se("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=se("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=se("GlassWater",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=se("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=se("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=se("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=se("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=se("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=se("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=se("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=se("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=se("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=se("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=se("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=se("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=se("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),J2="-",bee=e=>{const t=jee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(J2);return l[0]===""&&l.length!==1&&l.shift(),$B(l,t)||wee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$B=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?$B(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(J2);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},XT=/^\[(.+)\]$/,wee=e=>{if(XT.test(e)){const t=XT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Nee(Object.entries(e.classGroups),r).forEach(([s,o])=>{MN(o,n,s,t)}),n},MN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:ZT(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(_ee(a)){MN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{MN(o,ZT(t,s),r,n)})})},ZT=(e,t)=>{let r=e;return t.split(J2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_ee=e=>e.isThemeGetter,Nee=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,See=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},LB="!",Cee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===a&&(n||l.slice(x,x+s)===t)){c.push(l.slice(d,x)),d=x+s;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(LB),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},kee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Eee=e=>({cache:See(e.cacheSize),parseClassName:Cee(e),...bee(e)}),Aee=/\s+/,Pee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Aee);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=kee(d).join(":"),b=f?x+LB:x,y=b+g;if(s.includes(y))continue;s.push(y);const w=a(g,v);for(let j=0;j<w.length;++j){const _=w[j];s.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function Oee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=FB(t))&&(n&&(n+=" "),n+=r);return n}const FB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=FB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Tee(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Eee(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Pee(c,r);return a(c,d),d}return function(){return s(Oee.apply(null,arguments))}}const Yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},BB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mee=/^\d+\/\d+$/,Ree=new Set(["px","full","screen"]),Dee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Iee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$ee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Lee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>kd(e)||Ree.has(e)||Mee.test(e),$o=e=>nh(e,"length",Kee),kd=e=>!!e&&!Number.isNaN(Number(e)),a1=e=>nh(e,"number",kd),Kh=e=>!!e&&Number.isInteger(Number(e)),Bee=e=>e.endsWith("%")&&kd(e.slice(0,-1)),rt=e=>BB.test(e),Lo=e=>Dee.test(e),zee=new Set(["length","size","percentage"]),Uee=e=>nh(e,zee,zB),Vee=e=>nh(e,"position",zB),Wee=new Set(["image","url"]),Hee=e=>nh(e,Wee,Yee),qee=e=>nh(e,"",Gee),Gh=()=>!0,nh=(e,t,r)=>{const n=BB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Kee=e=>Iee.test(e)&&!$ee.test(e),zB=()=>!1,Gee=e=>Lee.test(e),Yee=e=>Fee.test(e),Xee=()=>{const e=Yt("colors"),t=Yt("spacing"),r=Yt("blur"),n=Yt("brightness"),a=Yt("borderColor"),s=Yt("borderRadius"),o=Yt("borderSpacing"),l=Yt("borderWidth"),c=Yt("contrast"),u=Yt("grayscale"),d=Yt("hueRotate"),f=Yt("invert"),h=Yt("gap"),m=Yt("gradientColorStops"),v=Yt("gradientColorStopPositions"),g=Yt("inset"),x=Yt("margin"),b=Yt("opacity"),y=Yt("padding"),w=Yt("saturate"),j=Yt("scale"),_=Yt("sepia"),N=Yt("skew"),S=Yt("space"),k=Yt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",rt,t],P=()=>[rt,t],F=()=>["",Li,$o],I=()=>["auto",kd,rt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",rt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[kd,rt];return{cacheSize:500,separator:":",theme:{colors:[Gh],spacing:[Li,$o],blur:["none","",Lo,rt],brightness:R(),borderColor:[e],borderRadius:["none","","full",Lo,rt],borderSpacing:P(),borderWidth:F(),contrast:R(),grayscale:T(),hueRotate:R(),invert:T(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Bee,$o],inset:E(),margin:E(),opacity:R(),padding:P(),saturate:R(),scale:R(),sepia:T(),skew:R(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),rt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kh,rt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Kh,rt]}],"grid-cols":[{"grid-cols":[Gh]}],"col-start-end":[{col:["auto",{span:["full",Kh,rt]},rt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Gh]}],"row-start-end":[{row:["auto",{span:[Kh,rt]},rt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",a1]}],"font-family":[{font:[Gh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",kd,a1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,$o]}],"underline-offset":[{"underline-offset":["auto",Li,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Vee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Li,rt]}],"outline-w":[{outline:[Li,$o]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Li,$o]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lo,qee]}],"shadow-color":[{shadow:[Gh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lo,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Kh,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,$o,a1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zee=Tee(Xee);function oe(...e){return Zee(Ge(e))}const Qee=CJ,UB=p.forwardRef(({className:e,...t},r)=>i.jsx(bB,{ref:r,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));UB.displayName=bB.displayName;const Jee=$g("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VB=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(wB,{ref:n,className:oe(Jee({variant:t}),e),...r}));VB.displayName=wB.displayName;const ete=p.forwardRef(({className:e,...t},r)=>i.jsx(NB,{ref:r,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));ete.displayName=NB.displayName;const WB=p.forwardRef(({className:e,...t},r)=>i.jsx(SB,{ref:r,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Tt,{className:"h-4 w-4"})}));WB.displayName=SB.displayName;const HB=p.forwardRef(({className:e,...t},r)=>i.jsx(jB,{ref:r,className:oe("text-sm font-semibold",e),...t}));HB.displayName=jB.displayName;const qB=p.forwardRef(({className:e,...t},r)=>i.jsx(_B,{ref:r,className:oe("text-sm opacity-90",e),...t}));qB.displayName=_B.displayName;function tte(){const{toasts:e}=Ke();return i.jsxs(Qee,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(VB,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(HB,{children:r}),n&&i.jsx(qB,{children:n})]}),a,i.jsx(WB,{})]},t)}),i.jsx(UB,{})]})}var QT=["light","dark"],rte="(prefers-color-scheme: dark)",nte=p.createContext(void 0),ate={setTheme:e=>{},themes:[]},ste=()=>{var e;return(e=p.useContext(nte))!=null?e:ate};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?QT.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,x=!0)=>{let b=o?o[v]:v,y=g?v+"|| ''":`'${b}'`,w="";return a&&x&&!g&&QT.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?g||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${rte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var ite=e=>{switch(e){case"success":return cte;case"info":return dte;case"warning":return ute;case"error":return fte;default:return null}},ote=Array(12).fill(0),lte=({visible:e,className:t})=>L.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},ote.map((r,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ute=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mte=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},RN=1,pte=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:RN++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],L.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(vte(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||RN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},na=new pte,gte=(e,t)=>{let r=(t==null?void 0:t.id)||RN++;return na.addToast({title:e,...t,id:r}),r},vte=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yte=gte,xte=()=>na.toasts,bte=()=>na.getActiveToasts(),bn=Object.assign(yte,{success:na.success,info:na.info,warning:na.warning,error:na.error,custom:na.custom,message:na.message,promise:na.promise,dismiss:na.dismiss,loading:na.loading},{getHistory:xte,getToasts:bte});function wte(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qv(e){return e.label!==void 0}var jte=3,_te="32px",Nte="16px",JT=4e3,Ste=356,Cte=14,kte=20,Ete=200;function bs(...e){return e.filter(Boolean).join(" ")}function Ate(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Pte=e=>{var t,r,n,a,s,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:g,setHeights:x,visibleToasts:b,heights:y,index:w,toasts:j,expanded:_,removeToast:N,defaultRichColors:S,closeButton:k,style:C,cancelButtonStyle:A,actionButtonStyle:E,className:P="",descriptionClassName:F="",duration:I,position:z,gap:O,loadingIcon:$,expandByDefault:D,classNames:T,icons:U,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:M}=e,[B,V]=L.useState(null),[q,J]=L.useState(null),[Y,te]=L.useState(!1),[Z,ne]=L.useState(!1),[ee,G]=L.useState(!1),[_e,ie]=L.useState(!1),[he,ke]=L.useState(!1),[Qe,et]=L.useState(0),[Ve,ht]=L.useState(0),Rt=L.useRef(m.duration||I||JT),mt=L.useRef(null),At=L.useRef(null),jr=w===0,Ir=w+1<=b,Nt=m.type,Dt=m.dismissible!==!1,Jn=m.className||"",ea=m.descriptionClassName||"",ja=L.useMemo(()=>y.findIndex(Ee=>Ee.toastId===m.id)||0,[y,m.id]),be=L.useMemo(()=>{var Ee;return(Ee=m.closeButton)!=null?Ee:k},[m.closeButton,k]),xt=L.useMemo(()=>m.duration||I||JT,[m.duration,I]),dr=L.useRef(0),We=L.useRef(0),$r=L.useRef(0),Q=L.useRef(null),[pe,Fe]=z.split("-"),st=L.useMemo(()=>y.reduce((Ee,Ue,tt)=>tt>=ja?Ee:Ee+Ue.height,0),[y,ja]),pt=mte(),ar=m.invert||h,ot=Nt==="loading";We.current=L.useMemo(()=>ja*O+st,[ja,st]),L.useEffect(()=>{Rt.current=xt},[xt]),L.useEffect(()=>{te(!0)},[]),L.useEffect(()=>{let Ee=At.current;if(Ee){let Ue=Ee.getBoundingClientRect().height;return ht(Ue),x(tt=>[{toastId:m.id,height:Ue,position:m.position},...tt]),()=>x(tt=>tt.filter(fr=>fr.toastId!==m.id))}},[x,m.id]),L.useLayoutEffect(()=>{if(!Y)return;let Ee=At.current,Ue=Ee.style.height;Ee.style.height="auto";let tt=Ee.getBoundingClientRect().height;Ee.style.height=Ue,ht(tt),x(fr=>fr.find(Jr=>Jr.toastId===m.id)?fr.map(Jr=>Jr.toastId===m.id?{...Jr,height:tt}:Jr):[{toastId:m.id,height:tt,position:m.position},...fr])},[Y,m.title,m.description,x,m.id]);let Ze=L.useCallback(()=>{ne(!0),et(We.current),x(Ee=>Ee.filter(Ue=>Ue.toastId!==m.id)),setTimeout(()=>{N(m)},Ete)},[m,N,x,We]);L.useEffect(()=>{if(m.promise&&Nt==="loading"||m.duration===1/0||m.type==="loading")return;let Ee;return _||g||M&&pt?(()=>{if($r.current<dr.current){let Ue=new Date().getTime()-dr.current;Rt.current=Rt.current-Ue}$r.current=new Date().getTime()})():Rt.current!==1/0&&(dr.current=new Date().getTime(),Ee=setTimeout(()=>{var Ue;(Ue=m.onAutoClose)==null||Ue.call(m,m),Ze()},Rt.current)),()=>clearTimeout(Ee)},[_,g,m,Nt,M,pt,Ze]),L.useEffect(()=>{m.delete&&Ze()},[Ze,m.delete]);function _r(){var Ee,Ue,tt;return U!=null&&U.loading?L.createElement("div",{className:bs(T==null?void 0:T.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Nt==="loading"},U.loading):$?L.createElement("div",{className:bs(T==null?void 0:T.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":Nt==="loading"},$):L.createElement(lte,{className:bs(T==null?void 0:T.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader),visible:Nt==="loading"})}return L.createElement("li",{tabIndex:0,ref:At,className:bs(P,Jn,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Nt],(r=m==null?void 0:m.classNames)==null?void 0:r[Nt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":he,"data-removed":Z,"data-visible":Ir,"data-y-position":pe,"data-x-position":Fe,"data-index":w,"data-front":jr,"data-swiping":ee,"data-dismissible":Dt,"data-type":Nt,"data-invert":ar,"data-swipe-out":_e,"data-swipe-direction":q,"data-expanded":!!(_||D&&Y),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${Z?Qe:We.current}px`,"--initial-height":D?"auto":`${Ve}px`,...C,...m.style},onDragEnd:()=>{G(!1),V(null),Q.current=null},onPointerDown:Ee=>{ot||!Dt||(mt.current=new Date,et(We.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(G(!0),Q.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ue,tt,fr;if(_e||!Dt)return;Q.current=null;let Jr=Number(((Ee=At.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((Ue=At.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Cn=new Date().getTime()-((tt=mt.current)==null?void 0:tt.getTime()),hr=B==="x"?Jr:Ft,en=Math.abs(hr)/Cn;if(Math.abs(hr)>=kte||en>.11){et(We.current),(fr=m.onDismiss)==null||fr.call(m,m),J(B==="x"?Jr>0?"right":"left":Ft>0?"down":"up"),Ze(),ie(!0),ke(!1);return}G(!1),V(null)},onPointerMove:Ee=>{var Ue,tt,fr,Jr;if(!Q.current||!Dt||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;let Ft=Ee.clientY-Q.current.y,Cn=Ee.clientX-Q.current.x,hr=(tt=e.swipeDirections)!=null?tt:Ate(z);!B&&(Math.abs(Cn)>1||Math.abs(Ft)>1)&&V(Math.abs(Cn)>Math.abs(Ft)?"x":"y");let en={x:0,y:0};B==="y"?(hr.includes("top")||hr.includes("bottom"))&&(hr.includes("top")&&Ft<0||hr.includes("bottom")&&Ft>0)&&(en.y=Ft):B==="x"&&(hr.includes("left")||hr.includes("right"))&&(hr.includes("left")&&Cn<0||hr.includes("right")&&Cn>0)&&(en.x=Cn),(Math.abs(en.x)>0||Math.abs(en.y)>0)&&ke(!0),(fr=At.current)==null||fr.style.setProperty("--swipe-amount-x",`${en.x}px`),(Jr=At.current)==null||Jr.style.setProperty("--swipe-amount-y",`${en.y}px`)}},be&&!m.jsx?L.createElement("button",{"aria-label":R,"data-disabled":ot,"data-close-button":!0,onClick:ot||!Dt?()=>{}:()=>{var Ee;Ze(),(Ee=m.onDismiss)==null||Ee.call(m,m)},className:bs(T==null?void 0:T.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=U==null?void 0:U.close)!=null?s:hte):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:L.createElement(L.Fragment,null,Nt||m.icon||m.promise?L.createElement("div",{"data-icon":"",className:bs(T==null?void 0:T.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||_r():null,m.type!=="loading"?m.icon||(U==null?void 0:U[Nt])||ite(Nt):null):null,L.createElement("div",{"data-content":"",className:bs(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:bs(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?L.createElement("div",{"data-description":"",className:bs(F,ea,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&qv(m.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:Ee=>{var Ue,tt;qv(m.cancel)&&Dt&&((tt=(Ue=m.cancel).onClick)==null||tt.call(Ue,Ee),Ze())},className:bs(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&qv(m.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||E,onClick:Ee=>{var Ue,tt;qv(m.action)&&((tt=(Ue=m.action).onClick)==null||tt.call(Ue,Ee),!Ee.defaultPrevented&&Ze())},className:bs(T==null?void 0:T.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function eM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Ote(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,o=s?"--mobile-offset":"--offset",l=s?Nte:_te;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Tte=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=jte,toastOptions:g,dir:x=eM(),gap:b=Cte,loadingIcon:y,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[N,S]=L.useState([]),k=L.useMemo(()=>Array.from(new Set([n].concat(N.filter(M=>M.position).map(M=>M.position)))),[N,n]),[C,A]=L.useState([]),[E,P]=L.useState(!1),[F,I]=L.useState(!1),[z,O]=L.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=L.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=L.useRef(null),U=L.useRef(!1),R=L.useCallback(M=>{S(B=>{var V;return(V=B.find(q=>q.id===M.id))!=null&&V.delete||na.dismiss(M.id),B.filter(({id:q})=>q!==M.id)})},[]);return L.useEffect(()=>na.subscribe(M=>{if(M.dismiss){S(B=>B.map(V=>V.id===M.id?{...V,delete:!0}:V));return}setTimeout(()=>{JF.flushSync(()=>{S(B=>{let V=B.findIndex(q=>q.id===M.id);return V!==-1?[...B.slice(0,V),{...B[V],...M},...B.slice(V+1)]:[M,...B]})})})}),[]),L.useEffect(()=>{if(d!=="system"){O(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:B})=>{O(B?"dark":"light")})}catch{M.addListener(({matches:V})=>{try{O(V?"dark":"light")}catch(q){console.error(q)}})}},[d]),L.useEffect(()=>{N.length<=1&&P(!1)},[N]),L.useEffect(()=>{let M=B=>{var V,q;a.every(J=>B[J]||B.code===J)&&(P(!0),(V=$.current)==null||V.focus()),B.code==="Escape"&&(document.activeElement===$.current||(q=$.current)!=null&&q.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[a]),L.useEffect(()=>{if($.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,U.current=!1)}},[$.current]),L.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((M,B)=>{var V;let[q,J]=M.split("-");return N.length?L.createElement("ol",{key:M,dir:x==="auto"?eM():x,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":q,"data-lifted":E&&N.length>1&&!s,"data-x-position":J,style:{"--front-toast-height":`${((V=C[0])==null?void 0:V.height)||0}px`,"--width":`${Ste}px`,"--gap":`${b}px`,...m,...Ote(c,u)},onBlur:Y=>{U.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(U.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||U.current||(U.current=!0,T.current=Y.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{F||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},N.filter(Y=>!Y.position&&B===0||Y.position===M).map((Y,te)=>{var Z,ne;return L.createElement(Pte,{key:Y.id,icons:w,index:te,toast:Y,defaultRichColors:f,duration:(Z=g==null?void 0:g.duration)!=null?Z:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ne=g==null?void 0:g.closeButton)!=null?ne:o,interacting:F,position:M,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:R,toasts:N.filter(ee=>ee.position==Y.position),heights:C.filter(ee=>ee.position==Y.position),setHeights:A,expandByDefault:s,gap:b,loadingIcon:y,expanded:E,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const Mte=({...e})=>{const{theme:t="system"}=ste();return i.jsx(Tte,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Rte=Gk[" useId ".trim().toString()]||(()=>{}),Dte=0;function ls(e){const[t,r]=p.useState(Rte());return br(()=>{r(n=>n??String(Dte++))},[e]),t?`radix-${t}`:""}const Ite=["top","right","bottom","left"],Dl=Math.min,Ea=Math.max,kx=Math.round,Kv=Math.floor,xi=e=>({x:e,y:e}),$te={left:"right",right:"left",bottom:"top",top:"bottom"},Lte={start:"end",end:"start"};function DN(e,t,r){return Ea(e,Dl(t,r))}function fo(e,t){return typeof e=="function"?e(t):e}function ho(e){return e.split("-")[0]}function ah(e){return e.split("-")[1]}function eE(e){return e==="x"?"y":"x"}function tE(e){return e==="y"?"height":"width"}const Fte=new Set(["top","bottom"]);function fi(e){return Fte.has(ho(e))?"y":"x"}function rE(e){return eE(fi(e))}function Bte(e,t,r){r===void 0&&(r=!1);const n=ah(e),a=rE(e),s=tE(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ex(o)),[o,Ex(o)]}function zte(e){const t=Ex(e);return[IN(e),t,IN(t)]}function IN(e){return e.replace(/start|end/g,t=>Lte[t])}const tM=["left","right"],rM=["right","left"],Ute=["top","bottom"],Vte=["bottom","top"];function Wte(e,t,r){switch(e){case"top":case"bottom":return r?t?rM:tM:t?tM:rM;case"left":case"right":return t?Ute:Vte;default:return[]}}function Hte(e,t,r,n){const a=ah(e);let s=Wte(ho(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(IN)))),s}function Ex(e){return e.replace(/left|right|bottom|top/g,t=>$te[t])}function qte(e){return{top:0,right:0,bottom:0,left:0,...e}}function KB(e){return typeof e!="number"?qte(e):{top:e,right:e,bottom:e,left:e}}function Ax(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function nM(e,t,r){let{reference:n,floating:a}=e;const s=fi(t),o=rE(t),l=tE(o),c=ho(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ah(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Kte=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=nM(u,n,c),h=n,m={},v=0;for(let g=0;g<l.length;g++){const{name:x,fn:b}=l[g],{x:y,y:w,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[x]:{...m[x],...j}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=nM(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function pp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fo(t,e),v=KB(m),x=l[h?f==="floating"?"reference":"floating":f],b=Ax(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Ax(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-_.top+v.top)/j.y,bottom:(_.bottom-b.bottom+v.bottom)/j.y,left:(b.left-_.left+v.left)/j.x,right:(_.right-b.right+v.right)/j.x}}const Gte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fo(e,t)||{};if(u==null)return{};const f=KB(d),h={x:r,y:n},m=rE(a),v=tE(m),g=await o.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=s.reference[v]+s.reference[m]-h[m]-s.floating[v],_=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[w]||s.floating[v]);const k=j/2-_/2,C=S/2-g[v]/2-1,A=Dl(f[b],C),E=Dl(f[y],C),P=A,F=S-g[v]-E,I=S/2-g[v]/2+k,z=DN(P,I,F),O=!c.arrow&&ah(a)!=null&&I!==z&&s.reference[v]/2-(I<P?A:E)-g[v]/2<0,$=O?I<P?I-P:I-F:0;return{[m]:h[m]+$,data:{[m]:z,centerOffset:I-z-$,...O&&{alignmentOffset:$}},reset:O}}}),Yte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=fo(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=ho(a),y=fi(l),w=ho(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!g?[Ex(l)]:zte(l)),N=v!=="none";!h&&N&&_.push(...Hte(l,g,v,j));const S=[l,..._],k=await pp(t,x),C=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const I=Bte(a,o,j);C.push(k[I[0]],k[I[1]])}if(A=[...A,{placement:a,overflows:C}],!C.every(I=>I<=0)){var E,P;const I=(((E=s.flip)==null?void 0:E.index)||0)+1,z=S[I];if(z&&(!(f==="alignment"?y!==fi(z):!1)||A.every(D=>D.overflows[0]>0&&fi(D.placement)===y)))return{data:{index:I,overflows:A},reset:{placement:z}};let O=(P=A.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!O)switch(m){case"bestFit":{var F;const $=(F=A.filter(D=>{if(N){const T=fi(D.placement);return T===y||T==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(T=>T>0).reduce((T,U)=>T+U,0)]).sort((D,T)=>D[1]-T[1])[0])==null?void 0:F[0];$&&(O=$);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function aM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sM(e){return Ite.some(t=>e[t]>=0)}const Xte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=fo(e,t);switch(n){case"referenceHidden":{const s=await pp(t,{...a,elementContext:"reference"}),o=aM(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sM(o)}}}case"escaped":{const s=await pp(t,{...a,altBoundary:!0}),o=aM(s,r.floating);return{data:{escapedOffsets:o,escaped:sM(o)}}}default:return{}}}}},GB=new Set(["left","top"]);async function Zte(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ho(r),l=ah(r),c=fi(r)==="y",u=GB.has(o)?-1:1,d=s&&c?-1:1,f=fo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Qte=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Zte(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},Jte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=fo(e,t),u={x:r,y:n},d=await pp(t,c),f=fi(ho(a)),h=eE(f);let m=u[h],v=u[f];if(s){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=m+d[x],w=m-d[b];m=DN(y,m,w)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+d[x],w=v-d[b];v=DN(y,v,w)}const g=l.fn({...t,[h]:m,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:o}}}}}},ere=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fo(e,t),d={x:r,y:n},f=fi(a),h=eE(f);let m=d[h],v=d[f];const g=fo(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+x.mainAxis,_=s.reference[h]+s.reference[w]-x.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var b,y;const w=h==="y"?"width":"height",j=GB.has(ho(a)),_=s.reference[f]-s.floating[w]+(j&&((b=o.offset)==null?void 0:b[f])||0)+(j?0:x.crossAxis),N=s.reference[f]+s.reference[w]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?x.crossAxis:0);v<_?v=_:v>N&&(v=N)}return{[h]:m,[f]:v}}}},tre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=fo(e,t),d=await pp(t,u),f=ho(a),h=ah(a),m=fi(a)==="y",{width:v,height:g}=s.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=v-d.left-d.right,j=Dl(g-d[x],y),_=Dl(v-d[b],w),N=!t.middlewareData.shift;let S=j,k=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),N&&!h){const A=Ea(d.left,0),E=Ea(d.right,0),P=Ea(d.top,0),F=Ea(d.bottom,0);m?k=v-2*(A!==0||E!==0?A+E:Ea(d.left,d.right)):S=g-2*(P!==0||F!==0?P+F:Ea(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return v!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Fb(){return typeof window<"u"}function sh(e){return YB(e)?(e.nodeName||"").toLowerCase():"#document"}function Ia(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ti(e){var t;return(t=(YB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YB(e){return Fb()?e instanceof Node||e instanceof Ia(e).Node:!1}function Gs(e){return Fb()?e instanceof Element||e instanceof Ia(e).Element:!1}function Si(e){return Fb()?e instanceof HTMLElement||e instanceof Ia(e).HTMLElement:!1}function iM(e){return!Fb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ia(e).ShadowRoot}const rre=new Set(["inline","contents"]);function qg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rre.has(a)}const nre=new Set(["table","td","th"]);function are(e){return nre.has(sh(e))}const sre=[":popover-open",":modal"];function Bb(e){return sre.some(t=>{try{return e.matches(t)}catch{return!1}})}const ire=["transform","translate","scale","rotate","perspective"],ore=["transform","translate","scale","rotate","perspective","filter"],lre=["paint","layout","strict","content"];function nE(e){const t=aE(),r=Gs(e)?Ys(e):e;return ire.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ore.some(n=>(r.willChange||"").includes(n))||lre.some(n=>(r.contain||"").includes(n))}function cre(e){let t=Il(e);for(;Si(t)&&!df(t);){if(nE(t))return t;if(Bb(t))return null;t=Il(t)}return null}function aE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ure=new Set(["html","body","#document"]);function df(e){return ure.has(sh(e))}function Ys(e){return Ia(e).getComputedStyle(e)}function zb(e){return Gs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Il(e){if(sh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iM(e)&&e.host||Ti(e);return iM(t)?t.host:t}function XB(e){const t=Il(e);return df(t)?e.ownerDocument?e.ownerDocument.body:e.body:Si(t)&&qg(t)?t:XB(t)}function gp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=XB(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ia(a);if(s){const l=$N(o);return t.concat(o,o.visualViewport||[],qg(a)?a:[],l&&r?gp(l):[])}return t.concat(a,gp(a,[],r))}function $N(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ZB(e){const t=Ys(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Si(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=kx(r)!==s||kx(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function sE(e){return Gs(e)?e:e.contextElement}function Ed(e){const t=sE(e);if(!Si(t))return xi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=ZB(t);let o=(s?kx(r.width):r.width)/n,l=(s?kx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dre=xi(0);function QB(e){const t=Ia(e);return!aE()||!t.visualViewport?dre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ia(e)?!1:t}function au(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=sE(e);let o=xi(1);t&&(n?Gs(n)&&(o=Ed(n)):o=Ed(e));const l=fre(s,r,n)?QB(s):xi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=Ia(s),m=n&&Gs(n)?Ia(n):n;let v=h,g=$N(v);for(;g&&n&&m!==v;){const x=Ed(g),b=g.getBoundingClientRect(),y=Ys(g),w=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,j=b.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=j,v=Ia(g),g=$N(v)}}return Ax({width:d,height:f,x:c,y:u})}function iE(e,t){const r=zb(e).scrollLeft;return t?t.left+r:au(Ti(e)).left+r}function JB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:iE(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function hre(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Ti(n),l=t?Bb(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=xi(1);const d=xi(0),f=Si(n);if((f||!f&&!s)&&((sh(n)!=="body"||qg(o))&&(c=zb(n)),Si(n))){const m=au(n);u=Ed(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?JB(o,c,!0):xi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mre(e){return Array.from(e.getClientRects())}function pre(e){const t=Ti(e),r=zb(e),n=e.ownerDocument.body,a=Ea(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ea(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iE(e);const l=-r.scrollTop;return Ys(n).direction==="rtl"&&(o+=Ea(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function gre(e,t){const r=Ia(e),n=Ti(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=aE();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const vre=new Set(["absolute","fixed"]);function yre(e,t){const r=au(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Si(e)?Ed(e):xi(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function oM(e,t,r){let n;if(t==="viewport")n=gre(e,r);else if(t==="document")n=pre(Ti(e));else if(Gs(t))n=yre(t,r);else{const a=QB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ax(n)}function e6(e,t){const r=Il(e);return r===t||!Gs(r)||df(r)?!1:Ys(r).position==="fixed"||e6(r,t)}function xre(e,t){const r=t.get(e);if(r)return r;let n=gp(e,[],!1).filter(l=>Gs(l)&&sh(l)!=="body"),a=null;const s=Ys(e).position==="fixed";let o=s?Il(e):e;for(;Gs(o)&&!df(o);){const l=Ys(o),c=nE(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&vre.has(a.position)||qg(o)&&!c&&e6(e,o))?n=n.filter(d=>d!==o):a=l,o=Il(o)}return t.set(e,n),n}function bre(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Bb(t)?[]:xre(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=oM(t,d,a);return u.top=Ea(f.top,u.top),u.right=Dl(f.right,u.right),u.bottom=Dl(f.bottom,u.bottom),u.left=Ea(f.left,u.left),u},oM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wre(e){const{width:t,height:r}=ZB(e);return{width:t,height:r}}function jre(e,t,r){const n=Si(t),a=Ti(t),s=r==="fixed",o=au(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=xi(0);function u(){c.x=iE(a)}if(n||!n&&!s)if((sh(t)!=="body"||qg(a))&&(l=zb(t)),n){const m=au(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?JB(a,l):xi(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function s1(e){return Ys(e).position==="static"}function lM(e,t){if(!Si(e)||Ys(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ti(e)===r&&(r=r.ownerDocument.body),r}function t6(e,t){const r=Ia(e);if(Bb(e))return r;if(!Si(e)){let a=Il(e);for(;a&&!df(a);){if(Gs(a)&&!s1(a))return a;a=Il(a)}return r}let n=lM(e,t);for(;n&&are(n)&&s1(n);)n=lM(n,t);return n&&df(n)&&s1(n)&&!nE(n)?r:n||cre(e)||r}const _re=async function(e){const t=this.getOffsetParent||t6,r=this.getDimensions,n=await r(e.floating);return{reference:jre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nre(e){return Ys(e).direction==="rtl"}const Sre={convertOffsetParentRelativeRectToViewportRelativeRect:hre,getDocumentElement:Ti,getClippingRect:bre,getOffsetParent:t6,getElementRects:_re,getClientRects:mre,getDimensions:wre,getScale:Ed,isElement:Gs,isRTL:Nre};function r6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cre(e,t){let r=null,n;const a=Ti(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=Kv(f),g=Kv(a.clientWidth-(d+h)),x=Kv(a.clientHeight-(f+m)),b=Kv(d),w={rootMargin:-v+"px "+-g+"px "+-x+"px "+-b+"px",threshold:Ea(0,Dl(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!r6(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),s}function kre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=sE(e),d=a||s?[...u?gp(u):[],...gp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?Cre(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?au(e):null;c&&x();function x(){const b=au(e);g&&!r6(g,b)&&r(),g=b,v=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const Ere=Qte,Are=Jte,Pre=Yte,Ore=tre,Tre=Xte,cM=Gte,Mre=ere,Rre=(e,t,r)=>{const n=new Map,a={platform:Sre,...r},s={...a.platform,_c:n};return Kte(e,t,{...a,platform:s})};var Dre=typeof document<"u",Ire=function(){},Vy=Dre?p.useLayoutEffect:Ire;function Px(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Px(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Px(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function n6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uM(e,t){const r=n6(e);return Math.round(t*r)/r}function i1(e){const t=p.useRef(e);return Vy(()=>{t.current=e}),t}function $re(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Px(h,n)||m(n);const[v,g]=p.useState(null),[x,b]=p.useState(null),y=p.useCallback(D=>{D!==N.current&&(N.current=D,g(D))},[]),w=p.useCallback(D=>{D!==S.current&&(S.current=D,b(D))},[]),j=s||v,_=o||x,N=p.useRef(null),S=p.useRef(null),k=p.useRef(d),C=c!=null,A=i1(c),E=i1(a),P=i1(u),F=p.useCallback(()=>{if(!N.current||!S.current)return;const D={placement:t,strategy:r,middleware:h};E.current&&(D.platform=E.current),Rre(N.current,S.current,D).then(T=>{const U={...T,isPositioned:P.current!==!1};I.current&&!Px(k.current,U)&&(k.current=U,ns.flushSync(()=>{f(U)}))})},[h,t,r,E,P]);Vy(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const I=p.useRef(!1);Vy(()=>(I.current=!0,()=>{I.current=!1}),[]),Vy(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(A.current)return A.current(j,_,F);F()}},[j,_,F,A,C]);const z=p.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:w}),[y,w]),O=p.useMemo(()=>({reference:j,floating:_}),[j,_]),$=p.useMemo(()=>{const D={position:r,left:0,top:0};if(!O.floating)return D;const T=uM(O.floating,d.x),U=uM(O.floating,d.y);return l?{...D,transform:"translate("+T+"px, "+U+"px)",...n6(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:U}},[r,l,O.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:F,refs:z,elements:O,floatingStyles:$}),[d,F,z,O,$])}const Lre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?cM({element:n.current,padding:a}).fn(r):{}:n?cM({element:n,padding:a}).fn(r):{}}}},Fre=(e,t)=>({...Ere(e),options:[e,t]}),Bre=(e,t)=>({...Are(e),options:[e,t]}),zre=(e,t)=>({...Mre(e),options:[e,t]}),Ure=(e,t)=>({...Pre(e),options:[e,t]}),Vre=(e,t)=>({...Ore(e),options:[e,t]}),Wre=(e,t)=>({...Tre(e),options:[e,t]}),Hre=(e,t)=>({...Lre(e),options:[e,t]});var qre="Arrow",a6=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(me.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});a6.displayName=qre;var Kre=a6;function Kg(e){const[t,r]=p.useState(void 0);return br(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var oE="Popper",[s6,ih]=Dr(oE),[Gre,i6]=s6(oE),o6=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return i.jsx(Gre,{scope:t,anchor:n,onAnchorChange:a,children:r})};o6.displayName=oE;var l6="PopperAnchor",c6=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=i6(l6,r),o=p.useRef(null),l=Oe(t,o);return p.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(me.div,{...a,ref:l})});c6.displayName=l6;var lE="PopperContent",[Yre,Xre]=s6(lE),u6=p.forwardRef((e,t)=>{var Y,te,Z,ne,ee,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,x=i6(lE,r),[b,y]=p.useState(null),w=Oe(t,_e=>y(_e)),[j,_]=p.useState(null),N=Kg(j),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],P=E.length>0,F={padding:A,boundary:E.filter(Qre),altBoundary:P},{refs:I,floatingStyles:z,placement:O,isPositioned:$,middlewareData:D}=$re({strategy:"fixed",placement:C,whileElementsMounted:(..._e)=>kre(..._e,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Fre({mainAxis:a+k,alignmentAxis:o}),c&&Bre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zre():void 0,...F}),c&&Ure({...F}),Vre({...F,apply:({elements:_e,rects:ie,availableWidth:he,availableHeight:ke})=>{const{width:Qe,height:et}=ie.reference,Ve=_e.floating.style;Ve.setProperty("--radix-popper-available-width",`${he}px`),Ve.setProperty("--radix-popper-available-height",`${ke}px`),Ve.setProperty("--radix-popper-anchor-width",`${Qe}px`),Ve.setProperty("--radix-popper-anchor-height",`${et}px`)}}),j&&Hre({element:j,padding:l}),Jre({arrowWidth:S,arrowHeight:k}),h&&Wre({strategy:"referenceHidden",...F})]}),[T,U]=h6(O),R=xr(v);br(()=>{$&&(R==null||R())},[$,R]);const M=(Y=D.arrow)==null?void 0:Y.x,B=(te=D.arrow)==null?void 0:te.y,V=((Z=D.arrow)==null?void 0:Z.centerOffset)!==0,[q,J]=p.useState();return br(()=>{b&&J(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:$?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ne=D.transformOrigin)==null?void 0:ne.x,(ee=D.transformOrigin)==null?void 0:ee.y].join(" "),...((G=D.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Yre,{scope:r,placedSide:T,onArrowChange:_,arrowX:M,arrowY:B,shouldHideArrow:V,children:i.jsx(me.div,{"data-side":T,"data-align":U,...g,ref:w,style:{...g.style,animation:$?void 0:"none"}})})})});u6.displayName=lE;var d6="PopperArrow",Zre={top:"bottom",right:"left",bottom:"top",left:"right"},f6=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Xre(d6,n),o=Zre[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Kre,{...a,ref:r,style:{...a.style,display:"block"}})})});f6.displayName=d6;function Qre(e){return e!==null}var Jre=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=h6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):u==="top"?(v=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function h6(e){const[t,r="center"]=e.split("-");return[t,r]}var m6=o6,cE=c6,uE=u6,dE=f6,[Ub]=Dr("Tooltip",[ih]),fE=ih(),p6="TooltipProvider",ene=700,dM="tooltip.open",[tne,g6]=Ub(p6),v6=e=>{const{__scopeTooltip:t,delayDuration:r=ene,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(tne,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};v6.displayName=p6;var y6="Tooltip",[LHe,Vb]=Ub(y6),LN="TooltipTrigger",rne=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Vb(LN,r),s=g6(LN,r),o=fE(r),l=p.useRef(null),c=Oe(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(cE,{asChild:!0,...o,children:i.jsx(me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:le(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:le(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:le(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:le(e.onBlur,a.onClose),onClick:le(e.onClick,a.onClose)})})});rne.displayName=LN;var nne="TooltipPortal",[FHe,ane]=Ub(nne,{forceMount:void 0}),ff="TooltipContent",x6=p.forwardRef((e,t)=>{const r=ane(ff,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=Vb(ff,e.__scopeTooltip);return i.jsx(hn,{present:n||o.open,children:o.disableHoverableContent?i.jsx(b6,{side:a,...s,ref:t}):i.jsx(sne,{side:a,...s,ref:t})})}),sne=p.forwardRef((e,t)=>{const r=Vb(ff,e.__scopeTooltip),n=g6(ff,e.__scopeTooltip),a=p.useRef(null),s=Oe(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((v,g)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},y=une(b,x.getBoundingClientRect()),w=dne(b,y),j=fne(g.getBoundingClientRect()),_=mne([...w,...j]);l(_),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const v=x=>m(x,d),g=x=>m(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const v=g=>{const x=g.target,b={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!hne(b,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),i.jsx(b6,{...e,ref:s})}),[ine,one]=Ub(y6,{isInside:!1}),lne=rB("TooltipContent"),b6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Vb(ff,r),u=fE(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(dM,d),()=>document.removeEventListener(dM,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(rh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(uE,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(lne,{children:n}),i.jsx(ine,{scope:r,isInside:!0,children:i.jsx(lJ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});x6.displayName=ff;var w6="TooltipArrow",cne=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=fE(r);return one(w6,r).isInside?null:i.jsx(dE,{...a,...n,ref:t})});cne.displayName=w6;function une(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function fne(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function hne(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function mne(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pne(t)}function pne(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var gne=v6,j6=x6;const vne=gne,yne=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(j6,{ref:n,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yne.displayName=j6.displayName;var oh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},su=typeof window>"u"||"Deno"in globalThis;function Fn(){}function xne(e,t){return typeof e=="function"?e(t):e}function FN(e){return typeof e=="number"&&e>=0&&e!==1/0}function _6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sl(e,t){return typeof e=="function"?e(t):e}function Za(e,t){return typeof e=="function"?e(t):e}function fM(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==hE(o,t.options))return!1}else if(!vp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function hM(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(iu(t.options.mutationKey)!==iu(s))return!1}else if(!vp(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function hE(e,t){return((t==null?void 0:t.queryKeyHashFn)||iu)(e)}function iu(e){return JSON.stringify(e,(t,r)=>BN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function vp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>vp(e[r],t[r])):!1}function N6(e,t){if(e===t)return e;const r=mM(e)&&mM(t);if(r||BN(e)&&BN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=N6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Ox(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function BN(e){if(!pM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pM(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pM(e){return Object.prototype.toString.call(e)==="[object Object]"}function bne(e){return new Promise(t=>{setTimeout(t,e)})}function zN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?N6(e,t):t}function wne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var mE=Symbol();function S6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C6(e,t){return typeof e=="function"?e(...t):!!e}var Tc,el,Bd,O3,_ne=(O3=class extends oh{constructor(){super();Te(this,Tc);Te(this,el);Te(this,Bd);ye(this,Bd,t=>{if(!su&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,el)||this.setEventListener(H(this,Bd))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,el))==null||t.call(this),ye(this,el,void 0))}setEventListener(t){var r;ye(this,Bd,t),(r=H(this,el))==null||r.call(this),ye(this,el,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){H(this,Tc)!==t&&(ye(this,Tc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof H(this,Tc)=="boolean"?H(this,Tc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Tc=new WeakMap,el=new WeakMap,Bd=new WeakMap,O3),pE=new _ne,zd,tl,Ud,T3,Nne=(T3=class extends oh{constructor(){super();Te(this,zd,!0);Te(this,tl);Te(this,Ud);ye(this,Ud,t=>{if(!su&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,tl)||this.setEventListener(H(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,tl))==null||t.call(this),ye(this,tl,void 0))}setEventListener(t){var r;ye(this,Ud,t),(r=H(this,tl))==null||r.call(this),ye(this,tl,t(this.setOnline.bind(this)))}setOnline(t){H(this,zd)!==t&&(ye(this,zd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return H(this,zd)}},zd=new WeakMap,tl=new WeakMap,Ud=new WeakMap,T3),Tx=new Nne;function UN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Sne(e){return Math.min(1e3*2**e,3e4)}function k6(e){return(e??"online")==="online"?Tx.isOnline():!0}var E6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function o1(e){return e instanceof E6}function A6(e){let t=!1,r=0,n=!1,a;const s=UN(),o=g=>{var x;n||(h(new E6(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>pE.isFocused()&&(e.networkMode==="always"||Tx.isOnline())&&e.canRun(),d=()=>k6(e.networkMode)&&e.canRun(),f=g=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,g),a==null||a(),s.resolve(g))},h=g=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,g),a==null||a(),s.reject(g))},m=()=>new Promise(g=>{var x;a=b=>{(n||u())&&g(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var N;if(n)return;const y=e.retry??(su?0:3),w=e.retryDelay??Sne,j=typeof w=="function"?w(r,b):w,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!_){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),bne(j).then(()=>u()?void 0:m()).then(()=>{t?h(b):v()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}var Cne=e=>setTimeout(e,0);function kne(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Cne;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Hr=kne(),Mc,M3,P6=(M3=class{constructor(){Te(this,Mc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FN(this.gcTime)&&ye(this,Mc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(su?1/0:5*60*1e3))}clearGcTimeout(){H(this,Mc)&&(clearTimeout(H(this,Mc)),ye(this,Mc,void 0))}},Mc=new WeakMap,M3),Vd,Rc,Xa,Dc,An,Cg,Ic,Es,zi,R3,Ene=(R3=class extends P6{constructor(t){super();Te(this,Es);Te(this,Vd);Te(this,Rc);Te(this,Xa);Te(this,Dc);Te(this,An);Te(this,Cg);Te(this,Ic);ye(this,Ic,!1),ye(this,Cg,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Dc,t.client),ye(this,Xa,H(this,Dc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Vd,Ane(this.options)),this.state=t.state??H(this,Vd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,An))==null?void 0:t.promise}setOptions(t){this.options={...H(this,Cg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Xa).remove(this)}setData(t,r){const n=zN(this.state.data,t,this.options);return nt(this,Es,zi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){nt(this,Es,zi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=H(this,An))==null?void 0:n.promise;return(a=H(this,An))==null||a.cancel(t),r?r.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Vd))}isActive(){return this.observers.some(t=>Za(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Sl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,An))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,An))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Xa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(H(this,An)&&(H(this,Ic)?H(this,An).cancel({revert:!0}):H(this,An).cancelRetry()),this.scheduleGc()),H(this,Xa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,Es,zi).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,An))return H(this,An).continueRetry(),H(this,An).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ye(this,Ic,!0),n.signal)})},s=()=>{const h=S6(this.options,r),v=(()=>{const g={client:H(this,Dc),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ye(this,Ic,!1),this.options.persister?this.options.persister(h,v,this):h(v)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,Dc),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ye(this,Rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&nt(this,Es,zi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,g,x;o1(h)&&h.silent||nt(this,Es,zi).call(this,{type:"error",error:h}),o1(h)||((v=(m=H(this,Xa).config).onError)==null||v.call(m,h,this),(x=(g=H(this,Xa).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return ye(this,An,A6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,g,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(v=(m=H(this,Xa).config).onSuccess)==null||v.call(m,h,this),(x=(g=H(this,Xa).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{nt(this,Es,zi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{nt(this,Es,zi).call(this,{type:"pause"})},onContinue:()=>{nt(this,Es,zi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),H(this,An).start()}},Vd=new WeakMap,Rc=new WeakMap,Xa=new WeakMap,Dc=new WeakMap,An=new WeakMap,Cg=new WeakMap,Ic=new WeakMap,Es=new WeakSet,zi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O6(n.data,this.options),fetchMeta:t.meta??null};case"success":return ye(this,Rc,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return o1(a)&&a.revert&&H(this,Rc)?{...H(this,Rc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,Xa).notify({query:this,type:"updated",action:t})})},R3);function O6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ane(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var si,D3,Pne=(D3=class extends oh{constructor(t={}){super();Te(this,si);this.config=t,ye(this,si,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??hE(a,r);let o=this.get(s);return o||(o=new Ene({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,si).has(t.queryHash)||(H(this,si).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=H(this,si).get(t.queryHash);r&&(t.destroy(),r===t&&H(this,si).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,si).get(t)}getAll(){return[...H(this,si).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fM(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fM(t,n)):r}notify(t){Hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},si=new WeakMap,D3),ii,In,$c,oi,Bo,I3,One=(I3=class extends P6{constructor(t){super();Te(this,oi);Te(this,ii);Te(this,In);Te(this,$c);this.mutationId=t.mutationId,ye(this,In,t.mutationCache),ye(this,ii,[]),this.state=t.state||T6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,ii).includes(t)||(H(this,ii).push(t),this.clearGcTimeout(),H(this,In).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,ii,H(this,ii).filter(r=>r!==t)),this.scheduleGc(),H(this,In).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,ii).length||(this.state.status==="pending"?this.scheduleGc():H(this,In).remove(this))}continue(){var t;return((t=H(this,$c))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,v,g,x,b,y,w,j,_,N,S,k;const r=()=>{nt(this,oi,Bo).call(this,{type:"continue"})};ye(this,$c,A6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{nt(this,oi,Bo).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{nt(this,oi,Bo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,In).canRun(this)}));const n=this.state.status==="pending",a=!H(this,$c).canStart();try{if(n)r();else{nt(this,oi,Bo).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=H(this,In).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&nt(this,oi,Bo).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const C=await H(this,$c).start();return await((d=(u=H(this,In).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((v=(m=H(this,In).config).onSettled)==null?void 0:v.call(m,C,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,C,null,t,this.state.context)),nt(this,oi,Bo).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(b=H(this,In).config).onError)==null?void 0:y.call(b,C,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,C,t,this.state.context)),await((N=(_=H(this,In).config).onSettled)==null?void 0:N.call(_,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{nt(this,oi,Bo).call(this,{type:"error",error:C})}}finally{H(this,In).runNext(this)}}},ii=new WeakMap,In=new WeakMap,$c=new WeakMap,oi=new WeakSet,Bo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Hr.batch(()=>{H(this,ii).forEach(n=>{n.onMutationUpdate(t)}),H(this,In).notify({mutation:this,type:"updated",action:t})})},I3);function T6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,As,kg,$3,Tne=($3=class extends oh{constructor(t={}){super();Te(this,Ki);Te(this,As);Te(this,kg);this.config=t,ye(this,Ki,new Set),ye(this,As,new Map),ye(this,kg,0)}build(t,r,n){const a=new One({mutationCache:this,mutationId:++Sv(this,kg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){H(this,Ki).add(t);const r=Gv(t);if(typeof r=="string"){const n=H(this,As).get(r);n?n.push(t):H(this,As).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,Ki).delete(t)){const r=Gv(t);if(typeof r=="string"){const n=H(this,As).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&H(this,As).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Gv(t);if(typeof r=="string"){const n=H(this,As).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Gv(t);if(typeof r=="string"){const a=(n=H(this,As).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hr.batch(()=>{H(this,Ki).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,Ki).clear(),H(this,As).clear()})}getAll(){return Array.from(H(this,Ki))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hM(r,n))}findAll(t={}){return this.getAll().filter(r=>hM(t,r))}notify(t){Hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Hr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Fn))))}},Ki=new WeakMap,As=new WeakMap,kg=new WeakMap,$3);function Gv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Mx(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=S6(t.options,t.fetchOptions),y=async(w,j,_)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return x(E),E})(),k=await b(S),{maxPages:C}=t.options,A=_?jne:wne;return{pages:A(w.pages,k,C),pageParams:A(w.pageParams,j,C)}};if(a&&s.length){const w=a==="backward",j=w?M6:VN,_={pages:s,pageParams:o},N=j(n,_);l=await y(_,N,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:VN(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function VN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function Mne(e,t){return t?VN(e,t)!=null:!1}function Rne(e,t){return!t||!e.getPreviousPageParam?!1:M6(e,t)!=null}var mr,rl,nl,Wd,Hd,al,qd,Kd,L3,Dne=(L3=class{constructor(e={}){Te(this,mr);Te(this,rl);Te(this,nl);Te(this,Wd);Te(this,Hd);Te(this,al);Te(this,qd);Te(this,Kd);ye(this,mr,e.queryCache||new Pne),ye(this,rl,e.mutationCache||new Tne),ye(this,nl,e.defaultOptions||{}),ye(this,Wd,new Map),ye(this,Hd,new Map),ye(this,al,0)}mount(){Sv(this,al)._++,H(this,al)===1&&(ye(this,qd,pE.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,mr).onFocus())})),ye(this,Kd,Tx.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,mr).onOnline())})))}unmount(){var e,t;Sv(this,al)._--,H(this,al)===0&&((e=H(this,qd))==null||e.call(this),ye(this,qd,void 0),(t=H(this,Kd))==null||t.call(this),ye(this,Kd,void 0))}isFetching(e){return H(this,mr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,rl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,mr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,mr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Sl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,mr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=H(this,mr).get(n.queryHash),s=a==null?void 0:a.state.data,o=xne(t,s);if(o!==void 0)return H(this,mr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Hr.batch(()=>H(this,mr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,mr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=H(this,mr);Hr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,mr);return Hr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Hr.batch(()=>H(this,mr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Fn).catch(Fn)}invalidateQueries(e,t={}){return Hr.batch(()=>(H(this,mr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Hr.batch(()=>H(this,mr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Fn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Fn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,mr).build(this,t);return r.isStaleByTime(Sl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fn).catch(Fn)}fetchInfiniteQuery(e){return e.behavior=Mx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fn).catch(Fn)}ensureInfiniteQueryData(e){return e.behavior=Mx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tx.isOnline()?H(this,rl).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,mr)}getMutationCache(){return H(this,rl)}getDefaultOptions(){return H(this,nl)}setDefaultOptions(e){ye(this,nl,e)}setQueryDefaults(e,t){H(this,Wd).set(iu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,Wd).values()],r={};return t.forEach(n=>{vp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){H(this,Hd).set(iu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,Hd).values()],r={};return t.forEach(n=>{vp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,mr).clear(),H(this,rl).clear()}},mr=new WeakMap,rl=new WeakMap,nl=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,al=new WeakMap,qd=new WeakMap,Kd=new WeakMap,L3),ta,dt,Eg,$n,Lc,Gd,sl,il,Ag,Yd,Xd,Fc,Bc,ol,Zd,_t,mm,WN,HN,qN,KN,GN,YN,XN,D6,F3,R6=(F3=class extends oh{constructor(t,r){super();Te(this,_t);Te(this,ta);Te(this,dt);Te(this,Eg);Te(this,$n);Te(this,Lc);Te(this,Gd);Te(this,sl);Te(this,il);Te(this,Ag);Te(this,Yd);Te(this,Xd);Te(this,Fc);Te(this,Bc);Te(this,ol);Te(this,Zd,new Set);this.options=r,ye(this,ta,t),ye(this,il,null),ye(this,sl,UN()),this.options.experimental_prefetchInRender||H(this,sl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,dt).addObserver(this),gM(H(this,dt),this.options)?nt(this,_t,mm).call(this):this.updateResult(),nt(this,_t,KN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ZN(H(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ZN(H(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,nt(this,_t,GN).call(this),nt(this,_t,YN).call(this),H(this,dt).removeObserver(this)}setOptions(t){const r=this.options,n=H(this,dt);if(this.options=H(this,ta).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Za(this.options.enabled,H(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");nt(this,_t,XN).call(this),H(this,dt).setOptions(this.options),r._defaulted&&!Ox(this.options,r)&&H(this,ta).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,dt),observer:this});const a=this.hasListeners();a&&vM(H(this,dt),n,this.options,r)&&nt(this,_t,mm).call(this),this.updateResult(),a&&(H(this,dt)!==n||Za(this.options.enabled,H(this,dt))!==Za(r.enabled,H(this,dt))||Sl(this.options.staleTime,H(this,dt))!==Sl(r.staleTime,H(this,dt)))&&nt(this,_t,WN).call(this);const s=nt(this,_t,HN).call(this);a&&(H(this,dt)!==n||Za(this.options.enabled,H(this,dt))!==Za(r.enabled,H(this,dt))||s!==H(this,ol))&&nt(this,_t,qN).call(this,s)}getOptimisticResult(t){const r=H(this,ta).getQueryCache().build(H(this,ta),t),n=this.createResult(r,t);return $ne(this,n)&&(ye(this,$n,n),ye(this,Gd,this.options),ye(this,Lc,H(this,dt).state)),n}getCurrentResult(){return H(this,$n)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){H(this,Zd).add(t)}getCurrentQuery(){return H(this,dt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=H(this,ta).defaultQueryOptions(t),n=H(this,ta).getQueryCache().build(H(this,ta),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return nt(this,_t,mm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,$n)))}createResult(t,r){var C;const n=H(this,dt),a=this.options,s=H(this,$n),o=H(this,Lc),l=H(this,Gd),u=t!==n?t.state:H(this,Eg),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),E=!A&&gM(t,r),P=A&&vM(t,n,r,a);(E||P)&&(f={...f,...O6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:x}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,b=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=H(this,Xd))==null?void 0:C.state.data,H(this,Xd)):r.placeholderData,A!==void 0&&(x="success",m=zN(s==null?void 0:s.data,A,r),h=!0)}if(r.select&&m!==void 0&&!b)if(s&&m===(o==null?void 0:o.data)&&r.select===H(this,Ag))m=H(this,Yd);else try{ye(this,Ag,r.select),m=r.select(m),m=zN(s==null?void 0:s.data,m,r),ye(this,Yd,m),ye(this,il,null)}catch(A){ye(this,il,A)}H(this,il)&&(v=H(this,il),m=H(this,Yd),g=Date.now(),x="error");const y=f.fetchStatus==="fetching",w=x==="pending",j=x==="error",_=w&&y,N=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:gE(t,r),refetch:this.refetch,promise:H(this,sl),isEnabled:Za(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=F=>{k.status==="error"?F.reject(k.error):k.data!==void 0&&F.resolve(k.data)},E=()=>{const F=ye(this,sl,k.promise=UN());A(F)},P=H(this,sl);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&E();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&E();break}}return k}updateResult(){const t=H(this,$n),r=this.createResult(H(this,dt),this.options);if(ye(this,Lc,H(this,dt).state),ye(this,Gd,this.options),H(this,Lc).data!==void 0&&ye(this,Xd,H(this,dt)),Ox(r,t))return;ye(this,$n,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!H(this,Zd).size)return!0;const o=new Set(s??H(this,Zd));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,$n)).some(l=>{const c=l;return H(this,$n)[c]!==t[c]&&o.has(c)})};nt(this,_t,D6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&nt(this,_t,KN).call(this)}},ta=new WeakMap,dt=new WeakMap,Eg=new WeakMap,$n=new WeakMap,Lc=new WeakMap,Gd=new WeakMap,sl=new WeakMap,il=new WeakMap,Ag=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,ol=new WeakMap,Zd=new WeakMap,_t=new WeakSet,mm=function(t){nt(this,_t,XN).call(this);let r=H(this,dt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Fn)),r},WN=function(){nt(this,_t,GN).call(this);const t=Sl(this.options.staleTime,H(this,dt));if(su||H(this,$n).isStale||!FN(t))return;const n=_6(H(this,$n).dataUpdatedAt,t)+1;ye(this,Fc,setTimeout(()=>{H(this,$n).isStale||this.updateResult()},n))},HN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,dt)):this.options.refetchInterval)??!1},qN=function(t){nt(this,_t,YN).call(this),ye(this,ol,t),!(su||Za(this.options.enabled,H(this,dt))===!1||!FN(H(this,ol))||H(this,ol)===0)&&ye(this,Bc,setInterval(()=>{(this.options.refetchIntervalInBackground||pE.isFocused())&&nt(this,_t,mm).call(this)},H(this,ol)))},KN=function(){nt(this,_t,WN).call(this),nt(this,_t,qN).call(this,nt(this,_t,HN).call(this))},GN=function(){H(this,Fc)&&(clearTimeout(H(this,Fc)),ye(this,Fc,void 0))},YN=function(){H(this,Bc)&&(clearInterval(H(this,Bc)),ye(this,Bc,void 0))},XN=function(){const t=H(this,ta).getQueryCache().build(H(this,ta),this.options);if(t===H(this,dt))return;const r=H(this,dt);ye(this,dt,t),ye(this,Eg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D6=function(t){Hr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(H(this,$n))}),H(this,ta).getQueryCache().notify({query:H(this,dt),type:"observerResultsUpdated"})})},F3);function Ine(e,t){return Za(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gM(e,t){return Ine(e,t)||e.state.data!==void 0&&ZN(e,t,t.refetchOnMount)}function ZN(e,t,r){if(Za(t.enabled,e)!==!1&&Sl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&gE(e,t)}return!1}function vM(e,t,r,n){return(e!==t||Za(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&gE(e,r)}function gE(e,t){return Za(t.enabled,e)!==!1&&e.isStaleByTime(Sl(t.staleTime,e))}function $ne(e,t){return!Ox(e.getCurrentResult(),t)}var Lne=class extends R6{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Mx()})}getOptimisticResult(e){return e.behavior=Mx(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var v,g;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:s,isError:o,isRefetchError:l}=n,c=(g=(v=r.fetchMeta)==null?void 0:v.fetchMore)==null?void 0:g.direction,u=o&&c==="forward",d=a&&c==="forward",f=o&&c==="backward",h=a&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Mne(t,r.data),hasPreviousPage:Rne(t,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:h,isRefetchError:l&&!u&&!f,isRefetching:s&&!d&&!h}}},ll,cl,ra,Gi,so,Wy,QN,B3,Fne=(B3=class extends oh{constructor(r,n){super();Te(this,so);Te(this,ll);Te(this,cl);Te(this,ra);Te(this,Gi);ye(this,ll,r),this.setOptions(n),this.bindMethods(),nt(this,so,Wy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=H(this,ll).defaultMutationOptions(r),Ox(this.options,n)||H(this,ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,ra),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&iu(n.mutationKey)!==iu(this.options.mutationKey)?this.reset():((a=H(this,ra))==null?void 0:a.state.status)==="pending"&&H(this,ra).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,ra))==null||r.removeObserver(this)}onMutationUpdate(r){nt(this,so,Wy).call(this),nt(this,so,QN).call(this,r)}getCurrentResult(){return H(this,cl)}reset(){var r;(r=H(this,ra))==null||r.removeObserver(this),ye(this,ra,void 0),nt(this,so,Wy).call(this),nt(this,so,QN).call(this)}mutate(r,n){var a;return ye(this,Gi,n),(a=H(this,ra))==null||a.removeObserver(this),ye(this,ra,H(this,ll).getMutationCache().build(H(this,ll),this.options)),H(this,ra).addObserver(this),H(this,ra).execute(r)}},ll=new WeakMap,cl=new WeakMap,ra=new WeakMap,Gi=new WeakMap,so=new WeakSet,Wy=function(){var n;const r=((n=H(this,ra))==null?void 0:n.state)??T6();ye(this,cl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},QN=function(r){Hr.batch(()=>{var n,a,s,o,l,c,u,d;if(H(this,Gi)&&this.hasListeners()){const f=H(this,cl).variables,h=H(this,cl).context;(r==null?void 0:r.type)==="success"?((a=(n=H(this,Gi)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=H(this,Gi)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,Gi)).onError)==null||c.call(l,r.error,f,h),(d=(u=H(this,Gi)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(H(this,cl))})})},B3),I6=p.createContext(void 0),Mi=e=>{const t=p.useContext(I6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bne=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(I6.Provider,{value:e,children:t})),$6=p.createContext(!1),zne=()=>p.useContext($6);$6.Provider;function Une(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vne=p.createContext(Une()),Wne=()=>p.useContext(Vne),Hne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qne=e=>{p.useEffect(()=>{e.clearReset()},[e])},Kne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||C6(r,[e.error,n])),Gne=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Yne=(e,t)=>e.isLoading&&e.isFetching&&!t,Xne=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yM=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function L6(e,t,r){var f,h,m,v,g;const n=zne(),a=Wne(),s=Mi(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",Gne(o),Hne(o,a),qne(a);const l=!s.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(x=>{const b=d?c.subscribe(Hr.batchCalls(x)):Fn;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),Xne(o,u))throw yM(o,c,a);if(Kne({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!su&&Yne(u,n)){const x=l?yM(o,c,a):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(Fn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Bn(e,t){return L6(e,R6)}function hf(e,t){const r=Mi(),[n]=p.useState(()=>new Fne(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Hr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=p.useCallback((o,l)=>{n.mutate(o,l).catch(Fn)},[n]);if(a.error&&C6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function Zne(e,t){return L6(e,Lne)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}var hl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hl||(hl={}));const xM="popstate";function Qne(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return JN("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rx(a)}return eae(t,r,null,e)}function Mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jne(){return Math.random().toString(36).substr(2,8)}function bM(e,t){return{usr:e.state,key:e.key,idx:t}}function JN(e,t,r,n){return r===void 0&&(r=null),yp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lh(t):t,{state:r,key:t&&t.key||n||Jne()})}function Rx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eae(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=hl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(yp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=hl.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:b})}function h(x,b){l=hl.Push;let y=JN(g.location,x,b);u=d()+1;let w=bM(y,u),j=g.createHref(y);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}s&&c&&c({action:l,location:g.location,delta:1})}function m(x,b){l=hl.Replace;let y=JN(g.location,x,b);u=d();let w=bM(y,u),j=g.createHref(y);o.replaceState(w,"",j),s&&c&&c({action:l,location:g.location,delta:0})}function v(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:Rx(x);return y=y.replace(/ $/,"%20"),Mr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xM,f),c=x,()=>{a.removeEventListener(xM,f),c=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(x){return o.go(x)}};return g}var wM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wM||(wM={}));function tae(e,t,r){return r===void 0&&(r="/"),rae(e,t,r)}function rae(e,t,r,n){let a=typeof t=="string"?lh(t):t,s=vE(a.pathname||"/",r);if(s==null)return null;let o=B6(e);nae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=pae(s);l=fae(o[c],u)}return l}function B6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Mr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:uae(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of z6(s.path))a(s,o,c)}),t}function z6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=z6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nae(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dae(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aae=/^:[\w-]+$/,sae=3,iae=2,oae=1,lae=10,cae=-2,jM=e=>e==="*";function uae(e,t){let r=e.split("/"),n=r.length;return r.some(jM)&&(n+=cae),t&&(n+=iae),r.filter(a=>!jM(a)).reduce((a,s)=>a+(aae.test(s)?sae:s===""?oae:lae),n)}function dae(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fae(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=hae({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Cl([s,f.pathname]),pathnameBase:xae(Cl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Cl([s,f.pathnameBase]))}return o}function hae(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mae(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function mae(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gae(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?lh(e):e;return{pathname:r?r.startsWith("/")?r:vae(r,t):t,search:bae(n),hash:wae(a)}}function vae(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function l1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yae(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U6(e,t){let r=yae(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function V6(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=lh(e):(a=yp({},e),Mr(!a.pathname||!a.pathname.includes("?"),l1("?","pathname","search",a)),Mr(!a.pathname||!a.pathname.includes("#"),l1("#","pathname","hash",a)),Mr(!a.search||!a.search.includes("#"),l1("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=gae(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cl=e=>e.join("/").replace(/\/\/+/g,"/"),xae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W6=["post","put","patch","delete"];new Set(W6);const _ae=["get",...W6];new Set(_ae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}const yE=p.createContext(null),Nae=p.createContext(null),ju=p.createContext(null),Wb=p.createContext(null),_u=p.createContext({outlet:null,matches:[],isDataRoute:!1}),H6=p.createContext(null);function Sae(e,t){let{relative:r}=t===void 0?{}:t;Gg()||Mr(!1);let{basename:n,navigator:a}=p.useContext(ju),{hash:s,pathname:o,search:l}=K6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Cl([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Gg(){return p.useContext(Wb)!=null}function ch(){return Gg()||Mr(!1),p.useContext(Wb).location}function q6(e){p.useContext(ju).static||p.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=p.useContext(_u);return e?Lae():Cae()}function Cae(){Gg()||Mr(!1);let e=p.useContext(yE),{basename:t,future:r,navigator:n}=p.useContext(ju),{matches:a}=p.useContext(_u),{pathname:s}=ch(),o=JSON.stringify(U6(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return q6(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=V6(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function K6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ju),{matches:a}=p.useContext(_u),{pathname:s}=ch(),o=JSON.stringify(U6(a,n.v7_relativeSplatPath));return p.useMemo(()=>V6(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function kae(e,t){return Eae(e,t)}function Eae(e,t,r,n){Gg()||Mr(!1);let{navigator:a}=p.useContext(ju),{matches:s}=p.useContext(_u),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ch(),d;if(t){var f;let x=typeof t=="string"?lh(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Mr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=tae(e,{pathname:m}),g=Mae(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Cl([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Cl([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&g?p.createElement(Wb.Provider,{value:{location:xp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hl.Pop}},g):g}function Aae(){let e=$ae(),t=jae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const Pae=p.createElement(Aae,null);class Oae extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(_u.Provider,{value:this.props.routeContext},p.createElement(H6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tae(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(yE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(_u.Provider,{value:t},n)}function Mae(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Mr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,g=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Pae,c&&(u<0&&h===0?(Fae("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=g:v?w=x:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(Tae,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Oae,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var G6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(G6||{}),Y6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y6||{});function Rae(e){let t=p.useContext(yE);return t||Mr(!1),t}function Dae(e){let t=p.useContext(Nae);return t||Mr(!1),t}function Iae(e){let t=p.useContext(_u);return t||Mr(!1),t}function X6(e){let t=Iae(),r=t.matches[t.matches.length-1];return r.route.id||Mr(!1),r.route.id}function $ae(){var e;let t=p.useContext(H6),r=Dae(),n=X6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Lae(){let{router:e}=Rae(G6.UseNavigateStable),t=X6(Y6.UseNavigateStable),r=p.useRef(!1);return q6(()=>{r.current=!0}),p.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xp({fromRouteId:t},s)))},[e,t])}const _M={};function Fae(e,t,r){_M[e]||(_M[e]=!0)}function Bae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ui(e){Mr(!1)}function zae(e){let{basename:t="/",children:r=null,location:n,navigationType:a=hl.Pop,navigator:s,static:o=!1,future:l}=e;Gg()&&Mr(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:o,future:xp({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=lh(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,g=p.useMemo(()=>{let x=vE(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return g==null?null:p.createElement(ju.Provider,{value:u},p.createElement(Wb.Provider,{children:r,value:g}))}function Uae(e){let{children:t,location:r}=e;return kae(eS(t),r)}new Promise(()=>{});function eS(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let s=[...t,a];if(n.type===p.Fragment){r.push.apply(r,eS(n.props.children,s));return}n.type!==Ui&&Mr(!1),!n.props.index||!n.props.children||Mr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=eS(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function Vae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hae(e,t){return e.button===0&&(!t||t==="_self")&&!Wae(e)}function rS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qae(e,t){let r=rS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Kae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gae="6";try{window.__reactRouterVersion=Gae}catch{}const Yae="startTransition",NM=Gk[Yae];function Xae(e){let{basename:t,children:r,future:n,window:a}=e,s=p.useRef();s.current==null&&(s.current=Qne({window:a,v5Compat:!0}));let o=s.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&NM?NM(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Bae(n),[n]),p.createElement(zae,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Zae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dx=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Vae(t,Kae),{basename:m}=p.useContext(ju),v,g=!1;if(typeof u=="string"&&Qae.test(u)&&(v=u,Zae))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=vE(j.pathname,m);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let x=Sae(u,{relative:a}),b=Jae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return p.createElement("a",tS({},h,{href:v||x,onClick:g||s?n:y,ref:r,target:c}))});var SM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SM||(SM={}));var CM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(CM||(CM={}));function Jae(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Js(),u=ch(),d=K6(e,{relative:o});return p.useCallback(f=>{if(Hae(f,r)){f.preventDefault();let h=n!==void 0?n:Rx(u)===Rx(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function ese(e){let t=p.useRef(rS(e)),r=p.useRef(!1),n=ch(),a=p.useMemo(()=>qae(n.search,r.current?null:t.current),[n.search]),s=Js(),o=p.useCallback((l,c)=>{const u=rS(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}var tse=typeof Element<"u",rse=typeof Map=="function",nse=typeof Set=="function",ase=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Hy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Hy(e[n],t[n]))return!1;return!0}var s;if(rse&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!Hy(n.value[1],t.get(n.value[0])))return!1;return!0}if(nse&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(ase&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(tse&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Hy(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var sse=function(t,r){try{return Hy(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const ise=vt(sse);var ose=function(e,t,r,n,a,s,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,s,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},lse=ose;const kM=vt(lse);var cse=function(t,r,n,a){var s=n?n.call(a,t,r):void 0;if(s!==void 0)return!!s;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],h=r[d];if(s=n?n.call(a,f,h,d):void 0,s===!1||s===void 0&&f!==h)return!1}return!0};const use=vt(cse);var Z6=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Z6||{}),c1={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},EM=Object.values(Z6),xE={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dse=Object.entries(xE).reduce((e,[t,r])=>(e[r]=t,e),{}),Is="data-rh",Ad={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Pd=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},fse=e=>{let t=Pd(e,"title");const r=Pd(e,Ad.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Pd(e,Ad.DEFAULT_TITLE);return t||n||void 0},hse=e=>Pd(e,Ad.ON_CHANGE_CLIENT_STATE)||(()=>{}),u1=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),mse=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),pse=e=>console&&typeof console.warn=="function"&&console.warn(e),Yh=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&pse(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,s)=>{const o={};s.filter(c=>{let u;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const m=d[h],v=m.toLowerCase();t.indexOf(v)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(v==="rel"&&c[v].toLowerCase()==="stylesheet")&&(u=v),t.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},gse=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},vse=e=>({baseTag:mse(["href"],e),bodyAttributes:u1("bodyAttributes",e),defer:Pd(e,Ad.DEFER),encode:Pd(e,Ad.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:u1("htmlAttributes",e),linkTags:Yh("link",["rel","href"],e),metaTags:Yh("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Yh("noscript",["innerHTML"],e),onChangeClientState:hse(e),scriptTags:Yh("script",["src","innerHTML"],e),styleTags:Yh("style",["cssText"],e),title:fse(e),titleAttributes:u1("titleAttributes",e),prioritizeSeoTags:gse(e,Ad.PRIORITIZE_SEO_TAGS)}),Q6=e=>Array.isArray(e)?e.join(""):e,yse=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},d1=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(yse(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},AM=(e,t)=>({...e,[t]:void 0}),xse=["noscript","script","style"],nS=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),J6=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),bse=(e,t,r,n)=>{const a=J6(r),s=Q6(t);return a?`<${e} ${Is}="true" ${a}>${nS(s,n)}</${e}>`:`<${e} ${Is}="true">${nS(s,n)}</${e}>`},wse=(e,t,r=!0)=>t.reduce((n,a)=>{const s=a,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:`${d}="${nS(s[d],r)}"`;return u?`${u} ${f}`:f},""),l=s.innerHTML||s.cssText||"",c=xse.indexOf(e)===-1;return`${n}<${e} ${Is}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),e8=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=xE[n];return r[a||n]=e[n],r},t),jse=(e,t,r)=>{const n={key:t,[Is]:!0},a=e8(r,n);return[L.createElement("title",a,t)]},qy=(e,t)=>t.map((r,n)=>{const a={key:n,[Is]:!0};return Object.keys(r).forEach(s=>{const l=xE[s]||s;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[s]}),L.createElement(e,a)}),Ya=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>jse(e,t.title,t.titleAttributes),toString:()=>bse(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>e8(t),toString:()=>J6(t)};default:return{toComponent:()=>qy(e,t),toString:()=>wse(e,t,r)}}},_se=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=d1(e,c1.meta),s=d1(t,c1.link),o=d1(r,c1.script);return{priorityMethods:{toComponent:()=>[...qy("meta",a.priority),...qy("link",s.priority),...qy("script",o.priority)],toString:()=>`${Ya("meta",a.priority,n)} ${Ya("link",s.priority,n)} ${Ya("script",o.priority,n)}`},metaTags:a.default,linkTags:s.default,scriptTags:o.default}},Nse=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:d,metaTags:f,scriptTags:h}=_se(e)),{priority:m,base:Ya("base",t,n),bodyAttributes:Ya("bodyAttributes",r,n),htmlAttributes:Ya("htmlAttributes",a,n),link:Ya("link",d,n),meta:Ya("meta",f,n),noscript:Ya("noscript",s,n),script:Ya("script",h,n),style:Ya("style",o,n),title:Ya("title",{title:l,titleAttributes:c},n)}},aS=Nse,Yv=[],t8=!!(typeof window<"u"&&window.document&&window.document.createElement),sS=class{constructor(e,t){Va(this,"instances",[]);Va(this,"canUseDOM",t8);Va(this,"context");Va(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Yv:this.instances,add:e=>{(this.canUseDOM?Yv:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Yv:this.instances).indexOf(e);(this.canUseDOM?Yv:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=aS({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Sse={},r8=L.createContext(Sse),zc,n8=(zc=class extends p.Component{constructor(r){super(r);Va(this,"helmetData");this.helmetData=new sS(this.props.context||{},zc.canUseDOM)}render(){return L.createElement(r8.Provider,{value:this.helmetData.value},this.props.children)}},Va(zc,"canUseDOM",t8),zc),Tu=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Is}]`),a=[].slice.call(n),s=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Is,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):s.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:s}},iS=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Is),a=n?n.split(","):[],s=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)r.removeAttribute(s[l]);a.length===s.length?r.removeAttribute(Is):r.getAttribute(Is)!==o.join(",")&&r.setAttribute(Is,o.join(","))},Cse=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=Q6(e)),iS("title",t)},PM=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=e;iS("body",n),iS("html",a),Cse(f,h);const m={baseTag:Tu("base",r),linkTags:Tu("link",s),metaTags:Tu("meta",o),noscriptTags:Tu("noscript",l),scriptTags:Tu("script",u),styleTags:Tu("style",d)},v={},g={};Object.keys(m).forEach(x=>{const{newTags:b,oldTags:y}=m[x];b.length&&(v[x]=b),y.length&&(g[x]=m[x].oldTags)}),t&&t(),c(e,v,g)},Xh=null,kse=e=>{Xh&&cancelAnimationFrame(Xh),e.defer?Xh=requestAnimationFrame(()=>{PM(e,()=>{Xh=null})}):(PM(e),Xh=null)},Ese=kse,OM=class extends p.Component{constructor(){super(...arguments);Va(this,"rendered",!1)}shouldComponentUpdate(t){return!use(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=vse(t.get().map(s=>{const o={...s.props};return delete o.context,o}));n8.canUseDOM?Ese(a):aS&&(n=aS(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},D_,kl=(D_=class extends p.Component{shouldComponentUpdate(e){return!ise(AM(this.props,"helmetData"),AM(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return kM(EM.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${EM.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),kM(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return L.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...s}=n.props,o=Object.keys(s).reduce((c,u)=>(c[dse[u]||u]=s[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof sS)){const a=n;n=new sS(a.context,!0),delete r.helmetData}return n?L.createElement(OM,{...r,context:n.value}):L.createElement(r8.Consumer,null,a=>L.createElement(OM,{...r,context:a}))}},Va(D_,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),D_);const bp=$g("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?FQ:"button";return i.jsx(o,{className:oe(bp({variant:t,size:r,className:e})),ref:s,...a})});K.displayName="Button";const bE=p.createContext({});function Yg(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const wE=typeof window<"u",jE=wE?p.useLayoutEffect:p.useEffect,Hb=p.createContext(null);function _E(e,t){e.indexOf(t)===-1&&e.push(t)}function qb(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const mo=(e,t,r)=>r>t?t:r<e?e:r;let NE=()=>{};const po={},a8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function s8(e){return typeof e=="object"&&e!==null}const i8=e=>/^0[^.\s]+$/u.test(e);function SE(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,Ase=(e,t)=>r=>t(e(r)),Xg=(...e)=>e.reduce(Ase),mf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class CE{constructor(){this.subscriptions=[]}add(t){return _E(this.subscriptions,t),()=>qb(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zs=e=>e*1e3,as=e=>e/1e3;function o8(e,t){return t?e*(1e3/t):0}const Pse=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},l8=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Ose=1e-7,Tse=12;function Mse(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=l8(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>Ose&&++l<Tse);return o}function Zg(e,t,r,n){if(e===t&&r===n)return cs;const a=s=>Mse(s,0,1,e,r);return s=>s===0||s===1?s:l8(a(s),t,n)}const c8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,u8=e=>t=>1-e(1-t),d8=Zg(.33,1.53,.69,.99),kE=u8(d8),f8=c8(kE),h8=e=>(e*=2)<1?.5*kE(e):.5*(2-Math.pow(2,-10*(e-1))),EE=e=>1-Math.sin(Math.acos(e)),m8=u8(EE),p8=c8(EE),Rse=Zg(.42,0,1,1),Dse=Zg(0,0,.58,1),g8=Zg(.42,0,.58,1),v8=e=>Array.isArray(e)&&typeof e[0]!="number";function y8(e,t){return v8(e)?e[Pse(0,e.length,t)]:e}const x8=e=>Array.isArray(e)&&typeof e[0]=="number",Ise={linear:cs,easeIn:Rse,easeInOut:g8,easeOut:Dse,circIn:EE,circInOut:p8,circOut:m8,backIn:kE,backInOut:f8,backOut:d8,anticipate:h8},$se=e=>typeof e=="string",TM=e=>{if(x8(e)){NE(e.length===4);const[t,r,n,a]=e;return Zg(t,r,n,a)}else if($se(e))return Ise[e];return e},Xv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Lse(e,t){let r=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const v=h&&a?r:n;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,s&&(s=!1,u.process(d))}};return u}const Fse=40;function b8(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Xv.reduce((w,j)=>(w[j]=Lse(s),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:v}=o,g=()=>{const w=po.useManualTiming?a.timestamp:performance.now();r=!1,po.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Fse),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),v.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:Xv.reduce((w,j)=>{const _=o[j];return w[j]=(N,S=!1,k=!1)=>(r||x(),_.schedule(N,S,k)),w},{}),cancel:w=>{for(let j=0;j<Xv.length;j++)o[Xv[j]].cancel(w)},state:a,steps:o}}const{schedule:er,cancel:go,state:xn,steps:f1}=b8(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Ky;function Bse(){Ky=void 0}const la={now:()=>(Ky===void 0&&la.set(xn.isProcessing||po.useManualTiming?xn.timestamp:performance.now()),Ky),set:e=>{Ky=e,queueMicrotask(Bse)}},w8=e=>t=>typeof t=="string"&&t.startsWith(e),j8=w8("--"),zse=w8("var(--"),AE=e=>zse(e)?Use.test(e.split("/*")[0].trim()):!1,Use=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wp={...uh,transform:e=>mo(0,1,e)},Zv={...uh,default:1},Tm=e=>Math.round(e*1e5)/1e5,PE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vse(e){return e==null}const Wse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,OE=(e,t)=>r=>!!(typeof r=="string"&&Wse.test(r)&&r.startsWith(e)||t&&!Vse(r)&&Object.prototype.hasOwnProperty.call(r,t)),_8=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(PE);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Hse=e=>mo(0,255,e),h1={...uh,transform:e=>Math.round(Hse(e))},_c={test:OE("rgb","red"),parse:_8("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+h1.transform(e)+", "+h1.transform(t)+", "+h1.transform(r)+", "+Tm(wp.transform(n))+")"};function qse(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const oS={test:OE("#"),parse:qse,transform:_c.transform},Qg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zo=Qg("deg"),bi=Qg("%"),Be=Qg("px"),Kse=Qg("vh"),Gse=Qg("vw"),MM={...bi,parse:e=>bi.parse(e)/100,transform:e=>bi.transform(e*100)},ud={test:OE("hsl","hue"),parse:_8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+bi.transform(Tm(t))+", "+bi.transform(Tm(r))+", "+Tm(wp.transform(n))+")"},Pr={test:e=>_c.test(e)||oS.test(e)||ud.test(e),parse:e=>_c.test(e)?_c.parse(e):ud.test(e)?ud.parse(e):oS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_c.transform(e):ud.transform(e),getAnimatableNone:e=>{const t=Pr.parse(e);return t.alpha=0,Pr.transform(t)}},Yse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(PE))==null?void 0:t.length)||0)+(((r=e.match(Yse))==null?void 0:r.length)||0)>0}const N8="number",S8="color",Zse="var",Qse="var(",RM="${}",Jse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jp(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(Jse,c=>(Pr.test(c)?(n.color.push(s),a.push(S8),r.push(Pr.parse(c))):c.startsWith(Qse)?(n.var.push(s),a.push(Zse),r.push(c)):(n.number.push(s),a.push(N8),r.push(parseFloat(c))),++s,RM)).split(RM);return{values:r,split:l,indexes:n,types:a}}function C8(e){return jp(e).values}function k8(e){const{split:t,types:r}=jp(e),n=t.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],a[o]!==void 0){const l=r[o];l===N8?s+=Tm(a[o]):l===S8?s+=Pr.transform(a[o]):s+=a[o]}return s}}const eie=e=>typeof e=="number"?0:Pr.test(e)?Pr.getAnimatableNone(e):e;function tie(e){const t=C8(e);return k8(e)(t.map(eie))}const $l={test:Xse,parse:C8,createTransformer:k8,getAnimatableNone:tie};function m1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=m1(c,l,e+1/3),s=m1(c,l,e),o=m1(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Ix(e,t){return r=>r>0?t:e}const rr=(e,t,r)=>e+(t-e)*r,p1=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},nie=[oS,_c,ud],aie=e=>nie.find(t=>t.test(e));function DM(e){const t=aie(e);if(!t)return!1;let r=t.parse(e);return t===ud&&(r=rie(r)),r}const IM=(e,t)=>{const r=DM(e),n=DM(t);if(!r||!n)return Ix(e,t);const a={...r};return s=>(a.red=p1(r.red,n.red,s),a.green=p1(r.green,n.green,s),a.blue=p1(r.blue,n.blue,s),a.alpha=rr(r.alpha,n.alpha,s),_c.transform(a))},lS=new Set(["none","hidden"]);function sie(e,t){return lS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function iie(e,t){return r=>rr(e,t,r)}function TE(e){return typeof e=="number"?iie:typeof e=="string"?AE(e)?Ix:Pr.test(e)?IM:cie:Array.isArray(e)?E8:typeof e=="object"?Pr.test(e)?IM:oie:Ix}function E8(e,t){const r=[...e],n=r.length,a=e.map((s,o)=>TE(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function oie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=TE(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function lie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][n[s]],l=e.values[o]??0;r[a]=l,n[s]++}return r}const cie=(e,t)=>{const r=$l.createTransformer(t),n=jp(e),a=jp(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?lS.has(e)&&!a.values.length||lS.has(t)&&!n.values.length?sie(e,t):Xg(E8(lie(n,a),a.values),r):Ix(e,t)};function A8(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?rr(e,t,r):TE(e)(e,t)}const uie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>er.update(t,r),stop:()=>go(t),now:()=>xn.isProcessing?xn.timestamp:la.now()}},P8=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},$x=2e4;function ME(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<$x;)t+=r,n=e.next(t);return t>=$x?1/0:t}function O8(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(ME(n),$x);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:as(a)}}const die=5;function T8(e,t,r){const n=Math.max(t-die,0);return o8(r-e(n),t-n)}const gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},g1=.001;function fie({duration:e=gr.duration,bounce:t=gr.bounce,velocity:r=gr.velocity,mass:n=gr.mass}){let a,s,o=1-t;o=mo(gr.minDamping,gr.maxDamping,o),e=mo(gr.minDuration,gr.maxDuration,as(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,m=cS(u,o),v=Math.exp(-f);return g1-h/m*v},s=u=>{const f=u*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=cS(Math.pow(u,2),o);return(-a(u)+g1>0?-1:1)*((h-m)*v)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-g1+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=mie(a,s,l);if(e=zs(e),isNaN(c))return{stiffness:gr.stiffness,damping:gr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const hie=12;function mie(e,t,r){let n=r;for(let a=1;a<hie;a++)n=n-e(n)/t(n);return n}function cS(e,t){return e*Math.sqrt(1-t*t)}const pie=["duration","bounce"],gie=["stiffness","damping","mass"];function $M(e,t){return t.some(r=>e[r]!==void 0)}function vie(e){let t={velocity:gr.velocity,stiffness:gr.stiffness,damping:gr.damping,mass:gr.mass,isResolvedFromDuration:!1,...e};if(!$M(e,gie)&&$M(e,pie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*mo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:gr.mass,stiffness:a,damping:s}}else{const r=fie(e);t={...t,...r,mass:gr.mass},t.isResolvedFromDuration=!0}return t}function _p(e=gr.visualDuration,t=gr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=vie({...r,velocity:-as(r.velocity||0)}),v=h||0,g=u/(2*Math.sqrt(c*d)),x=o-s,b=as(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?gr.restSpeed.granular:gr.restSpeed.default),a||(a=y?gr.restDelta.granular:gr.restDelta.default);let w;if(g<1){const _=cS(b,g);w=N=>{const S=Math.exp(-g*b*N);return o-S*((v+g*b*x)/_*Math.sin(_*N)+x*Math.cos(_*N))}}else if(g===1)w=_=>o-Math.exp(-b*_)*(x+(v+b*x)*_);else{const _=b*Math.sqrt(g*g-1);w=N=>{const S=Math.exp(-g*b*N),k=Math.min(_*N,300);return o-S*((v+g*b*x)*Math.sinh(k)+_*x*Math.cosh(k))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const N=w(_);if(m)l.done=_>=f;else{let S=_===0?v:0;g<1&&(S=_===0?zs(v):T8(w,_,N));const k=Math.abs(S)<=n,C=Math.abs(o-N)<=a;l.done=k&&C}return l.value=l.done?o:N,l},toString:()=>{const _=Math.min(ME(j),$x),N=P8(S=>j.next(_*S).value,_,30);return _+"ms "+N},toTransition:()=>{}};return j}_p.applyToOptions=e=>{const t=O8(e,100,_p);return e.ease=t.ease,e.duration=zs(t.duration),e.type="keyframes",e};function uS({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,v=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=r*t;const x=f+g,b=o===void 0?x:o(x);b!==x&&(g=b-f);const y=k=>-g*Math.exp(-k/n),w=k=>b+y(k),j=k=>{const C=y(k),A=w(k);h.done=Math.abs(C)<=u,h.value=h.done?b:A};let _,N;const S=k=>{m(h.value)&&(_=k,N=_p({keyframes:[h.value,v(h.value)],velocity:T8(w,k,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:k=>{let C=!1;return!N&&_===void 0&&(C=!0,j(k),S(k)),_!==void 0&&k>=_?N.next(k-_):(!C&&j(k),h)}}}function yie(e,t,r){const n=[],a=r||po.mix||A8,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||cs:t;l=Xg(c,l)}n.push(l)}return n}function M8(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(NE(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=yie(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=mf(e[f],e[f+1],d);return l[f](h)};return r?d=>u(mo(e[0],e[s-1],d)):u}function R8(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=mf(0,t,n);e.push(rr(r,1,a))}}function D8(e){const t=[0];return R8(t,e.length-1),t}function xie(e,t){return e.map(r=>r*t)}function bie(e,t){return e.map(()=>t||g8).splice(0,e.length-1)}function Mm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=v8(n)?n.map(TM):TM(n),s={done:!1,value:t[0]},o=xie(r&&r.length===t.length?r:D8(t),e),l=M8(o,t,{ease:Array.isArray(a)?a:bie(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const wie=e=>e!==null;function RE(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(wie),l=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const jie={decay:uS,inertia:uS,tween:Mm,keyframes:Mm,spring:_p};function I8(e){typeof e.type=="string"&&(e.type=jie[e.type])}class DE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const _ie=e=>e/100;class IE extends DE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==la.now()&&this.tick(la.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;I8(t);const{type:r=Mm,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Mm;c!==Mm&&typeof l[0]!="number"&&(this.mixKeyframes=Xg(_ie,A8(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ME(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,j=n;if(f){const k=Math.min(this.currentTime,a)/l;let C=Math.floor(k),A=k%1;!A&&k>=1&&(A=1),A===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(A=1-A,m&&(A-=m/l)):h==="mirror"&&(j=o)),w=mo(0,1,A)*l}const _=y?{done:!1,value:d[0]}:j.next(w);s&&(_.value=s(_.value));let{done:N}=_;!y&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return S&&v!==uS&&(_.value=RE(d,this.options,x,this.speed)),g&&g(_.value),S&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return as(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+as(t)}get time(){return as(this.currentTime)}set time(t){var r;t=zs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(la.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=as(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=uie,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(la.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Nie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Nc=e=>e*180/Math.PI,dS=e=>{const t=Nc(Math.atan2(e[1],e[0]));return fS(t)},Sie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dS,rotateZ:dS,skewX:e=>Nc(Math.atan(e[1])),skewY:e=>Nc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fS=e=>(e=e%360,e<0&&(e+=360),e),LM=dS,FM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),BM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Cie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FM,scaleY:BM,scale:e=>(FM(e)+BM(e))/2,rotateX:e=>fS(Nc(Math.atan2(e[6],e[5]))),rotateY:e=>fS(Nc(Math.atan2(-e[2],e[0]))),rotateZ:LM,rotate:LM,skewX:e=>Nc(Math.atan(e[4])),skewY:e=>Nc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function hS(e){return e.includes("scale")?1:0}function mS(e,t){if(!e||e==="none")return hS(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Cie,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Sie,a=l}if(!a)return hS(t);const s=n[t],o=a[1].split(",").map(Eie);return typeof s=="function"?s(o):o[s]}const kie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mS(r,t)};function Eie(e){return parseFloat(e.trim())}const dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fh=new Set(dh),zM=e=>e===uh||e===Be,Aie=new Set(["x","y","z"]),Pie=dh.filter(e=>!Aie.has(e));function Oie(e){const t=[];return Pie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Wc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mS(t,"x"),y:(e,{transform:t})=>mS(t,"y")};Wc.translateX=Wc.x;Wc.translateY=Wc.y;const Hc=new Set;let pS=!1,gS=!1,vS=!1;function $8(){if(gS){const e=Array.from(Hc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Oie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gS=!1,pS=!1,Hc.forEach(e=>e.complete(vS)),Hc.clear()}function L8(){Hc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gS=!0)})}function Tie(){vS=!0,L8(),$8(),vS=!1}class $E{constructor(t,r,n,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hc.add(this),pS||(pS=!0,er.read(L8),er.resolveKeyframes($8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}Nie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hc.delete(this)}cancel(){this.state==="scheduled"&&(Hc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mie=e=>e.startsWith("--");function Rie(e,t,r){Mie(t)?e.style.setProperty(t,r):e.style[t]=r}const Die=SE(()=>window.ScrollTimeline!==void 0),Iie={};function $ie(e,t){const r=SE(e);return()=>Iie[t]??r()}const F8=$ie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,UM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pm([0,.65,.55,1]),circOut:pm([.55,0,1,.45]),backIn:pm([.31,.01,.66,-.59]),backOut:pm([.33,1.53,.69,.99])};function B8(e,t){if(e)return typeof e=="function"?F8()?P8(e,t):"ease-out":x8(e)?pm(e):Array.isArray(e)?e.map(r=>B8(r,t)||UM.easeOut):UM[e]}function Lie(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=B8(l,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function LE(e){return typeof e=="function"&&"applyToOptions"in e}function Fie({type:e,...t}){return LE(e)&&F8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Bie extends DE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,NE(typeof t.type!="string");const u=Fie(t);this.animation=Lie(r,n,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=RE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Rie(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return as(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+as(t)}get time(){return as(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Die()?(this.animation.timeline=t,cs):r(this)}}const z8={anticipate:h8,backInOut:f8,circInOut:p8};function zie(e){return e in z8}function Uie(e){typeof e.ease=="string"&&zie(e.ease)&&(e.ease=z8[e.ease])}const VM=10;class Vie extends Bie{constructor(t){Uie(t),I8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new IE({...o,autoplay:!1}),c=zs(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-VM).value,l.sample(c).value,VM),l.stop()}}const WM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($l.test(e)||e==="0")&&!e.startsWith("url("));function Wie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Hie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=WM(a,t),l=WM(s,t);return!o||!l?!1:Wie(e)||(r==="spring"||LE(r))&&n}function yS(e){e.duration=0,e.type="keyframes"}const qie=new Set(["opacity","clipPath","filter","transform"]),Kie=SE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gie(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Kie()&&r&&qie.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&s!==0&&o!=="inertia"}const Yie=40;class Xie extends DE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=la.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||$E;this.keyframeResolver=new m(l,(g,x,b)=>this.onKeyframesResolved(g,x,h,!b),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=la.now(),Hie(t,s,o,l)||((po.instantAnimations||!c)&&(d==null||d(RE(t,n,r))),t[0]=t[t.length-1],yS(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&Gie(h)?new Vie({...h,element:h.motionValue.owner.current}):new IE(h);m.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Tie()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Zie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return HM(this.animations,"duration")}get iterationDuration(){return HM(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function HM(e,t){let r=0;for(let n=0;n<e.length;n++){const a=e[n][t];a!==null&&a>r&&(r=a)}return r}class Qie extends Zie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Jie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eoe(e){const t=Jie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function U8(e,t,r=1){const[n,a]=eoe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return a8(o)?parseFloat(o):o}return AE(a)?U8(a,t,r+1):a}function FE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const V8=new Set(["width","height","top","left","right","bottom",...dh]),toe={test:e=>e==="auto",parse:e=>e},W8=e=>t=>t.test(e),H8=[uh,Be,bi,zo,Gse,Kse,toe],qM=e=>H8.find(W8(e));function roe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||i8(e):!0}const noe=new Set(["brightness","contrast","saturate","opacity"]);function aoe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(PE)||[];if(!n)return e;const a=r.replace(n,"");let s=noe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const soe=/\b([a-z-]*)\(.*?\)/gu,xS={...$l,getAnimatableNone:e=>{const t=e.match(soe);return t?t.map(aoe).join(" "):e}},KM={...uh,transform:Math.round},ioe={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:Zv,scaleX:Zv,scaleY:Zv,scaleZ:Zv,skew:zo,skewX:zo,skewY:zo,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:wp,originX:MM,originY:MM,originZ:Be},BE={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...ioe,zIndex:KM,fillOpacity:wp,strokeOpacity:wp,numOctaves:KM},ooe={...BE,color:Pr,backgroundColor:Pr,outlineColor:Pr,fill:Pr,stroke:Pr,borderColor:Pr,borderTopColor:Pr,borderRightColor:Pr,borderBottomColor:Pr,borderLeftColor:Pr,filter:xS,WebkitFilter:xS},q8=e=>ooe[e];function K8(e,t){let r=q8(e);return r!==xS&&(r=$l),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const loe=new Set(["auto","none","0"]);function coe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!loe.has(s)&&jp(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=K8(r,a)}class uoe extends $E{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),AE(u))){const d=U8(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!V8.has(n)||t.length!==2)return;const[a,s]=t,o=qM(a),l=qM(s);if(o!==l)if(zM(o)&&zM(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Wc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||roe(t[a]))&&n.push(a);n.length&&coe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Wc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function G8(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Y8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function X8(e){return s8(e)&&"offsetHeight"in e}const GM=30,doe=e=>!isNaN(parseFloat(e)),Rm={current:void 0};class foe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=la.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=la.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=doe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new CE);const n=this.events[t].add(r);return t==="change"?()=>{n(),er.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Rm.current&&Rm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=la.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GM);return o8(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ou(e,t){return new foe(e,t)}const{schedule:zE}=b8(queueMicrotask,!1),Ns={x:!1,y:!1};function Z8(){return Ns.x||Ns.y}function hoe(e){return e==="x"||e==="y"?Ns[e]?null:(Ns[e]=!0,()=>{Ns[e]=!1}):Ns.x||Ns.y?null:(Ns.x=Ns.y=!0,()=>{Ns.x=Ns.y=!1})}function Q8(e,t){const r=G8(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function YM(e){return!(e.pointerType==="touch"||Z8())}function moe(e,t,r={}){const[n,a,s]=Q8(e,r),o=l=>{if(!YM(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{YM(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const J8=(e,t)=>t?e===t?!0:J8(e,t.parentElement):!1,UE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,poe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function goe(e){return poe.has(e.tagName)||e.tabIndex!==-1}const Gy=new WeakSet;function XM(e){return t=>{t.key==="Enter"&&e(t)}}function v1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const voe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=XM(()=>{if(Gy.has(r))return;v1(r,"down");const a=XM(()=>{v1(r,"up")}),s=()=>v1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function ZM(e){return UE(e)&&!Z8()}function yoe(e,t,r={}){const[n,a,s]=Q8(e,r),o=l=>{const c=l.currentTarget;if(!ZM(l))return;Gy.add(c);const u=t(c,l),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Gy.has(c)&&Gy.delete(c),ZM(m)&&typeof u=="function"&&u(m,{success:v})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||J8(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),X8(l)&&(l.addEventListener("focus",u=>voe(u,a)),!goe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function VE(e){return s8(e)&&"ownerSVGElement"in e}function ez(e){return VE(e)&&e.tagName==="svg"}function xoe(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],s=e[2+r],o=e[3+r],l=M8(a,s,o);return t?l(n):l}const on=e=>!!(e&&e.getVelocity),boe=[...H8,Pr,$l],woe=e=>boe.find(W8(e)),Kb=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function QM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function joe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=QM(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():QM(e[a],null)}}}}function _oe(...e){return p.useCallback(joe(...e),e)}class Noe extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=X8(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Soe({children:e,isPresent:t,anchorX:r,root:n}){const a=p.useId(),s=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Kb),c=_oe(s,e==null?void 0:e.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=o.current;if(t||!s.current||!u||!d)return;const v=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),i.jsx(Noe,{isPresent:t,childRef:s,sizeRef:o,children:p.cloneElement(e,{ref:c})})}const Coe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=Yg(koe),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),p.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[r]),p.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(Soe,{isPresent:r,anchorX:l,root:c,children:e})),i.jsx(Hb.Provider,{value:h,children:e})};function koe(){return new Map}function tz(e=!0){const t=p.useContext(Hb);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=p.useId();p.useEffect(()=>{if(e)return a(s)},[e]);const o=p.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const Qv=e=>e.key||"";function JM(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const Lt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=tz(o),f=p.useMemo(()=>JM(e),[e]),h=o&&!u?[]:f.map(Qv),m=p.useRef(!0),v=p.useRef(f),g=Yg(()=>new Map),[x,b]=p.useState(f),[y,w]=p.useState(f);jE(()=>{m.current=!1,v.current=f;for(let N=0;N<y.length;N++){const S=Qv(y[N]);h.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[y,h.length,h.join("-")]);const j=[];if(f!==x){let N=[...f];for(let S=0;S<y.length;S++){const k=y[S],C=Qv(k);h.includes(C)||(N.splice(S,0,k),j.push(k))}return s==="wait"&&j.length&&(N=j),w(JM(N)),b(f),null}const{forceRender:_}=p.useContext(bE);return i.jsx(i.Fragment,{children:y.map(N=>{const S=Qv(N),k=o&&!u?!1:f===y||h.includes(S),C=()=>{if(g.has(S))g.set(S,!0);else return;let A=!0;g.forEach(E=>{E||(A=!1)}),A&&(_==null||_(),w(v.current),o&&(d==null||d()),n&&n())};return i.jsx(Coe,{isPresent:k,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:k?void 0:C,anchorX:l,children:N},S)})})},rz=p.createContext({strict:!1}),eR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pf={};for(const e in eR)pf[e]={isEnabled:t=>eR[e].some(r=>!!t[r])};function Eoe(e){for(const t in e)pf[t]={...pf[t],...e[t]}}const Aoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Aoe.has(e)}let nz=e=>!Lx(e);function Poe(e){typeof e=="function"&&(nz=t=>t.startsWith("on")?!Lx(t):e(t))}try{Poe(require("@emotion/is-prop-valid").default)}catch{}function Ooe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(nz(a)||r===!0&&Lx(a)||!t&&!Lx(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Gb=p.createContext({});function Yb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Np(e){return typeof e=="string"||Array.isArray(e)}const WE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HE=["initial",...WE];function Xb(e){return Yb(e.animate)||HE.some(t=>Np(e[t]))}function az(e){return!!(Xb(e)||e.variants)}function Toe(e,t){if(Xb(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Np(r)?r:void 0,animate:Np(n)?n:void 0}}return e.inherit!==!1?t:{}}function Moe(e){const{initial:t,animate:r}=Toe(e,p.useContext(Gb));return p.useMemo(()=>({initial:t,animate:r}),[tR(t),tR(r)])}function tR(e){return Array.isArray(e)?e.join(" "):e}function rR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Be.test(e))e=parseFloat(e);else return e;const r=rR(e,t.target.x),n=rR(e,t.target.y);return`${r}% ${n}%`}},Roe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=$l.parse(e);if(a.length>5)return n;const s=$l.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=rr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}},bS={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:Roe};function sz(e,{layout:t,layoutId:r}){return fh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bS[e]||e==="opacity")}const Doe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ioe=dh.length;function $oe(e,t,r){let n="",a=!0;for(let s=0;s<Ioe;s++){const o=dh[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Y8(l,BE[o]);if(!c){a=!1;const d=Doe[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function qE(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(fh.has(c)){o=!0;continue}else if(j8(c)){a[c]=u;continue}else{const d=Y8(u,BE[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=$oe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const KE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iz(e,t,r){for(const n in t)!on(t[n])&&!sz(n,r)&&(e[n]=t[n])}function Loe({transformTemplate:e},t){return p.useMemo(()=>{const r=KE();return qE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Foe(e,t){const r=e.style||{},n={};return iz(n,r,e),Object.assign(n,Loe(e,t)),n}function Boe(e,t){const r={},n=Foe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const zoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uoe={offset:"strokeDashoffset",array:"strokeDasharray"};function Voe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?zoe:Uoe;e[s.offset]=Be.transform(-n);const o=Be.transform(t),l=Be.transform(r);e[s.array]=`${o} ${l}`}function oz(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,u,d){if(qE(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Voe(f,a,s,o,!1)}const lz=()=>({...KE(),attrs:{}}),cz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Woe(e,t,r,n){const a=p.useMemo(()=>{const s=lz();return oz(s,t,cz(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};iz(s,e.style,e),a.style={...s,...a.style}}return a}const Hoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GE(e){return typeof e!="string"||e.includes("-")?!1:!!(Hoe.indexOf(e)>-1||/[A-Z]/u.test(e))}function qoe(e,t,r,{latestValues:n},a,s=!1){const l=(GE(e)?Woe:Boe)(t,n,a,e),c=Ooe(t,typeof e=="string",s),u=e!==p.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=p.useMemo(()=>on(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function nR(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function YE(e,t,r,n){if(typeof t=="function"){const[a,s]=nR(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=nR(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function Yy(e){return on(e)?e.get():e}function Koe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Goe(r,n,a,e),renderState:t()}}function Goe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Yy(s[h]);let{initial:o,animate:l}=e;const c=Xb(e),u=az(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Yb(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=YE(e,h[m]);if(v){const{transitionEnd:g,transition:x,...b}=v;for(const y in b){let w=b[y];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[y]=w)}for(const y in g)a[y]=g[y]}}}return a}const uz=e=>(t,r)=>{const n=p.useContext(Gb),a=p.useContext(Hb),s=()=>Koe(e,t,n,a);return r?s():Yg(s)};function XE(e,t,r){var s;const{style:n}=e,a={};for(const o in n)(on(n[o])||t.style&&on(t.style[o])||sz(o,e)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Yoe=uz({scrapeMotionValuesFromProps:XE,createRenderState:KE});function dz(e,t,r){const n=XE(e,t,r);for(const a in e)if(on(e[a])||on(t[a])){const s=dh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const Xoe=uz({scrapeMotionValuesFromProps:dz,createRenderState:lz}),Zoe=Symbol.for("motionComponentSymbol");function dd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qoe(e,t,r){return p.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):dd(r)&&(r.current=n))},[t])}const ZE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Joe="framerAppearId",fz="data-"+ZE(Joe),hz=p.createContext({});function ele(e,t,r,n,a){var g,x;const{visualElement:s}=p.useContext(Gb),o=p.useContext(rz),l=p.useContext(Hb),c=p.useContext(Kb).reducedMotion,u=p.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(hz);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&tle(u.current,r,a,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[fz],v=p.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return jE(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),v.current=!1),d.enteringChildren=void 0)}),d}function tle(e,t,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:mz(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&dd(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function mz(e){if(e)return e.options.allowProjection!==!1?e.projection:mz(e.parent)}function y1(e,{forwardMotionProps:t=!1}={},r,n){r&&Eoe(r);const a=GE(e)?Xoe:Yoe;function s(l,c){let u;const d={...p.useContext(Kb),...l,layoutId:rle(l)},{isStatic:f}=d,h=Moe(l),m=a(l,f);if(!f&&wE){nle();const v=ale(d);u=v.MeasureLayout,h.visualElement=ele(e,m,d,n,v.ProjectionNode)}return i.jsxs(Gb.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,qoe(e,l,Qoe(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(s);return o[Zoe]=e,o}function rle({layoutId:e}){const t=p.useContext(bE).id;return t&&e!==void 0?t+"-"+e:e}function nle(e,t){p.useContext(rz).strict}function ale(e){const{drag:t,layout:r}=pf;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function sle(e,t){if(typeof Proxy>"u")return y1;const r=new Map,n=(s,o)=>y1(s,o,e,t),a=(s,o)=>n(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,y1(o,void 0,e,t)),r.get(o))})}function pz({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ile({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ole(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function x1(e){return e===void 0||e===1}function wS({scale:e,scaleX:t,scaleY:r}){return!x1(e)||!x1(t)||!x1(r)}function uc(e){return wS(e)||gz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gz(e){return aR(e.x)||aR(e.y)}function aR(e){return e&&e!=="0%"}function Fx(e,t,r){const n=e-r,a=t*n;return r+a}function sR(e,t,r,n,a){return a!==void 0&&(e=Fx(e,a,n)),Fx(e,r,n)+t}function jS(e,t=0,r=1,n,a){e.min=sR(e.min,t,r,n,a),e.max=sR(e.max,t,r,n,a)}function vz(e,{x:t,y:r}){jS(e.x,t.translate,t.scale,t.originPoint),jS(e.y,r.translate,r.scale,r.originPoint)}const iR=.999999999999,oR=1.0000000000001;function lle(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hd(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,vz(e,o)),n&&uc(s.latestValues)&&hd(e,s.latestValues))}t.x<oR&&t.x>iR&&(t.x=1),t.y<oR&&t.y>iR&&(t.y=1)}function fd(e,t){e.min=e.min+t,e.max=e.max+t}function lR(e,t,r,n,a=.5){const s=rr(e.min,e.max,a);jS(e,t,r,s,n)}function hd(e,t){lR(e.x,t.x,t.scaleX,t.scale,t.originX),lR(e.y,t.y,t.scaleY,t.scale,t.originY)}function yz(e,t){return pz(ole(e.getBoundingClientRect(),t))}function cle(e,t,r){const n=yz(e,r),{scroll:a}=t;return a&&(fd(n.x,a.offset.x),fd(n.y,a.offset.y)),n}const cR=()=>({translate:0,scale:1,origin:0,originPoint:0}),md=()=>({x:cR(),y:cR()}),uR=()=>({min:0,max:0}),kr=()=>({x:uR(),y:uR()}),_S={current:null},xz={current:!1};function ule(){if(xz.current=!0,!!wE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_S.current=e.matches;e.addEventListener("change",t),t()}else _S.current=!1}const Sp=new WeakMap;function dle(e,t,r){for(const n in t){const a=t[n],s=r[n];if(on(a))e.addValue(n,a);else if(on(s))e.addValue(n,ou(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,ou(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const dR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bz{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$E,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=la.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,er.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Xb(r),this.isVariantNode=az(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&on(m)&&m.set(c[h])}}mount(t){var r;this.current=t,Sp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),xz.current||ule(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_S.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=fh.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&er.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pf){const r=pf[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<dR.length;n++){const a=dR[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=dle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ou(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(a8(n)||i8(n))?n=parseFloat(n):!woe(n)&&$l.test(r)&&(n=K8(t,r)),this.setBaseTarget(t,on(n)?n.get():n)),on(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=YE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new CE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){zE.render(this.render)}}class wz extends bz{constructor(){super(...arguments),this.KeyframeResolver=uoe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jz(e,{style:t,vars:r},n,a){const s=e.style;let o;for(o in t)s[o]=t[o];a==null||a.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function fle(e){return window.getComputedStyle(e)}class _z extends wz{constructor(){super(...arguments),this.type="html",this.renderInstance=jz}readValueFromInstance(t,r){var n;if(fh.has(r))return(n=this.projection)!=null&&n.isProjecting?hS(r):kie(t,r);{const a=fle(t),s=(j8(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return yz(t,r)}build(t,r,n){qE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return XE(t,r,n)}}const Nz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hle(e,t,r,n){jz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Nz.has(a)?a:ZE(a),t.attrs[a])}class Sz extends wz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(fh.has(r)){const n=q8(r);return n&&n.default||0}return r=Nz.has(r)?r:ZE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return dz(t,r,n)}build(t,r,n){oz(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){hle(t,r,n,a)}mount(t){this.isSVGTag=cz(t.tagName),super.mount(t)}}const mle=(e,t)=>GE(e)?new Sz(t):new _z(t,{allowProjection:e!==p.Fragment});function Od(e,t,r){const n=e.getProps();return YE(n,t,r!==void 0?r:n.custom,e)}const NS=e=>Array.isArray(e);function ple(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ou(r))}function gle(e){return NS(e)?e[e.length-1]||0:e}function vle(e,t){const r=Od(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=gle(s[o]);ple(e,o,l)}}function yle(e){return!!(on(e)&&e.add)}function SS(e,t){const r=e.getValue("willChange");if(yle(r))return r.add(t);if(!r&&po.WillChange){const n=new po.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Cz(e){return e.props[fz]}const xle=e=>e!==null;function ble(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(xle),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const wle={type:"spring",stiffness:500,damping:25,restSpeed:10},jle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_le={type:"keyframes",duration:.8},Nle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sle=(e,{keyframes:t})=>t.length>2?_le:fh.has(e)?e.startsWith("scale")?jle(t[1]):wle:Nle;function Cle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const QE=(e,t,r,n={},a,s)=>o=>{const l=FE(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-zs(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};Cle(l)||Object.assign(d,Sle(e,d)),d.duration&&(d.duration=zs(d.duration)),d.repeatDelay&&(d.repeatDelay=zs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(yS(d),d.delay===0&&(f=!0)),(po.instantAnimations||po.skipAnimations)&&(f=!0,yS(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=ble(d.keyframes,l);if(h!==void 0){er.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new IE(d):new Xie(d)};function kle({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function JE(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&kle(u,d))continue;const m={delay:r,...FE(s||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=Cz(e);if(b){const y=window.MotionHandoffAnimation(b,d,er);y!==null&&(m.startTime=y,g=!0)}}SS(e,d),f.start(QE(d,f,h,e.shouldReduceMotion&&V8.has(d)?{type:!1}:m,e,g));const x=f.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{er.update(()=>{o&&vle(e,o)})}),c}function kz(e,t,r,n=0,a=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(s,o):a===1?s*n:l-s*n}function CS(e,t,r={}){var c;const n=Od(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(JE(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return Ele(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(r.delay)])}function Ele(e,t,r=0,n=0,a=0,s=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(CS(c,t,{...o,delay:r+(typeof n=="function"?0:n)+kz(e.variantChildren,c,n,a,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Ale(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>CS(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=CS(e,t,r);else{const a=typeof t=="function"?Od(e,t,r.custom):t;n=Promise.all(JE(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Ez(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Ple=HE.length;function Az(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Az(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Ple;r++){const n=HE[r],a=e.props[n];(Np(a)||a===!1)&&(t[n]=a)}return t}const Ole=[...WE].reverse(),Tle=WE.length;function Mle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ale(e,r,n)))}function Rle(e){let t=Mle(e),r=fR(),n=!0;const a=c=>(u,d)=>{var h;const f=Od(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...g}=f;u={...u,...g,...v}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=Az(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let x=0;x<Tle;x++){const b=Ole[x],y=r[b],w=u[b]!==void 0?u[b]:d[b],j=Np(w),_=b===c?y.isActive:null;_===!1&&(v=x);let N=w===d[b]&&w!==u[b]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...m},!y.isActive&&_===null||!w&&!y.prevProp||Yb(w)||typeof w=="boolean")continue;const S=Dle(y.prevProp,w);let k=S||b===c&&y.isActive&&!N&&j||x>v&&j,C=!1;const A=Array.isArray(w)?w:[w];let E=A.reduce(a(b),{});_===!1&&(E={});const{prevResolvedValues:P={}}=y,F={...P,...E},I=$=>{k=!0,h.has($)&&(C=!0,h.delete($)),y.needsAnimating[$]=!0;const D=e.getValue($);D&&(D.liveStyle=!1)};for(const $ in F){const D=E[$],T=P[$];if(m.hasOwnProperty($))continue;let U=!1;NS(D)&&NS(T)?U=!Ez(D,T):U=D!==T,U?D!=null?I($):h.add($):D!==void 0&&h.has($)?I($):y.protectedKeys[$]=!0}y.prevProp=w,y.prevResolvedValues=E,y.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(k=!1);const z=N&&S;k&&(!z||C)&&f.push(...A.map($=>{const D={type:b};if(typeof $=="string"&&n&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:T}=e,U=Od(T,$);if(T.enteringChildren&&U){const{delayChildren:R}=U.transition||{};D.delay=kz(T.enteringChildren,e,R)}}return{animation:$,options:D}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const b=Od(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(x.transition=b.transition)}h.forEach(b=>{const y=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),x[b]=y??null}),f.push({animation:x})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=fR()}}}function Dle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ez(t,e):!1}function tc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fR(){return{animate:tc(!0),whileInView:tc(),whileHover:tc(),whileTap:tc(),whileDrag:tc(),whileFocus:tc(),exit:tc()}}class Wl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ile extends Wl{constructor(t){super(t),t.animationState||(t.animationState=Rle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $le=0;class Lle extends Wl{constructor(){super(...arguments),this.id=$le++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Fle={animation:{Feature:Ile},exit:{Feature:Lle}};function Cp(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jg(e){return{point:{x:e.pageX,y:e.pageY}}}const Ble=e=>t=>UE(t)&&e(t,Jg(t));function Dm(e,t,r,n){return Cp(e,t,Ble(r),n)}const Pz=1e-4,zle=1-Pz,Ule=1+Pz,Oz=.01,Vle=0-Oz,Wle=0+Oz;function zn(e){return e.max-e.min}function Hle(e,t,r){return Math.abs(e-t)<=r}function hR(e,t,r,n=.5){e.origin=n,e.originPoint=rr(t.min,t.max,e.origin),e.scale=zn(r)/zn(t),e.translate=rr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=zle&&e.scale<=Ule||isNaN(e.scale))&&(e.scale=1),(e.translate>=Vle&&e.translate<=Wle||isNaN(e.translate))&&(e.translate=0)}function Im(e,t,r,n){hR(e.x,t.x,r.x,n?n.originX:void 0),hR(e.y,t.y,r.y,n?n.originY:void 0)}function mR(e,t,r){e.min=r.min+t.min,e.max=e.min+zn(t)}function qle(e,t,r){mR(e.x,t.x,r.x),mR(e.y,t.y,r.y)}function pR(e,t,r){e.min=t.min-r.min,e.max=e.min+zn(t)}function Bx(e,t,r){pR(e.x,t.x,r.x),pR(e.y,t.y,r.y)}function Ga(e){return[e("x"),e("y")]}const Tz=({current:e})=>e?e.ownerDocument.defaultView:null,gR=(e,t)=>Math.abs(e-t);function Kle(e,t){const r=gR(e.x,t.x),n=gR(e.y,t.y);return Math.sqrt(r**2+n**2)}class Mz{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=w1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=Kle(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=h,{timestamp:x}=xn;this.history.push({...g,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=b1(m,this.transformPagePoint),er.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=w1(h.type==="pointercancel"?this.lastMoveEventInfo:b1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,b),g&&g(h,b)},!UE(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Jg(t),c=b1(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=xn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,w1(c,this.history)),this.removeListeners=Xg(Dm(this.contextWindow,"pointermove",this.handlePointerMove),Dm(this.contextWindow,"pointerup",this.handlePointerUp),Dm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function b1(e,t){return t?{point:t(e.point)}:e}function vR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function w1({point:e},t){return{point:e,delta:vR(e,Rz(t)),offset:vR(e,Gle(t)),velocity:Yle(t,.1)}}function Gle(e){return e[0]}function Rz(e){return e[e.length-1]}function Yle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Rz(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>zs(t)));)r--;if(!n)return{x:0,y:0};const s=as(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xle(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?rr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?rr(r,e,n.max):Math.min(e,r)),e}function yR(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Zle(e,{top:t,left:r,bottom:n,right:a}){return{x:yR(e.x,r,a),y:yR(e.y,t,n)}}function xR(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Qle(e,t){return{x:xR(e.x,t.x),y:xR(e.y,t.y)}}function Jle(e,t){let r=.5;const n=zn(e),a=zn(t);return a>n?r=mf(t.min,t.max-n,e.min):n>a&&(r=mf(e.min,e.max-a,t.min)),mo(0,1,r)}function ece(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const kS=.35;function tce(e=kS){return e===!1?e=0:e===!0&&(e=kS),{x:bR(e,"left","right"),y:bR(e,"top","bottom")}}function bR(e,t,r){return{min:wR(e,t),max:wR(e,r)}}function wR(e,t){return typeof e=="number"?e:e[t]||0}const rce=new WeakMap;class nce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jg(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:v,onDragStart:g}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hoe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ga(b=>{let y=this.getAxisMotionValue(b).get()||0;if(bi.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[b];j&&(y=zn(j)*(parseFloat(y)/100))}}this.originPoint[b]=y}),g&&er.postRender(()=>g(f,h)),SS(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(v&&this.currentDirection===null){this.currentDirection=ace(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ga(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Mz(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Tz(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&er.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Jv(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Xle(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&dd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Zle(n.layoutBox,t):this.constraints=!1,this.elastic=tce(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ga(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ece(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!dd(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=cle(n,a.root,this.visualElement.getTransformPagePoint());let o=Qle(a.layout.layoutBox,s);if(r){const l=r(ile(o));this.hasMutatedConstraints=!!l,l&&(o=pz(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ga(d=>{if(!Jv(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return SS(this.visualElement,t),n.start(QE(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ga(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ga(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ga(r=>{const{drag:n}=this.getProps();if(!Jv(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-rr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!dd(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ga(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Jle({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ga(o=>{if(!Jv(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(rr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;rce.set(this.visualElement,this);const t=this.visualElement.current,r=Dm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();dd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),er.read(n);const o=Cp(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ga(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=kS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Jv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ace(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class sce extends Wl{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new nce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const jR=e=>(t,r)=>{e&&er.postRender(()=>e(t,r))};class ice extends Wl{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new Mz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:jR(t),onStart:jR(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&er.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=Dm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let j1=!1;class oce extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),j1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,j1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||er.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;j1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dz(e){const[t,r]=tz(),n=p.useContext(bE);return i.jsx(oce,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(hz),isPresent:t,safeToRemove:r})}function Iz(e,t,r){const n=on(e)?e:ou(e);return n.start(QE("",n,t,r)),n.animation}const lce=(e,t)=>e.depth-t.depth;class cce{constructor(){this.children=[],this.isDirty=!1}add(t){_E(this.children,t),this.isDirty=!0}remove(t){qb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lce),this.isDirty=!1,this.children.forEach(t)}}function uce(e,t){const r=la.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(go(n),e(s-t))};return er.setup(n,!0),()=>go(n)}const $z=["TopLeft","TopRight","BottomLeft","BottomRight"],dce=$z.length,_R=e=>typeof e=="string"?parseFloat(e):e,NR=e=>typeof e=="number"||Be.test(e);function fce(e,t,r,n,a,s){a?(e.opacity=rr(0,r.opacity??1,hce(n)),e.opacityExit=rr(t.opacity??1,0,mce(n))):s&&(e.opacity=rr(t.opacity??1,r.opacity??1,n));for(let o=0;o<dce;o++){const l=`border${$z[o]}Radius`;let c=SR(t,l),u=SR(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||NR(c)===NR(u)?(e[l]=Math.max(rr(_R(c),_R(u),n),0),(bi.test(u)||bi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=rr(t.rotate||0,r.rotate||0,n))}function SR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hce=Lz(0,.5,m8),mce=Lz(.5,.95,cs);function Lz(e,t,r){return n=>n<e?0:n>t?1:r(mf(e,t,n))}function CR(e,t){e.min=t.min,e.max=t.max}function ws(e,t){CR(e.x,t.x),CR(e.y,t.y)}function kR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ER(e,t,r,n,a){return e-=t,e=Fx(e,1/r,n),a!==void 0&&(e=Fx(e,1/a,n)),e}function pce(e,t=0,r=1,n=.5,a,s=e,o=e){if(bi.test(t)&&(t=parseFloat(t),t=rr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=rr(s.min,s.max,n);e===s&&(l-=t),e.min=ER(e.min,t,r,l,a),e.max=ER(e.max,t,r,l,a)}function AR(e,t,[r,n,a],s,o){pce(e,t[r],t[n],t[a],t.scale,s,o)}const gce=["x","scaleX","originX"],vce=["y","scaleY","originY"];function PR(e,t,r,n){AR(e.x,t,gce,r?r.x:void 0,n?n.x:void 0),AR(e.y,t,vce,r?r.y:void 0,n?n.y:void 0)}function OR(e){return e.translate===0&&e.scale===1}function Fz(e){return OR(e.x)&&OR(e.y)}function TR(e,t){return e.min===t.min&&e.max===t.max}function yce(e,t){return TR(e.x,t.x)&&TR(e.y,t.y)}function MR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Bz(e,t){return MR(e.x,t.x)&&MR(e.y,t.y)}function RR(e){return zn(e.x)/zn(e.y)}function DR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class xce{constructor(){this.members=[]}add(t){_E(this.members,t),t.scheduleRender()}remove(t){if(qb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bce(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const _1=["","X","Y","Z"],wce=1e3;let jce=0;function N1(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function zz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Cz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",er,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&zz(n)}function Uz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=jce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sce),this.nodes.forEach(Ace),this.nodes.forEach(Pce),this.nodes.forEach(Cce)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new CE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=VE(o)&&!ez(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;er.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=uce(h,250),Xy.hasAnimatedSinceResize&&(Xy.hasAnimatedSinceResize=!1,this.nodes.forEach(LR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Dce,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=u.getProps(),b=!this.targetLayout||!Bz(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...FE(v,"layout"),onPlay:g,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,y)}else f||LR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($R);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ece),this.nodes.forEach(_ce),this.nodes.forEach(Nce)):this.nodes.forEach($R),this.clearAllSnapshots();const l=la.now();xn.delta=mo(0,1e3/60,l-xn.timestamp),xn.timestamp=l,xn.isProcessing=!0,f1.update.process(xn),f1.preRender.process(xn),f1.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kce),this.sharedNodes.forEach(Tce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,er.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){er.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fz(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||uc(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Ice(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return kr();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some($ce))){const{scroll:d}=this.root;d&&(fd(l.x,d.offset.x),fd(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=kr();if(ws(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ws(l,o),fd(l.x,f.offset.x),fd(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=kr();ws(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uc(d.latestValues)&&hd(c,d.latestValues)}return uc(this.latestValues)&&hd(c,this.latestValues),c}removeTransform(o){const l=kr();ws(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!uc(u.latestValues))continue;wS(u.latestValues)&&u.updateSnapshot();const d=kr(),f=u.measurePageBox();ws(d,f),PR(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return uc(this.latestValues)&&PR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=xn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kr(),this.targetWithTransforms=kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ws(this.target,this.layout.layoutBox),vz(this.target,this.targetDelta)):ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wS(this.parent.latestValues)||gz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kr(),this.relativeTargetOrigin=kr(),Bx(this.relativeTargetOrigin,l,c),ws(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ws(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;lle(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=kr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kR(this.prevProjectionDelta.x,this.projectionDelta.x),kR(this.prevProjectionDelta.y,this.projectionDelta.y)),Im(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!DR(this.projectionDelta.x,this.prevProjectionDelta.x)||!DR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=md(),this.projectionDelta=md(),this.projectionDeltaWithTransform=md()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=md();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=kr(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,x=this.getStack(),b=!x||x.members.length<=1,y=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(Rce));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const _=j/1e3;FR(f.x,o.x,_),FR(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mce(this.relativeTarget,this.relativeTargetOrigin,h,_),w&&yce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=kr()),ws(w,this.relativeTarget)),g&&(this.animationValues=d,fce(d,u,this.latestValues,_,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=er.update(()=>{Xy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ou(0)),this.currentAnimation=Iz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wce),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Vz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||kr();const f=zn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=zn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ws(l,c),hd(l,d),Im(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xce),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&N1("z",o,u,this.animationValues);for(let d=0;d<_1.length;d++)N1(`rotate${_1[d]}`,o,u,this.animationValues),N1(`skew${_1[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!uc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=bce(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in bS){if(d[v]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:b}=bS[v],y=f==="none"?d[v]:g(d[v],u);if(x){const w=x.length;for(let j=0;j<w;j++)o[x[j]]=y}else b?this.options.visualElement.renderState.vars[v]=y:o[v]=y}this.options.layoutId&&(o.pointerEvents=u===this?Yy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(IR),this.root.sharedNodes.clear()}}}function _ce(e){e.updateLayout()}function Nce(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ga(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=zn(h);h.min=n[f].min,h.max=h.min+m}):Vz(s,t.layoutBox,n)&&Ga(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=zn(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=md();Im(l,n,t.layoutBox);const c=md();o?Im(c,e.applyTransform(a,!0),t.measuredBox):Im(c,n,t.layoutBox);const u=!Fz(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=kr();Bx(v,t.layoutBox,h.layoutBox);const g=kr();Bx(g,n,m.layoutBox),Bz(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Sce(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Cce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kce(e){e.clearSnapshot()}function IR(e){e.clearMeasurements()}function $R(e){e.isLayoutDirty=!1}function Ece(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function LR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ace(e){e.resolveTargetDelta()}function Pce(e){e.calcProjection()}function Oce(e){e.resetSkewAndRotation()}function Tce(e){e.removeLeadSnapshot()}function FR(e,t,r){e.translate=rr(t.translate,0,r),e.scale=rr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function BR(e,t,r,n){e.min=rr(t.min,r.min,n),e.max=rr(t.max,r.max,n)}function Mce(e,t,r,n){BR(e.x,t.x,r.x,n),BR(e.y,t.y,r.y,n)}function Rce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Dce={duration:.45,ease:[.4,0,.1,1]},zR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),UR=zR("applewebkit/")&&!zR("chrome/")?Math.round:cs;function VR(e){e.min=UR(e.min),e.max=UR(e.max)}function Ice(e){VR(e.x),VR(e.y)}function Vz(e,t,r){return e==="position"||e==="preserve-aspect"&&!Hle(RR(t),RR(r),.2)}function $ce(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Lce=Uz({attachResizeListener:(e,t)=>Cp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S1={current:void 0},Wz=Uz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!S1.current){const e=new Lce({});e.mount(window),e.setOptions({layoutScroll:!0}),S1.current=e}return S1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Fce={pan:{Feature:ice},drag:{Feature:sce,ProjectionNode:Wz,MeasureLayout:Dz}};function WR(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&er.postRender(()=>s(t,Jg(t)))}class Bce extends Wl{mount(){const{current:t}=this.node;t&&(this.unmount=moe(t,(r,n)=>(WR(this.node,n,"Start"),a=>WR(this.node,a,"End"))))}unmount(){}}class zce extends Wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xg(Cp(this.node.current,"focus",()=>this.onFocus()),Cp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HR(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&er.postRender(()=>s(t,Jg(t)))}class Uce extends Wl{mount(){const{current:t}=this.node;t&&(this.unmount=yoe(t,(r,n)=>(HR(this.node,n,"Start"),(a,{success:s})=>HR(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ES=new WeakMap,C1=new WeakMap,Vce=e=>{const t=ES.get(e.target);t&&t(e)},Wce=e=>{e.forEach(Vce)};function Hce({root:e,...t}){const r=e||document;C1.has(r)||C1.set(r,{});const n=C1.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Wce,{root:e,...t})),n[a]}function qce(e,t,r){const n=Hce(t);return ES.set(e,r),n.observe(e),()=>{ES.delete(e),n.unobserve(e)}}const Kce={some:0,all:1};class Gce extends Wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Kce[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return qce(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Yce(t,r))&&this.startObserver()}unmount(){}}function Yce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Xce={inView:{Feature:Gce},tap:{Feature:Uce},focus:{Feature:zce},hover:{Feature:Bce}},Zce={layout:{ProjectionNode:Wz,MeasureLayout:Dz}},Qce={...Fle,...Xce,...Fce,...Zce},X=sle(Qce,mle);function Hz(e){const t=Yg(()=>ou(e)),{isStatic:r}=p.useContext(Kb);if(r){const[,n]=p.useState(e);p.useEffect(()=>t.on("change",n),[])}return t}function qz(e,t){const r=Hz(t()),n=()=>r.set(t());return n(),jE(()=>{const a=()=>er.preRender(n,!1,!0),s=e.map(o=>o.on("change",a));return()=>{s.forEach(o=>o()),go(n)}}),r}function Jce(e){Rm.current=[],e();const t=qz(Rm.current,e);return Rm.current=void 0,t}function k1(e,t,r,n){if(typeof e=="function")return Jce(e);const a=typeof t=="function"?t:xoe(t,r,n);return Array.isArray(e)?qR(e,a):qR([e],([s])=>a(s))}function qR(e,t){const r=Yg(()=>[]);return qz(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function eA(e){return typeof e=="object"&&!Array.isArray(e)}function Kz(e,t,r,n){return typeof e=="string"&&eA(t)?G8(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function eue(e,t,r){return e*(t+1)}function KR(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function tue(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(qb(e,a),n--)}}function rue(e,t,r,n,a,s){tue(e,a,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:rr(a,s,n[o]),easing:y8(r,o)})}function nue(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function aue(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const sue="easeInOut";function iue(e,{defaultTransition:t={},...r}={},n,a){const s=t.duration||.3,o=new Map,l=new Map,c={},u=new Map;let d=0,f=0,h=0;for(let m=0;m<e.length;m++){const v=e[m];if(typeof v=="string"){u.set(v,f);continue}else if(!Array.isArray(v)){u.set(v.name,KR(f,v.at,d,u));continue}let[g,x,b={}]=v;b.at!==void 0&&(f=KR(f,b.at,d,u));let y=0;const w=(j,_,N,S=0,k=0)=>{const C=oue(j),{delay:A=0,times:E=D8(C),type:P="keyframes",repeat:F,repeatType:I,repeatDelay:z=0,...O}=_;let{ease:$=t.ease||"easeOut",duration:D}=_;const T=typeof A=="function"?A(S,k):A,U=C.length,R=LE(P)?P:a==null?void 0:a[P||"keyframes"];if(U<=2&&R){let q=100;if(U===2&&uue(C)){const te=C[1]-C[0];q=Math.abs(te)}const J={...O};D!==void 0&&(J.duration=zs(D));const Y=O8(J,q,R);$=Y.ease,D=Y.duration}D??(D=s);const M=f+T;E.length===1&&E[0]===0&&(E[1]=1);const B=E.length-C.length;if(B>0&&R8(E,B),C.length===1&&C.unshift(null),F){D=eue(D,F);const q=[...C],J=[...E];$=Array.isArray($)?[...$]:[$];const Y=[...$];for(let te=0;te<F;te++){C.push(...q);for(let Z=0;Z<q.length;Z++)E.push(J[Z]+(te+1)),$.push(Z===0?"linear":y8(Y,Z-1))}nue(E,F)}const V=M+D;rue(N,C,$,E,M,V),y=Math.max(T+D,y),h=Math.max(V,h)};if(on(g)){const j=GR(g,l);w(x,b,YR("default",j))}else{const j=Kz(g,x,n,c),_=j.length;for(let N=0;N<_;N++){x=x,b=b;const S=j[N],k=GR(S,l);for(const C in x)w(x[C],lue(b,C),YR(C,k),N,_)}}d=f,f+=y}return l.forEach((m,v)=>{for(const g in m){const x=m[g];x.sort(aue);const b=[],y=[],w=[];for(let _=0;_<x.length;_++){const{at:N,value:S,easing:k}=x[_];b.push(S),y.push(mf(0,h,N)),w.push(k||"easeOut")}y[0]!==0&&(y.unshift(0),b.unshift(b[0]),w.unshift(sue)),y[y.length-1]!==1&&(y.push(1),b.push(null)),o.has(v)||o.set(v,{keyframes:{},transition:{}});const j=o.get(v);j.keyframes[g]=b,j.transition[g]={...t,duration:h,ease:w,times:y,...r}}}),o}function GR(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function YR(e,t){return t[e]||(t[e]=[]),t[e]}function oue(e){return Array.isArray(e)?e:[e]}function lue(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const cue=e=>typeof e=="number",uue=e=>e.every(cue);function due(e,t){return e in t}class fue extends bz{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(due(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return kr()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function hue(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=VE(e)&&!ez(e)?new Sz(t):new _z(t);r.mount(e),Sp.set(e,r)}function mue(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new fue(t);r.mount(e),Sp.set(e,r)}function pue(e,t){return on(e)||typeof e=="number"||typeof e=="string"&&!eA(t)}function Gz(e,t,r,n){const a=[];if(pue(e,t))a.push(Iz(e,eA(t)&&t.default||t,r&&(r.default||r)));else{const s=Kz(e,t,n),o=s.length;for(let l=0;l<o;l++){const c=s[l],u=c instanceof Element?hue:mue;Sp.has(c)||u(c);const d=Sp.get(c),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(l,o)),a.push(...JE(d,{...t,transition:f},{}))}}return a}function gue(e,t,r){const n=[];return iue(e,t,r,{spring:_p}).forEach(({keyframes:s,transition:o},l)=>{n.push(...Gz(l,s,o))}),n}function vue(e){return Array.isArray(e)&&e.some(Array.isArray)}function yue(e){function t(r,n,a){let s=[],o;if(vue(r))s=gue(r,n,e);else{const{onComplete:c,...u}=a||{};typeof c=="function"&&(o=c),s=Gz(r,n,u,e)}const l=new Qie(s);return o&&l.finished.then(o),l}return t}const E1=yue(),Yz=p.forwardRef((e,t)=>{const[r,n]=p.useState(null),[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1);p.useEffect(()=>{const h=window.matchMedia("(display-mode: standalone)").matches;u(h);const m=/iPad|iPhone|iPod/.test(navigator.userAgent);l(m);const v=g=>{g.preventDefault(),n(g),localStorage.getItem("pwa-install-dismissed")||setTimeout(()=>s(!0),3e3)};return window.addEventListener("beforeinstallprompt",v),()=>window.removeEventListener("beforeinstallprompt",v)},[]);const d=async()=>{if(!r)return;await r.prompt();const{outcome:h}=await r.userChoice;h==="accepted"&&s(!1),n(null)},f=()=>{s(!1),localStorage.setItem("pwa-install-dismissed","true")};return c?null:o&&!a?localStorage.getItem("pwa-ios-dismissed")?null:i.jsx(Lt,{children:i.jsxs(X.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-50 bg-card border border-border rounded-xl p-4 shadow-lg",children:[i.jsx("button",{onClick:()=>{localStorage.setItem("pwa-ios-dismissed","true"),l(!1)},className:"absolute top-2 left-2 p-1 text-muted-foreground hover:text-foreground",children:i.jsx(Tt,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-right pr-2",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-2",children:" "}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["   "," ",i.jsx("span",{className:"inline-block px-1",children:""})," ",'  "   "']})]})]})}):!a||!r?null:i.jsx(Lt,{children:i.jsxs(X.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-50 bg-card border border-border rounded-xl p-4 shadow-lg",children:[i.jsx("button",{onClick:f,className:"absolute top-2 left-2 p-1 text-muted-foreground hover:text-foreground",children:i.jsx(Tt,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),i.jsxs(K,{onClick:d,className:"gap-2",children:[i.jsx(zJ,{className:"w-4 h-4"}),""]})]})]})})});Yz.displayName="PWAInstallPrompt";const xue=[{index:0,icon:YJ,label:"",labelEn:"Services"},{index:1,icon:yi,label:"",labelEn:"Dresses"},{index:2,icon:zg,label:"",labelEn:"Home",isMain:!0},{index:3,icon:Hs,label:"",labelEn:"Favorites"},{index:4,icon:ya,label:"",labelEn:"Profile"}];function bue({activeTab:e,setActiveTab:t}){return i.jsx("nav",{className:"fixed bottom-6 left-4 right-4 z-50",children:i.jsx("div",{className:"bg-card/95 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl max-w-lg mx-auto px-2 py-3",children:i.jsx("div",{className:"flex items-end justify-between relative",children:xue.map(r=>{const n=r.icon,a=e===r.index;return r.isMain?i.jsxs("div",{className:"relative -top-10 px-2",children:[i.jsx("button",{onClick:()=>t(r.index),className:`flex items-center justify-center w-16 h-16 rounded-full shadow-2xl transition-all duration-300 border-4 border-card ${a?"bg-primary text-primary-foreground scale-110 shadow-primary/50":"bg-muted text-muted-foreground hover:bg-primary/20"}`,children:i.jsx(n,{className:"w-8 h-8"})}),i.jsx("span",{className:`absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold whitespace-nowrap ${a?"text-primary":"text-muted-foreground"}`,children:r.label})]},r.index):i.jsxs("button",{onClick:()=>t(r.index),className:"flex-1 flex flex-col items-center gap-1 py-1 transition-all duration-300 group",children:[i.jsx("div",{className:"relative p-1",children:i.jsx(X.div,{animate:{scale:a?1.2:1,y:a?-2:0},className:`${a?"text-primary":"text-muted-foreground group-hover:text-primary/70"}`,children:i.jsx(n,{className:"w-6 h-6"})})}),i.jsx("span",{className:`text-[9px] font-medium ${a?"text-primary":"text-muted-foreground"}`,children:r.label})]},r.index)})})})})}var ci=function(){return ci=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ci.apply(this,arguments)};function hh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wue(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function jue(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}const _ue=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class tA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Nue extends tA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class XR extends tA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ZR extends tA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var AS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(AS||(AS={}));class Sue{constructor(t,{headers:r={},customFetch:n,region:a=AS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=_ue(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wue(this,arguments,void 0,function*(r,n={}){var a;let s,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let x=d;f&&(o=new AbortController,s=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:x}).catch(_=>{throw new Nue(_)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new XR(b);if(!b.ok)throw new ZR(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield b.json():w==="application/octet-stream"||w==="application/pdf"?j=yield b.blob():w==="text/event-stream"?j=b:w==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof ZR||l instanceof XR?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var Cue=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kue=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,l=null,c=null,u=s.status,d=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await s.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await s.text();try{o=JSON.parse(g),Array.isArray(o)&&s.status===404&&(l=[],o=null,u=200,d="OK")}catch{s.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new Cue(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(s=>{var o;let l="";const c=s==null?void 0:s.cause;if(c){var u,d,f,h;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=s==null?void 0:s.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Eue=class extends kue{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const QR=new RegExp("[,()]");var Gu=class extends Eue{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QR.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QR.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Aue=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Gu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Gu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Gu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Gu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Pue=class Xz{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Aue(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xz(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new Gu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Oue{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Tue="2.89.0",Mue=`realtime-js/${Tue}`,Zz="1.0.0",Rue="2.0.0",JR=Zz,PS=1e4,Due=1e3,Iue=100;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var Br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Br||(Br={}));var Os;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Os||(Os={}));var OS;(function(e){e.websocket="websocket"})(OS||(OS={}));var vc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vc||(vc={}));class $ue{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,s;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(l,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(o,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(f,b=>v.setUint8(g++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,o,l,c]=n;return r({join_ref:a,ref:s,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Qz{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Bt||(Bt={}));const eD=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Lue(o,e,t,a),s),{}):{}},Lue=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?Jz(s,o):TS(o)},Jz=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Uue(t,r)}switch(e){case Bt.bool:return Fue(t);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return Bue(t);case Bt.json:case Bt.jsonb:return zue(t);case Bt.timestamp:return Vue(t);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return TS(t);default:return TS(t)}},TS=e=>e,Fue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Uue=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Jz(t,l))}return e},Vue=e=>typeof e=="string"?e.replace(" ","T"):e,eU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class A1{constructor(t,r,n={},a=PS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tD||(tD={}));class $m{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$m.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=$m.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=$m.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),v=d.filter(x=>m.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rD||(rD={}));var Lm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lm||(Lm={}));var Wi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class pd{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new A1(this,Os.join,this.params,this.timeout),this.rejoinTimer=new Qz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Os.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new $m(this),this.broadcastEndpointURL=eU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Br.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Lm.PRESENCE]&&this.bindings[Lm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Wi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Wi.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let y=0;y<x;y++){const w=g[y],{filter:{event:j,schema:_,table:N,filter:S}}=w,k=m&&m[y];if(k&&k.event===j&&pd.isFilterValueEqual(k.schema,_)&&pd.isFilterValueEqual(k.table,N)&&pd.isFilterValueEqual(k.filter,S))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Br.errored,t==null||t(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Wi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Br.errored,t==null||t(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Br.joined&&t===Lm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Os.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new A1(this,Os.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Br.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new A1(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Iue){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Os;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,g,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,g,x,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:x,commit_timestamp:b,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&pd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Os.close,{},t)}_onError(t){this._on(Os.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=eD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=eD(t.columns,t.old_record)),r}}const P1=()=>{},ey={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wue=[1e3,2e3,5e3,1e4],Hue=1e4,que=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kue{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=PS,this.transport=null,this.heartbeatIntervalMs=ey.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P1,this.ref=0,this.reconnectTimer=null,this.vsn=JR,this.logger=P1,this.conn=null,this.sendBuffer=[],this.serializer=new $ue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${OS.websocket}`,this.httpEndpoint=eU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Oue.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return vc.Connecting;case qo.open:return vc.Open;case qo.closing:return vc.Closing;default:return vc.Closed}}isConnected(){return this.connectionState()===vc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new pd(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Due,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ey.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qo.open||this.conn.readyState===qo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Os.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([que],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:Mue};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Os.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ey.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:PS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ey.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:P1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:JR,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Wue[v-1]||Hue,this.vsn){case Zz:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case Rue:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var kp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gue(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function Yue(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Xue(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:o}){const l=Gue(e.baseUrl,n,a),c=await Yue(e.auth),u=await t(l,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...c,...o},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,v=m==null?void 0:m.error;throw new kp((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function ty(e){return e.join("")}var Zue=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ty(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ty(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ty(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ty(e.namespace)}`}),!0}catch(t){if(t instanceof kp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof kp&&r.status===409)return;throw r}}};function Mu(e){return e.join("")}var Que=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof kp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof kp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Jue=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Xue({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Zue(this.client,t),this.tableOps=new Que(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Zb=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ede=class extends Zb{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},MS=class extends Zb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const rA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tde=()=>Response,RS=e=>{if(Array.isArray(e))return e.map(r=>RS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=RS(n)}),t},rde=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nde=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function ade(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sde(e){var t=ade(e,"string");return Ep(t)=="symbol"?t:t+""}function ide(e,t,r){return(t=sde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const O1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ode=async(e,t,r)=>{e instanceof await tde()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,s=(n==null?void 0:n.statusCode)||a+"";t(new ede(O1(n),a,s))}).catch(n=>{t(new MS(O1(n),n))}):t(new MS(O1(e),e))},lde=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(rde(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ie(Ie({},a),r))};async function ev(e,t,r,n,a,s){return new Promise((o,l)=>{e(r,lde(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ode(c,l,n))})}async function Ap(e,t,r,n){return ev(e,"GET",t,r,n)}async function ks(e,t,r,n,a){return ev(e,"POST",t,n,a,r)}async function DS(e,t,r,n,a){return ev(e,"PUT",t,n,a,r)}async function cde(e,t,r,n){return ev(e,"HEAD",t,Ie(Ie({},r),{},{noResolveJson:!0}),n)}async function nA(e,t,r,n,a){return ev(e,"DELETE",t,n,a,r)}var ude=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};let tU;tU=Symbol.toStringTag;var dde=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[tU]="BlobDownloadBuilder",this.promise=null}asStream(){return new ude(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};const fde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hde=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=rA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let s;const o=Ie(Ie({},aD),n);let l=Ie(Ie({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",a.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ie(Ie({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?DS:ks)(a.fetch,`${a.url}/object/${d}`,s,Ie({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),o=a._getFinalPath(s),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ie({upsert:aD.upsert},n),d=Ie(Ie({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:s,fullPath:(await DS(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ie({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await ks(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+s.url),l=o.searchParams.get("token");if(!l)throw new Zb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ks(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ks(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),s=await ks(n.fetch,`${n.url}/object/sign/${a}`,Ie({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ks(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Ie(Ie({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),o=()=>Ap(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new dde(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:RS(await Ap(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await cde(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n)&&n instanceof MS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await nA(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ie(Ie(Ie({},fde),t),{},{prefix:e||""});return{data:await ks(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ie({},e);return{data:await ks(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const rU="2.89.0",nU={"X-Client-Info":`storage-js/${rU}`};var mde=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ie(Ie({},nU),t),this.fetch=rA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Ap(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ap(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ks(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await DS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ks(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await nA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},pde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ie(Ie({},nU),t),this.fetch=rA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ks(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Ap(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await nA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!nde(e))throw new Zb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Jue({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const o=a[s];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const aA={"X-Client-Info":`storage-js/${rU}`,"Content-Type":"application/json"};var aU=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Aa(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var T1=class extends aU{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gde=class extends aU{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const sA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vde=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sD=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yde=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";t(new T1(sD(s),n,o))}).catch(()=>{const s=n+"";t(new T1(a.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";t(new T1(a.statusText||`HTTP ${n} error`,n,s))}}else t(new gde(sD(e),e))},xde=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(vde(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ie(Ie({},a),r)):a};async function bde(e,t,r,n,a,s){return new Promise((o,l)=>{e(r,xde(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>yde(c,l,n))})}async function Pa(e,t,r,n,a){return bde(e,"POST",t,n,a,r)}var wde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ie(Ie({},aA),t),this.fetch=sA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Pa(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Aa(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Pa(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Aa(n))return{data:null,error:n};throw n}}},jde=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ie(Ie({},aA),t),this.fetch=sA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pa(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Pa(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pa(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}},_de=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ie(Ie({},aA),t),this.fetch=sA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Pa(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}}},Nde=class extends _de{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Sde(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Sde=class extends wde{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Cde(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Cde=class extends jde{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},kde=class extends mde{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new hde(this.url,this.headers,e,this.fetch)}get vectors(){return new Nde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pde(this.url+"/iceberg",this.headers,this.fetch)}};const sU="2.89.0",Yu=30*1e3,IS=3,M1=IS*Yu,Ede="http://localhost:9999",Ade="supabase.auth.token",Pde={"X-Client-Info":`gotrue-js/${sU}`},$S="X-Supabase-Api-Version",iU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ode=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tde=10*60*1e3;class Pp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mde extends Pp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Rde(e){return Ae(e)&&e.name==="AuthApiError"}class yc extends Pp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class jo extends Pp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class _a extends jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dde(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class Ru extends jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ry extends jo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ny extends jo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ide(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class iD extends jo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $de extends jo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class LS extends jo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function R1(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class oD extends jo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class FS extends jo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lD=` 	
\r=`.split(""),Lde=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lD.length;t+=1)e[lD[t].charCodeAt(0)]=-2;for(let t=0;t<zx.length;t+=1)e[zx[t].charCodeAt(0)]=t;return e})();function cD(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zx[n]),t.queuedBits-=6}}function oU(e,t,r){const n=Lde[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uD(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{zde(o,n,r)};for(let o=0;o<e.length;o+=1)oU(e.charCodeAt(o),a,s);return t.join("")}function Fde(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bde(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Fde(n,t)}}function zde(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Td(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oU(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Ude(e){const t=[];return Bde(e,r=>t.push(r)),new Uint8Array(t)}function Sc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>cD(a,r,n)),cD(null,r,n),t.join("")}function Vde(e){return Math.round(Date.now()/1e3)+e}function Wde(){return Symbol("auth-callback")}const gn=()=>typeof window<"u"&&typeof document<"u",rc={tested:!1,writable:!1},lU=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rc.tested)return rc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rc.tested=!0,rc.writable=!0}catch{rc.tested=!0,rc.writable=!1}return rc.writable};function Hde(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const cU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qde=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pn=async(e,t)=>{await e.removeItem(t)};class Qb{constructor(){this.promise=new Qb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Qb.promiseConstructor=Promise;function D1(e){const t=e.split(".");if(t.length!==3)throw new FS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ode.test(t[n]))throw new FS("JWT not in base64url format");return{header:JSON.parse(uD(t[0])),payload:JSON.parse(uD(t[1])),signature:Td(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kde(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gde(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function Yde(e){return("0"+e.toString(16)).substr(-2)}function Xde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Yde).join("")}async function Zde(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Qde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Zde(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(e,t,r=!1){const n=Xde();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Xu(e,`${t}-code-verifier`,a);const s=await Qde(n);return[s,n===s?"plain":"s256"]}const Jde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function efe(e){const t=e.headers.get($S);if(!t||!t.match(Jde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tfe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rfe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Iu(e){if(!nfe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function afe(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function dD(e){return JSON.parse(JSON.stringify(e))}const dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sfe=[502,503,504];async function fD(e){var t;if(!qde(e))throw new LS(dc(e),0);if(sfe.includes(e.status))throw new LS(dc(e),e.status);let r;try{r=await e.json()}catch(s){throw new yc(dc(s),s)}let n;const a=efe(e);if(a&&a.getTime()>=iU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new oD(dc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _a}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new oD(dc(r),e.status,r.weak_password.reasons);throw new Mde(dc(r),e.status||500,n)}const ife=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function De(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[$S]||(s[$S]=iU["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ofe(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ofe(e,t,r,n,a,s){const o=ife(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new LS(dc(c),0)}if(l.ok||await fD(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await fD(c)}}function _s(e){var t;let r=null;ufe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Vde(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function hD(e){const t=_s(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lfe(e){return{data:e,error:null}}function cfe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=hh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mD(e){return e}function ufe(e){return e.access_token&&e.refresh_token&&e.expires_in}const $1=["global","local","others"];class dfe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$1[0]){if($1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$1.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qo})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cfe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qo})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:mD});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Iu(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qo})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Iu(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qo})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Iu(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qo})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Iu(t.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Iu(t.userId),Iu(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:mD});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function pD(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const $u={debug:!!(globalThis&&lU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ffe extends uU{}async function hfe(e,t,r){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw $u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ffe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($u.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pfe(e){return parseInt(e,16)}function gfe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function vfe(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=dU(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${x}
${b}`}class Ar extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Ux extends Ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function yfe({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fU(o)){if(s.rp.id!==o)return new Ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xfe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fU(n)){if(r.rpId!==n)return new Ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bfe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wfe=new bfe;function jfe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=hh(e,["challenge","user","excludeCredentials"]),s=Td(t).buffer,o=Object.assign(Object.assign({},r),{id:Td(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Td(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _fe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hh(e,["challenge","allowCredentials"]),a=Td(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Td(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function Nfe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Sfe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sc(new Uint8Array(a.authenticatorData)),clientDataJSON:Sc(new Uint8Array(a.clientDataJSON)),signature:Sc(new Uint8Array(a.signature)),userHandle:a.userHandle?Sc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gD(){var e,t;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cfe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ux("Browser returned unexpected credential type",t)}:{data:null,error:new Ux("Empty credential response",t)}}catch(t){return{data:null,error:yfe({error:t,options:e})}}}async function kfe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ux("Browser returned unexpected credential type",t)}:{data:null,error:new Ux("Empty credential response",t)}}catch(t){return{data:null,error:xfe({error:t,options:e})}}}const Efe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Afe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const o=a[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const l=n[s];t(l)?n[s]=Vx(l,o):n[s]=Vx(o)}else n[s]=o}return n}function Pfe(e,t){return Vx(Efe,e,t||{})}function Ofe(e,t){return Vx(Afe,e,t||{})}class Tfe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??wfe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Pfe(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await Cfe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Ofe(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await kfe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Pp("rpId is required for WebAuthn authentication")};try{if(!gD())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Pp("rpId is required for WebAuthn registration")};try{if(!gD())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in register",o)}}}}mfe();const Mfe={url:Ede,storageKey:Ade,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Pde,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vD(e,t,r){return await r()}const Lu={};class Op{get jwks(){var t,r;return(r=(t=Lu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Lu[this.storageKey]=Object.assign(Object.assign({},Lu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Lu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Lu[this.storageKey]=Object.assign(Object.assign({},Lu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Mfe),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Op.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Op.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&gn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dfe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cU(s.fetch),this.lock=s.lock||vD,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hfe:this.lock=vD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tfe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:lU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pD(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=pD(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(gn()&&(r=Hde(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Ide(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new yc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:_s}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Du(this.storage,this.storageKey)),s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:_s})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_s})}else throw new ry("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return await pn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hD})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hD})}else throw new ry("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Ru;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,o,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:b,options:y}=t;let w;if(gn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=dU(_[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await w.request({method:"eth_chainId"});S=pfe(C)}const k={domain:j.host,address:N,statement:b,uri:j.href,version:"1",chainId:S,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=vfe(k),v=await w.request({method:"personal_sign",params:[gfe(m),N]})}try{const{data:g,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_s});if(x)throw x;if(!g||!g.session||!g.user){const b=new Ru;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:b,statement:y,options:w}=t;let j;if(gn())if(typeof b=="object")j=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:b}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Sc(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_s});if(b)throw b;if(!x||!x.session||!x.user){const y=new Ru;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Ae(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await nc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $de;const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_s});if(await pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new Ru;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_s}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ru;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Du(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ry("You must provide either an email or phone number.")}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:_s});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Du(this.storage,this.storageKey));const u=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:lfe});return!((s=u.data)===null||s===void 0)&&s.url&&gn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new _a;const{error:a}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ry("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<M1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await nc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=I1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=afe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qo}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _a}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Qo})})}catch(r){if(Ae(r))return Dde(r)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new _a;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Du(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _a;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=D1(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _a;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!gn())throw new ny("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ny(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new iD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ny("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iD("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new ny("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:x}=await this._getUser(s);if(x)throw x;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Rde(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Wde(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Du(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return gn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_s}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ru}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await pn(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Gde(async a=>(a>0&&await Kde(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_s})),(a,s)=>{const o=200*Math.pow(2,a);return s&&R1(s)&&Date.now()+o-n<Yu})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await nc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Xu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:I1()}else if(a&&!a.user&&!a.user){const o=await nc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await pn(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,a)):a.user=I1()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<M1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${M1}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),R1(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new _a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Qb;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new _a;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Ae(s)){const o={data:null,error:s};return R1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=dD(a);await Xu(this.storage,this.storageKey,s)}else{const a=dD(r);await Xu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${IS} ticks`),a<=IS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Du(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Nfe(t.webauthn.credential_response):Sfe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jfe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_fe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=D1(n.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new _a})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new _a});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new _a});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new _a})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _a})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Tde>a)return n;const{data:s,error:o}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=D1(n);r!=null&&r.allowExpired||tfe(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const d=rfe(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Ude(`${l}.${c}`)))throw new FS("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}}Op.nextInstanceID={};const Rfe=Op,Dfe="2.89.0";let gm="";typeof Deno<"u"?gm="deno":typeof document<"u"?gm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gm="react-native":gm="node";const Ife={"X-Client-Info":`supabase-js-${gm}/${Dfe}`},$fe={headers:Ife},Lfe={schema:"public"},Ffe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bfe={};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function zfe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ufe(e){var t=zfe(e,"string");return Tp(t)=="symbol"?t:t+""}function Vfe(e,t,r){return(t=Ufe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){Vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Wfe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hfe=()=>Headers,qfe=(e,t,r)=>{const n=Wfe(r),a=Hfe();return async(s,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,pr(pr({},o),{},{headers:u}))}};function Kfe(e){return e.endsWith("/")?e:e+"/"}function Gfe(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:pr(pr({},c),a),auth:pr(pr({},u),s),realtime:pr(pr({},d),o),storage:{},global:pr(pr(pr({},f),l),{},{headers:pr(pr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Yfe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Kfe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Xfe=class extends Rfe{constructor(e){super(e)}},Zfe=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=Yfe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Lfe,realtime:Bfe,auth:pr(pr({},Ffe),{},{storageKey:o}),global:$fe},c=Gfe(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=qfe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(pr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Pue(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new kde(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Sue(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xfe({url:this.authUrl.href,headers:pr(pr({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kue(this.realtimeUrl.href,pr(pr({},e),{},{params:pr(pr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Qfe=(e,t,r)=>new Zfe(e,t,r);function Jfe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Jfe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ehe="https://ojryfssngnnjubqsrtzi.supabase.co",the="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9qcnlmc3NuZ25uanVicXNydHppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMzQxMzQsImV4cCI6MjA4MjYxMDEzNH0.ZJHlxd5kZvLAaIrHP_KrqusjCzdBsiq78KA7gmSylgk",W=Qfe(ehe,the,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function at(){const[e,t]=p.useState(null),[r,n]=p.useState(null),[a,s]=p.useState(!0),[o,l]=p.useState(null);p.useEffect(()=>{const{data:{subscription:d}}=W.auth.onAuthStateChange((f,h)=>{n(h),t((h==null?void 0:h.user)??null),s(!1),h!=null&&h.user?setTimeout(()=>{c(h.user.id)},0):l(null)});return W.auth.getSession().then(({data:{session:f}})=>{n(f),t((f==null?void 0:f.user)??null),s(!1),f!=null&&f.user&&c(f.user.id)}),()=>d.unsubscribe()},[]);const c=async d=>{const{data:f}=await W.from("user_roles").select("role").eq("user_id",d);if(f&&f.length>0)if(f.find(m=>m.role==="admin"))l("admin");else{const m=f.find(v=>v.role!=="user");l((m==null?void 0:m.role)||f[0].role)}};return{user:e,session:r,loading:a,role:o,signOut:async()=>{await W.auth.signOut(),l(null)},isAuthenticated:!!e,isVendor:o&&o!=="user"&&o!=="admin",isAdmin:o==="admin"}}function hU(){const{user:e}=at(),{toast:t}=Ke(),[r,n]=p.useState([]),[a,s]=p.useState(!0),o=p.useCallback(async()=>{if(!e){n([]),s(!1);return}try{const{data:u,error:d}=await W.from("favorites").select("hall_id").eq("user_id",e.id);if(d)throw d;n((u==null?void 0:u.map(f=>f.hall_id))||[])}catch(u){console.error("Error fetching favorites:",u)}finally{s(!1)}},[e]);p.useEffect(()=>{o()},[o]);const l=p.useCallback(u=>r.includes(u),[r]),c=p.useCallback(async u=>{if(!e){t({title:"  ",description:"    ",variant:"destructive"});return}const d=r.includes(u);n(d?f=>f.filter(h=>h!==u):f=>[...f,u]);try{if(d){const{error:f}=await W.from("favorites").delete().eq("user_id",e.id).eq("hall_id",u);if(f)throw f;t({title:" ",description:"    "})}else{const{error:f}=await W.from("favorites").insert({user_id:e.id,hall_id:u});if(f)throw f;t({title:" ",description:"    "})}}catch{n(d?h=>[...h,u]:h=>h.filter(m=>m!==u)),t({title:"",description:"    ",variant:"destructive"})}},[e,r,t]);return{favorites:r,loading:a,isFavorite:l,toggleFavorite:c,refetch:o}}function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function xa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Or(e,t){const r=Le(e);return isNaN(t)?xa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function sn(e,t){const r=Le(e);if(isNaN(t))return xa(e,NaN);if(!t)return r;const n=r.getDate(),a=xa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function rhe(e){const t=Le(e).getDay();return t===0||t===6}const iA=6048e5,nhe=864e5,ay=43200,xD=1440;let ahe={};function mh(){return ahe}function Ci(e,t){var l,c,u,d;const r=mh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Le(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function lu(e){return Ci(e,{weekStartsOn:1})}function mU(e){const t=Le(e),r=t.getFullYear(),n=xa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=lu(n),s=xa(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=lu(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ki(e){const t=Le(e);return t.setHours(0,0,0,0),t}function gf(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hi(e,t){const r=ki(e),n=ki(t),a=+r-gf(r),s=+n-gf(n);return Math.round((a-s)/nhe)}function she(e){const t=mU(e),r=xa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lu(r)}function BS(e,t){const r=t*7;return Or(e,r)}function ihe(e,t){return sn(e,t*12)}function ohe(e){let t;return e.forEach(function(r){const n=Le(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function lhe(e){let t;return e.forEach(r=>{const n=Le(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Zy(e,t){const r=Le(e),n=Le(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function pU(e){return xa(e,Date.now())}function Gr(e,t){const r=ki(e),n=ki(t);return+r==+n}function oA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function che(e){if(!oA(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function vf(e,t){const r=Le(e),n=Le(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function uhe(e,t,r){const n=Ci(e,r),a=Ci(t,r),s=+n-gf(n),o=+a-gf(a);return Math.round((s-o)/iA)}function dhe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function fhe(e,t){return+Le(e)-+Le(t)}function hhe(e){const t=Le(e);return t.setHours(23,59,59,999),t}function Us(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function mhe(e){const t=Le(e);return+hhe(t)==+Us(t)}function phe(e,t){const r=Le(e),n=Le(t),a=Zy(r,n),s=Math.abs(vf(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Zy(r,n)===-a;mhe(Le(e))&&s===1&&Zy(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function ghe(e,t,r){const n=fhe(e,t)/1e3;return dhe(r==null?void 0:r.roundingMethod)(n)}function lA(e,t){const r=Le(e.start),n=Le(e.end);let a=+r>+n;const s=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(Le(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function or(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gU(e){const t=Le(e),r=xa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cA(e,t){var l,c,u,d;const r=mh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Le(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function vU(e){return cA(e,{weekStartsOn:1})}const vhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yhe=(e,t,r)=>{let n;const a=vhe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const xhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},whe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jhe={date:Md({formats:xhe,defaultWidth:"full"}),time:Md({formats:bhe,defaultWidth:"full"}),dateTime:Md({formats:whe,defaultWidth:"full"})},_he={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nhe=(e,t,r,n)=>_he[e];function ui(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const She={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Che={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},khe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ehe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ahe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Phe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ohe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},The={ordinalNumber:Ohe,era:ui({values:She,defaultWidth:"wide"}),quarter:ui({values:Che,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ui({values:khe,defaultWidth:"wide"}),day:ui({values:Ehe,defaultWidth:"wide"}),dayPeriod:ui({values:Ahe,defaultWidth:"wide",formattingValues:Phe,defaultFormattingWidth:"wide"})};function di(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rhe(l,f=>f.test(o)):Mhe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Mhe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Rhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Dhe=/^(\d+)(th|st|nd|rd)?/i,Ihe=/\d+/i,$he={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lhe={any:[/^b/i,/^(a|c)/i]},Fhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bhe={any:[/1/i,/2/i,/3/i,/4/i]},zhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Whe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Khe={ordinalNumber:yU({matchPattern:Dhe,parsePattern:Ihe,valueCallback:e=>parseInt(e,10)}),era:di({matchPatterns:$he,defaultMatchWidth:"wide",parsePatterns:Lhe,defaultParseWidth:"any"}),quarter:di({matchPatterns:Fhe,defaultMatchWidth:"wide",parsePatterns:Bhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:di({matchPatterns:zhe,defaultMatchWidth:"wide",parsePatterns:Uhe,defaultParseWidth:"any"}),day:di({matchPatterns:Vhe,defaultMatchWidth:"wide",parsePatterns:Whe,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:Hhe,defaultMatchWidth:"any",parsePatterns:qhe,defaultParseWidth:"any"})},uA={code:"en-US",formatDistance:yhe,formatLong:jhe,formatRelative:Nhe,localize:The,match:Khe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ghe(e){const t=Le(e);return hi(t,gU(t))+1}function xU(e){const t=Le(e),r=+lu(t)-+she(t);return Math.round(r/iA)+1}function bU(e,t){var d,f,h,m;const r=Le(e),n=r.getFullYear(),a=mh(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=xa(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Ci(o,t),c=xa(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Ci(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Yhe(e,t){var l,c,u,d;const r=mh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=bU(e,t),s=xa(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Ci(s,t)}function wU(e,t){const r=Le(e),n=+Ci(r,t)-+Yhe(r,t);return Math.round(n/iA)+1}function St(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Fo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return St(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):St(r+1,2)},d(e,t){return St(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return St(e.getHours()%12||12,t.length)},H(e,t){return St(e.getHours(),t.length)},m(e,t){return St(e.getMinutes(),t.length)},s(e,t){return St(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return St(a,t.length)}},Fu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Fo.y(e,t)},Y:function(e,t,r,n){const a=bU(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return St(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):St(s,t.length)},R:function(e,t){const r=mU(e);return St(r,t.length)},u:function(e,t){const r=e.getFullYear();return St(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return St(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return St(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return St(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wU(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):St(a,t.length)},I:function(e,t,r){const n=xU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):St(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fo.d(e,t)},D:function(e,t,r){const n=Ghe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):St(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return St(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return St(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return St(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Fu.noon:n===0?a=Fu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Fu.evening:n>=12?a=Fu.afternoon:n>=4?a=Fu.morning:a=Fu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fo.s(e,t)},S:function(e,t){return Fo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jD(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jD(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wD(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wD(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return St(n,t.length)},T:function(e,t,r){const n=e.getTime();return St(n,t.length)}};function wD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+St(s,2)}function jD(e,t){return e%60===0?(e>0?"-":"+")+St(Math.abs(e)/60,2):fc(e,t)}function fc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=St(Math.trunc(n/60),2),s=St(n%60,2);return r+a+t+s}const _D=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Xhe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return _D(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",_D(n,t)).replace("{{time}}",jU(a,t))},Zhe={p:jU,P:Xhe},Qhe=/^D+$/,Jhe=/^Y+$/,eme=["D","DD","YY","YYYY"];function tme(e){return Qhe.test(e)}function rme(e){return Jhe.test(e)}function nme(e,t,r){const n=ame(e,t,r);if(console.warn(n),eme.includes(e))throw new RangeError(n)}function ame(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ime=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ome=/^'([^]*?)'?$/,lme=/''/g,cme=/[a-zA-Z]/;function fe(e,t,r){var d,f,h,m,v,g,x,b;const n=mh(),a=(r==null?void 0:r.locale)??n.locale??uA,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=Le(e);if(!che(l))throw new RangeError("Invalid time value");let c=t.match(ime).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=Zhe[w];return j(y,a.formatLong)}return y}).join("").match(sme).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:ume(y)};if(bD[w])return{isToken:!0,value:y};if(w.match(cme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&rme(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&tme(w))&&nme(w,t,String(e));const j=bD[w[0]];return j(l,w,a.localize,u)}).join("")}function ume(e){const t=e.match(ome);return t?t[1].replace(lme,"'"):e}function dme(e,t,r){const n=mh(),a=(r==null?void 0:r.locale)??n.locale??uA,s=2520,o=Zy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Le(t),u=Le(e)):(c=Le(e),u=Le(t));const d=ghe(u,c),f=(gf(u)-gf(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<xD){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<ay){const v=Math.round(h/xD);return a.formatDistance("xDays",v,l)}else if(h<ay*2)return m=Math.round(h/ay),a.formatDistance("aboutXMonths",m,l)}if(m=phe(u,c),m<12){const v=Math.round(h/ay);return a.formatDistance("xMonths",v,l)}else{const v=m%12,g=Math.trunc(m/12);return v<3?a.formatDistance("aboutXYears",g,l):v<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function _U(e,t){return dme(e,pU(e),t)}function fme(e){const t=Le(e),r=t.getFullYear(),n=t.getMonth(),a=xa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function hme(e){return Math.trunc(+Le(e)/1e3)}function mme(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pme(e,t){return uhe(mme(e),or(e),t)+1}function zS(e,t){const r=Le(e),n=Le(t);return r.getTime()>n.getTime()}function Zi(e,t){const r=Le(e),n=Le(t);return+r<+n}function dA(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function gme(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()}function sy(e){return Gr(e,pU(e))}function Fm(e,t){return Or(e,-t)}function L1(e,t){const r=Le(e),n=r.getFullYear(),a=r.getDate(),s=xa(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=fme(s);return r.setMonth(t,Math.min(a,o)),r}function ND(e,t){const r=Le(e);return isNaN(+r)?xa(e,NaN):(r.setFullYear(t),r)}function US(){return ki(Date.now())}function vme(e,t){return sn(e,-1)}const yme={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},xme=(e,t,r)=>{const n=yme[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},bme={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},wme={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},jme={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_me={date:Md({formats:bme,defaultWidth:"full"}),time:Md({formats:wme,defaultWidth:"full"}),dateTime:Md({formats:jme,defaultWidth:"full"})},Nme={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Sme=e=>Nme[e],Cme={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},kme={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Eme={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Ame={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Pme={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Ome={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Tme=e=>String(e),Mme={ordinalNumber:Tme,era:ui({values:Cme,defaultWidth:"wide"}),quarter:ui({values:kme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ui({values:Eme,defaultWidth:"wide"}),day:ui({values:Ame,defaultWidth:"wide"}),dayPeriod:ui({values:Pme,defaultWidth:"wide",formattingValues:Ome,defaultFormattingWidth:"wide"})},Rme=/^(\d+)(th|st|nd|rd)?/i,Dme=/\d+/i,Ime={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},$me={any:[//,//]},Lme={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Fme={any:[/1/i,/2/i,/3/i,/4/i]},Bme={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},zme={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Ume={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Vme={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Wme={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Hme={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},qme={ordinalNumber:yU({matchPattern:Rme,parsePattern:Dme,valueCallback:e=>parseInt(e,10)}),era:di({matchPatterns:Ime,defaultMatchWidth:"wide",parsePatterns:$me,defaultParseWidth:"any"}),quarter:di({matchPatterns:Lme,defaultMatchWidth:"wide",parsePatterns:Fme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:di({matchPatterns:Bme,defaultMatchWidth:"wide",parsePatterns:zme,defaultParseWidth:"any"}),day:di({matchPatterns:Ume,defaultMatchWidth:"wide",parsePatterns:Vme,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:Wme,defaultMatchWidth:"any",parsePatterns:Hme,defaultParseWidth:"any"})},Je={code:"ar",formatDistance:xme,formatLong:_me,formatRelative:Sme,localize:Mme,match:qme,options:{weekStartsOn:6,firstWeekContainsDate:1}};function NU(){const[e,t]=p.useState({latitude:null,longitude:null,error:null,loading:!0}),r=p.useCallback(()=>{if(!navigator.geolocation){t(n=>({...n,error:"     ",loading:!1}));return}t(n=>({...n,loading:!0})),navigator.geolocation.getCurrentPosition(n=>{t({latitude:n.coords.latitude,longitude:n.coords.longitude,error:null,loading:!1})},n=>{let a="    ";switch(n.code){case n.PERMISSION_DENIED:a="   ";break;case n.POSITION_UNAVAILABLE:a="  ";break;case n.TIMEOUT:a="   ";break}t({latitude:null,longitude:null,error:a,loading:!1})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},[]);return p.useEffect(()=>{r()},[r]),{...e,requestLocation:r}}function Wx(e,t,r,n){const s=iy(r-e),o=iy(n-t),l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(iy(e))*Math.cos(iy(r))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function iy(e){return e*(Math.PI/180)}function SU(e){return e<1?`${Math.round(e*1e3)} `:`${e.toFixed(1)} `}function Kme({hallLatitude:e,hallLongitude:t,userLatitude:r,userLongitude:n,className:a=""}){if(!e||!t||!r||!n)return null;const s=Wx(r,n,e,t);return i.jsxs("div",{className:`flex items-center gap-1 bg-black/60 backdrop-blur-sm text-white px-2 py-1 rounded-full ${a}`,children:[i.jsx(Ug,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-semibold font-arabic",children:SU(s)})]})}function Wa(e){return"name_ar"in e}function Gme({hall:e,index:t,onClick:r,userLatitude:n,userLongitude:a}){const{isFavorite:s,toggleFavorite:o}=hU(),l=e.id,c=Wa(e)?e.name_ar:e.nameAr,u=Wa(e)?e.city:e.cityAr,d=Wa(e)?e.cover_image||"/placeholder.svg":e.image,f=Wa(e)?e.capacity_men:e.capacityMen,h=Wa(e)?e.capacity_women:e.capacityWomen,m=Wa(e)?void 0:e.rating,v=Wa(e)?e.latitude:null,g=Wa(e)?e.longitude:null,x=Wa(e)&&e.pricing_type==="per_chair",b=Wa(e)?x?e.price_per_chair_weekday||0:e.price_weekday:e.price,y=x?"/":"",w=s(l),j=Array.from({length:7},(C,A)=>fe(Or(new Date,A),"yyyy-MM-dd")),{data:_}=Bn({queryKey:["hall-availability-preview",l],queryFn:async()=>{const{data:C,error:A}=await W.from("hall_availability").select("date, status").eq("hall_id",l).in("date",j);if(A)throw A;return C||[]},enabled:Wa(e)}),N=new Map((_==null?void 0:_.map(C=>[C.date,C.status]))||[]),S=C=>{switch(C){case"available":return"bg-emerald-500";case"booked":return"bg-rose-500";case"resale":return"bg-amber-400";default:return"bg-muted-foreground/30"}},k=C=>{C.stopPropagation(),o(l)};return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:Math.min(t*.03,.15)},className:"card-luxe rounded-2xl overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500",onClick:r,children:[i.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.jsx("img",{src:d,alt:c,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-3 left-3 gold-gradient px-3 py-1.5 rounded-full shadow-lg",children:i.jsxs("span",{className:"text-sm font-bold text-white",children:["SAR ",b.toLocaleString(),y&&i.jsx("span",{className:"text-xs font-arabic mr-1",children:y})]})}),i.jsx("button",{onClick:k,className:`absolute top-3 right-3 w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all ${w?"bg-white":"bg-black/40 backdrop-blur-sm hover:bg-white/90"}`,children:i.jsx(Hs,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-red-500":"text-white hover:text-red-500"}`})}),m&&i.jsxs("div",{className:"absolute top-14 right-3 bg-black/40 backdrop-blur-sm px-2.5 py-1 rounded-full flex items-center gap-1",children:[i.jsx(Zr,{className:"w-4 h-4 text-resale fill-resale"}),i.jsx("span",{className:"text-sm font-semibold text-white",children:m})]}),i.jsx(Kme,{hallLatitude:v,hallLongitude:g,userLatitude:n,userLongitude:a,className:"absolute bottom-14 left-3"}),i.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[i.jsx("h3",{className:"font-display text-xl font-bold text-white mb-1 text-right",children:c}),i.jsxs("div",{className:"flex items-center gap-1 justify-end text-white/90",children:[i.jsx("span",{className:"text-sm",children:u}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-end gap-6 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[i.jsxs("span",{className:"font-arabic",children:[" ",f]}),i.jsx(Ot,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[i.jsxs("span",{className:"font-arabic",children:[" ",h]}),i.jsx(Ot,{className:"w-4 h-4"})]})]}),Wa(e)&&i.jsxs("div",{className:"space-y-3 pt-3 border-t border-border/50",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground text-right font-arabic",children:" "}),i.jsx("div",{className:"flex items-center justify-between",dir:"rtl",children:j.map((C,A)=>{const E=Or(new Date,A),P=N.get(C),F=fe(E,"EEEE",{locale:Je});return i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:`w-3.5 h-3.5 rounded-full ${S(P)} transition-all`}),i.jsx("span",{className:"text-[11px] text-muted-foreground font-arabic",children:F})]},C)})}),i.jsxs("div",{className:"flex items-center justify-center gap-4 pt-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-[11px] text-muted-foreground font-arabic",children:""}),i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-[11px] text-muted-foreground font-arabic",children:""}),i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-rose-500"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-[11px] text-muted-foreground font-arabic",children:" "}),i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})]})]})]})]})]})}var F1="focusScope.autoFocusOnMount",B1="focusScope.autoFocusOnUnmount",SD={bubbles:!1,cancelable:!0},Yme="FocusScope",Jb=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=xr(a),d=xr(s),f=p.useRef(null),h=Oe(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Uo(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Uo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Uo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){kD.add(m);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(F1,SD);l.addEventListener(F1,u),l.dispatchEvent(b),b.defaultPrevented||(Xme(tpe(CU(l)),{select:!0}),document.activeElement===g&&Uo(l))}return()=>{l.removeEventListener(F1,u),setTimeout(()=>{const b=new CustomEvent(B1,SD);l.addEventListener(B1,d),l.dispatchEvent(b),b.defaultPrevented||Uo(g??document.body,{select:!0}),l.removeEventListener(B1,d),kD.remove(m)},0)}}},[l,u,d,m]);const v=p.useCallback(g=>{if(!r&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(x&&b){const y=g.currentTarget,[w,j]=Zme(y);w&&j?!g.shiftKey&&b===j?(g.preventDefault(),r&&Uo(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&Uo(j,{select:!0})):b===y&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(me.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Jb.displayName=Yme;function Xme(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Uo(n,{select:t}),document.activeElement!==r)return}function Zme(e){const t=CU(e),r=CD(t,e),n=CD(t.reverse(),e);return[r,n]}function CU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function CD(e,t){for(const r of e)if(!Qme(r,{upTo:t}))return r}function Qme(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Jme(e){return e instanceof HTMLInputElement&&"select"in e}function Uo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Jme(e)&&t&&e.select()}}var kD=epe();function epe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ED(e,t),e.unshift(t)},remove(t){var r;e=ED(e,t),(r=e[0])==null||r.resume()}}}function ED(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function tpe(e){return e.filter(t=>t.tagName!=="A")}var z1=0;function fA(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AD()),document.body.insertAdjacentElement("beforeend",e[1]??AD()),z1++,()=>{z1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),z1--}},[])}function AD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qy="right-scroll-bar-position",Jy="width-before-scroll-bar",rpe="with-scroll-bars-hidden",npe="--removed-body-scroll-bar-size";function U1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ape(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var spe=typeof window<"u"?p.useLayoutEffect:p.useEffect,PD=new WeakMap;function ipe(e,t){var r=ape(null,function(n){return e.forEach(function(a){return U1(a,n)})});return spe(function(){var n=PD.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||U1(l,null)}),s.forEach(function(l){a.has(l)||U1(l,o)})}PD.set(r,e)},[e]),r}function ope(e){return e}function lpe(e,t){t===void 0&&(t=ope);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function cpe(e){e===void 0&&(e={});var t=lpe(null);return t.options=ci({async:!0,ssr:!1},e),t}var kU=function(e){var t=e.sideCar,r=hh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,ci({},r))};kU.isSideCarExport=!0;function upe(e,t){return e.useMedium(t),kU}var EU=cpe(),V1=function(){},ew=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:V1,onWheelCapture:V1,onTouchMoveCapture:V1}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,g=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,j=hh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=ipe([r,t]),S=ci(ci({},j),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:EU,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),ci(ci({},S),{ref:N})):p.createElement(y,ci({},S,{className:c,ref:N}),l))});ew.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ew.classNames={fullWidth:Jy,zeroRight:Qy};var dpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fpe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dpe();return t&&e.setAttribute("nonce",t),e}function hpe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mpe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ppe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=fpe())&&(hpe(t,r),mpe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gpe=function(){var e=ppe();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},AU=function(){var e=gpe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},vpe={left:0,top:0,right:0,gap:0},W1=function(e){return parseInt(e||"",10)||0},ype=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[W1(r),W1(n),W1(a)]},xpe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vpe;var t=ype(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},bpe=AU(),Rd="data-scroll-locked",wpe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(rpe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Rd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rd,`] {
    `).concat(npe,": ").concat(l,`px;
  }
`)},OD=function(){var e=parseInt(document.body.getAttribute(Rd)||"0",10);return isFinite(e)?e:0},jpe=function(){p.useEffect(function(){return document.body.setAttribute(Rd,(OD()+1).toString()),function(){var e=OD()-1;e<=0?document.body.removeAttribute(Rd):document.body.setAttribute(Rd,e.toString())}},[])},_pe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;jpe();var s=p.useMemo(function(){return xpe(a)},[a]);return p.createElement(bpe,{styles:wpe(s,!t,a,r?"":"!important")})},VS=!1;if(typeof window<"u")try{var oy=Object.defineProperty({},"passive",{get:function(){return VS=!0,!0}});window.addEventListener("test",oy,oy),window.removeEventListener("test",oy,oy)}catch{VS=!1}var Bu=VS?{passive:!1}:!1,Npe=function(e){return e.tagName==="TEXTAREA"},PU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Npe(e)&&r[t]==="visible")},Spe=function(e){return PU(e,"overflowY")},Cpe=function(e){return PU(e,"overflowX")},TD=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=OU(e,n);if(a){var s=TU(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kpe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Epe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},OU=function(e,t){return e==="v"?Spe(t):Cpe(t)},TU=function(e,t){return e==="v"?kpe(t):Epe(t)},Ape=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ppe=function(e,t,r,n,a){var s=Ape(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=TU(e,l),v=m[0],g=m[1],x=m[2],b=g-x-s*v;(v||b)&&OU(e,l)&&(f+=b,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},ly=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MD=function(e){return[e.deltaX,e.deltaY]},RD=function(e){return e&&"current"in e?e.current:e},Ope=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Tpe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Mpe=0,zu=[];function Rpe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(Mpe++)[0],s=p.useState(AU)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=jue([e.lockRef.current],(e.shards||[]).map(RD),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=ly(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-b[0],j="deltaY"in g?g.deltaY:y[1]-b[1],_,N=g.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var k=TD(S,N);if(!k)return!0;if(k?_=S:(_=S==="v"?"h":"v",k=TD(S,N)),!k)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=_),!_)return!0;var C=n.current||_;return Ppe(C,x,g,C==="h"?w:j)},[]),c=p.useCallback(function(g){var x=g;if(!(!zu.length||zu[zu.length-1]!==s)){var b="deltaY"in x?MD(x):ly(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Ope(_.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(RD).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=w.length>0?l(x,w[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(g,x,b,y){var w={name:g,delta:x,target:b,should:y,shadowParent:Dpe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=p.useCallback(function(g){r.current=ly(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,MD(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,ly(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return zu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bu),document.addEventListener("touchmove",c,Bu),document.addEventListener("touchstart",d,Bu),function(){zu=zu.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Bu),document.removeEventListener("touchmove",c,Bu),document.removeEventListener("touchstart",d,Bu)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:Tpe(a)}):null,m?p.createElement(_pe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Dpe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ipe=upe(EU,Rpe);var tw=p.forwardRef(function(e,t){return p.createElement(ew,ci({},e,{ref:t,sideCar:Ipe}))});tw.classNames=ew.classNames;var $pe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uu=new WeakMap,cy=new WeakMap,uy={},H1=0,MU=function(e){return e&&(e.host||MU(e.parentNode))},Lpe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fpe=function(e,t,r,n){var a=Lpe(t,Array.isArray(e)?e:[e]);uy[r]||(uy[r]=new WeakMap);var s=uy[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(Uu.get(h)||0)+1,x=(s.get(h)||0)+1;Uu.set(h,g),s.set(h,x),o.push(h),g===1&&v&&cy.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),H1++,function(){o.forEach(function(f){var h=Uu.get(f)-1,m=s.get(f)-1;Uu.set(f,h),s.set(f,m),h||(cy.has(f)||f.removeAttribute(n),cy.delete(f)),m||f.removeAttribute(r)}),H1--,H1||(Uu=new WeakMap,Uu=new WeakMap,cy=new WeakMap,uy={})}},hA=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=$pe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Fpe(n,a,r,"aria-hidden")):function(){return null}},rw="Dialog",[RU,DU]=Dr(rw),[Bpe,ei]=RU(rw),IU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=va({prop:n,defaultProp:a??!1,onChange:s,caller:rw});return i.jsx(Bpe,{scope:t,triggerRef:l,contentRef:c,contentId:ls(),titleId:ls(),descriptionId:ls(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};IU.displayName=rw;var $U="DialogTrigger",LU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ei($U,r),s=Oe(t,a.triggerRef);return i.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gA(a.open),...n,ref:s,onClick:le(e.onClick,a.onOpenToggle)})});LU.displayName=$U;var mA="DialogPortal",[zpe,FU]=RU(mA,{forceMount:void 0}),BU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ei(mA,t);return i.jsx(zpe,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(hn,{present:r||s.open,children:i.jsx(Dg,{asChild:!0,container:a,children:o})}))})};BU.displayName=mA;var Hx="DialogOverlay",zU=p.forwardRef((e,t)=>{const r=FU(Hx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ei(Hx,e.__scopeDialog);return s.modal?i.jsx(hn,{present:n||s.open,children:i.jsx(Vpe,{...a,ref:t})}):null});zU.displayName=Hx;var Upe=ru("DialogOverlay.RemoveScroll"),Vpe=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ei(Hx,r);return i.jsx(tw,{as:Upe,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(me.div,{"data-state":gA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),cu="DialogContent",UU=p.forwardRef((e,t)=>{const r=FU(cu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ei(cu,e.__scopeDialog);return i.jsx(hn,{present:n||s.open,children:s.modal?i.jsx(Wpe,{...a,ref:t}):i.jsx(Hpe,{...a,ref:t})})});UU.displayName=cu;var Wpe=p.forwardRef((e,t)=>{const r=ei(cu,e.__scopeDialog),n=p.useRef(null),a=Oe(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return hA(s)},[]),i.jsx(VU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:le(e.onFocusOutside,s=>s.preventDefault())})}),Hpe=p.forwardRef((e,t)=>{const r=ei(cu,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return i.jsx(VU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),VU=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=ei(cu,r),c=p.useRef(null),u=Oe(t,c);return fA(),i.jsxs(i.Fragment,{children:[i.jsx(Jb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(rh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Kpe,{titleId:l.titleId}),i.jsx(Ype,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pA="DialogTitle",WU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ei(pA,r);return i.jsx(me.h2,{id:a.titleId,...n,ref:t})});WU.displayName=pA;var HU="DialogDescription",qU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ei(HU,r);return i.jsx(me.p,{id:a.descriptionId,...n,ref:t})});qU.displayName=HU;var KU="DialogClose",GU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ei(KU,r);return i.jsx(me.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});GU.displayName=KU;function gA(e){return e?"open":"closed"}var YU="DialogTitleWarning",[qpe,XU]=$Q(YU,{contentName:cu,titleName:pA,docsSlug:"dialog"}),Kpe=({titleId:e})=>{const t=XU(YU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Gpe="DialogDescriptionWarning",Ype=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XU(Gpe).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vA=IU,ZU=LU,yA=BU,tv=zU,rv=UU,nv=WU,av=qU,nw=GU;const Mt=vA,Xpe=ZU,Zpe=yA,QU=p.forwardRef(({className:e,...t},r)=>i.jsx(tv,{className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));QU.displayName=tv.displayName;const Qpe=$g("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),kt=p.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Zpe,{children:[i.jsx(QU,{}),i.jsxs(rv,{ref:a,className:oe(Qpe({side:e}),t),...n,children:[r,i.jsxs(nw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kt.displayName=rv.displayName;const ur=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});ur.displayName="SheetHeader";const Kt=p.forwardRef(({className:e,...t},r)=>i.jsx(nv,{ref:r,className:oe("text-lg font-semibold text-foreground",e),...t}));Kt.displayName=nv.displayName;const qx=p.forwardRef(({className:e,...t},r)=>i.jsx(av,{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));qx.displayName=av.displayName;var ze=function(){return ze=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ze.apply(this,arguments)};function Jpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function JU(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function sv(e){return e.mode==="multiple"}function iv(e){return e.mode==="range"}function aw(e){return e.mode==="single"}var ege={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function tge(e,t){return fe(e,"LLLL y",t)}function rge(e,t){return fe(e,"d",t)}function nge(e,t){return fe(e,"LLLL",t)}function age(e){return"".concat(e)}function sge(e,t){return fe(e,"cccccc",t)}function ige(e,t){return fe(e,"yyyy",t)}var oge=Object.freeze({__proto__:null,formatCaption:tge,formatDay:rge,formatMonthCaption:nge,formatWeekNumber:age,formatWeekdayName:sge,formatYearCaption:ige}),lge=function(e,t,r){return fe(e,"do MMMM (EEEE)",r)},cge=function(){return"Month: "},uge=function(){return"Go to next month"},dge=function(){return"Go to previous month"},fge=function(e,t){return fe(e,"cccc",t)},hge=function(e){return"Week n. ".concat(e)},mge=function(){return"Year: "},pge=Object.freeze({__proto__:null,labelDay:lge,labelMonthDropdown:cge,labelNext:uge,labelPrevious:dge,labelWeekNumber:hge,labelWeekday:fge,labelYearDropdown:mge});function gge(){var e="buttons",t=ege,r=uA,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:oge,labels:pge,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function vge(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=or(n):t&&(s=new Date(t,0,1)),a?o=Us(a):r&&(o=new Date(r,11,31)),{fromDate:s?ki(s):void 0,toDate:o?ki(o):void 0}}var eV=p.createContext(void 0);function yge(e){var t,r=e.initialProps,n=gge(),a=vge(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(aw(r)||sv(r)||iv(r))&&(c=r.onSelect);var u=ze(ze(ze({},n),r),{captionLayout:l,classNames:ze(ze({},n.classNames),r.classNames),components:ze({},r.components),formatters:ze(ze({},n.formatters),r.formatters),fromDate:s,labels:ze(ze({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ze(ze({},n.modifiers),r.modifiers),modifiersClassNames:ze(ze({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ze(ze({},n.styles),r.styles),toDate:o});return i.jsx(eV.Provider,{value:u,children:e.children})}function Gt(){var e=p.useContext(eV);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function tV(e){var t=Gt(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function xge(e){return i.jsx("svg",ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rV(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Gt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:xge;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function bge(e){var t,r=Gt(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(gme(n,a))for(var h=or(n),m=n.getMonth();m<=a.getMonth();m++)f.push(L1(h,m));else for(var h=or(new Date),m=0;m<=11;m++)f.push(L1(h,m));var v=function(x){var b=Number(x.target.value),y=L1(or(e.displayMonth),b);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:rV;return i.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(x){return i.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function wge(e){var t,r=e.displayMonth,n=Gt(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),v=s.getFullYear(),g=m;g<=v;g++)h.push(ND(gU(new Date),g));var x=function(y){var w=ND(or(r),Number(y.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:rV;return i.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(y){return i.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function jge(e,t){var r=p.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function _ge(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&vf(s,a)<0){var u=-1*(c-1);a=sn(s,u)}return o&&vf(a,o)<0&&(a=o),or(a)}function Nge(){var e=Gt(),t=_ge(e),r=jge(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=or(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function Sge(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=or(e),s=or(sn(a,n)),o=vf(s,a),l=[],c=0;c<o;c++){var u=sn(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Cge(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=or(e);if(!r)return sn(l,o);var c=vf(r,e);if(!(c<s))return sn(l,o)}}function kge(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=or(e);if(!r)return sn(l,-o);var c=vf(l,r);if(!(c<=0))return sn(l,-o)}}var nV=p.createContext(void 0);function Ege(e){var t=Gt(),r=Nge(),n=r[0],a=r[1],s=Sge(n,t),o=Cge(n,t),l=kge(n,t),c=function(f){return s.some(function(h){return dA(f,h)})},u=function(f,h){c(f)||(h&&Zi(f,h)?a(sn(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(nV.Provider,{value:d,children:e.children})}function ov(){var e=p.useContext(nV);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function DD(e){var t,r=Gt(),n=r.classNames,a=r.styles,s=r.components,o=ov().goToMonth,l=function(d){o(sn(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:tV,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(bge,{onChange:l,displayMonth:e.displayMonth}),i.jsx(wge,{onChange:l,displayMonth:e.displayMonth})]})}function Age(e){return i.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pge(e){return i.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Kx=p.forwardRef(function(e,t){var r=Gt(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=ze(ze({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",ze({},e,{ref:t,type:"button",className:o,style:l}))});function Oge(e){var t,r,n=Gt(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:s}),g=[o.nav_button,o.nav_button_next].join(" "),x=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Pge,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Age;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Kx,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(x,{className:o.nav_icon,style:l.nav_icon}):i.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Kx,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(b,{className:o.nav_icon,style:l.nav_icon}):i.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function ID(e){var t=Gt().numberOfMonths,r=ov(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(v){return dA(e.displayMonth,v)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(Oge,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function Tge(e){var t,r=Gt(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:tV,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(DD,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(DD,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(ID,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(ID,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function Mge(e){var t=Gt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function Rge(e,t,r){for(var n=r?lu(new Date):Ci(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Or(n,s);a.push(o)}return a}function Dge(){var e=Gt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Rge(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Ige(){var e,t=Gt(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Dge;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function $ge(e){var t=Gt(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var xA=p.createContext(void 0);function Lge(e){if(!sv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(xA.Provider,{value:t,children:e.children})}return i.jsx(Fge,{initialProps:e.initialProps,children:e.children})}function Fge(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var x=n?JU([],n):[];if(d.selected){var b=x.findIndex(function(y){return Gr(u,y)});x.splice(b,1)}else x.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,x,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return Gr(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(xA.Provider,{value:c,children:r})}function bA(){var e=p.useContext(xA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Bge(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Gr(a,e)&&Gr(n,e)?void 0:Gr(a,e)?{from:a,to:void 0}:Gr(n,e)?void 0:zS(n,e)?{from:e,to:a}:{from:n,to:e}:a?zS(e,a)?{from:a,to:e}:{from:e,to:a}:n?Zi(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var wA=p.createContext(void 0);function zge(e){if(!iv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(wA.Provider,{value:t,children:e.children})}return i.jsx(Uge,{initialProps:e.initialProps,children:e.children})}function Uge(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,v,g){var x,b;(x=t.onDayClick)===null||x===void 0||x.call(t,m,v,g);var y=Bge(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,m,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Gr(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:Fm(s,l-1),before:Or(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Or(s,l-1)}),!s&&o&&d.disabled.push({after:Fm(o,l-1),before:Or(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Or(s,-c+1)}),d.disabled.push({after:Or(s,c-1)})),s&&o){var f=hi(o,s)+1,h=c-f;d.disabled.push({before:Fm(s,h)}),d.disabled.push({after:Or(o,h)})}!s&&o&&(d.disabled.push({before:Or(o,-c+1)}),d.disabled.push({after:Or(o,c-1)}))}return i.jsx(wA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function jA(){var e=p.useContext(wA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ex(e){return Array.isArray(e)?JU([],e):e!==void 0?[e]:[]}function Vge(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=ex(a)}),t}var Xs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Xs||(Xs={}));var Wge=Xs.Selected,Fi=Xs.Disabled,Hge=Xs.Hidden,qge=Xs.Today,q1=Xs.RangeEnd,K1=Xs.RangeMiddle,G1=Xs.RangeStart,Kge=Xs.Outside;function Gge(e,t,r){var n,a=(n={},n[Wge]=ex(e.selected),n[Fi]=ex(e.disabled),n[Hge]=ex(e.hidden),n[qge]=[e.today],n[q1]=[],n[K1]=[],n[G1]=[],n[Kge]=[],n);return e.fromDate&&a[Fi].push({before:e.fromDate}),e.toDate&&a[Fi].push({after:e.toDate}),sv(e)?a[Fi]=a[Fi].concat(t.modifiers[Fi]):iv(e)&&(a[Fi]=a[Fi].concat(r.modifiers[Fi]),a[G1]=r.modifiers[G1],a[K1]=r.modifiers[K1],a[q1]=r.modifiers[q1]),a}var aV=p.createContext(void 0);function Yge(e){var t=Gt(),r=bA(),n=jA(),a=Gge(t,r,n),s=Vge(t.modifiers),o=ze(ze({},a),s);return i.jsx(aV.Provider,{value:o,children:e.children})}function sV(){var e=p.useContext(aV);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Xge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Zge(e){return!!(e&&typeof e=="object"&&"from"in e)}function Qge(e){return!!(e&&typeof e=="object"&&"after"in e)}function Jge(e){return!!(e&&typeof e=="object"&&"before"in e)}function eve(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function tve(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=hi(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=hi(e,n)>=0&&hi(a,e)>=0;return o}return a?Gr(a,e):n?Gr(n,e):!1}function rve(e){return oA(e)}function nve(e){return Array.isArray(e)&&e.every(oA)}function ave(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(rve(r))return Gr(e,r);if(nve(r))return r.includes(e);if(Zge(r))return tve(e,r);if(eve(r))return r.dayOfWeek.includes(e.getDay());if(Xge(r)){var n=hi(r.before,e),a=hi(r.after,e),s=n>0,o=a<0,l=zS(r.before,r.after);return l?o&&s:s||o}return Qge(r)?hi(e,r.after)>0:Jge(r)?hi(r.before,e)>0:typeof r=="function"?r(e):!1})}function _A(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return ave(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!dA(e,r)&&(a.outside=!0),a}function sve(e,t){for(var r=or(e[0]),n=Us(e[e.length-1]),a,s,o=r;o<=n;){var l=_A(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Or(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Or(o,1)}return s||a}var ive=365;function iV(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Or,week:BS,month:sn,year:ihe,startOfWeek:function(x){return a.ISOWeek?lu(x):Ci(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?vU(x):cA(x,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=ohe([u,m]):n==="after"&&d&&(m=lhe([d,m]));var v=!0;if(s){var g=_A(m,s);v=!g.disabled&&!g.hidden}return v?m:l.count>ive?l.lastFocused:iV(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:ze(ze({},l),{count:l.count+1})})}var oV=p.createContext(void 0);function ove(e){var t=ov(),r=sV(),n=p.useState(),a=n[0],s=n[1],o=p.useState(),l=o[0],c=o[1],u=sve(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(x){s(x)},m=Gt(),v=function(x,b){if(a){var y=iV(a,{moveBy:x,direction:b,context:m,modifiers:r});Gr(a,y)||(t.goToDate(y,a),h(y))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return i.jsx(oV.Provider,{value:g,children:e.children})}function NA(){var e=p.useContext(oV);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function lve(e,t){var r=sV(),n=_A(e,r,t);return n}var SA=p.createContext(void 0);function cve(e){if(!aw(e.initialProps)){var t={selected:void 0};return i.jsx(SA.Provider,{value:t,children:e.children})}return i.jsx(uve,{initialProps:e.initialProps,children:e.children})}function uve(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(SA.Provider,{value:a,children:r})}function lV(){var e=p.useContext(SA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function dve(e,t){var r=Gt(),n=lV(),a=bA(),s=jA(),o=NA(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,x=o.focusYearAfter,b=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function($){var D,T,U,R;aw(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,$):sv(r)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,$):iv(r)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,t,$):(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,$)},j=function($){var D;h(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,$)},_=function($){var D;f(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,$)},N=function($){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,$)},S=function($){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,$)},k=function($){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,$)},C=function($){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,$)},A=function($){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,$)},E=function($){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,$)},P=function($){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,$)},F=function($){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,$)},I=function($){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,$)},z=function($){var D;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?g():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():v();break;case"Home":$.preventDefault(),$.stopPropagation(),b();break;case"End":$.preventDefault(),$.stopPropagation(),y();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,$)},O={onClick:w,onFocus:j,onBlur:_,onKeyDown:z,onKeyUp:I,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:A,onTouchEnd:E,onTouchMove:P,onTouchStart:F};return O}function fve(){var e=Gt(),t=lV(),r=bA(),n=jA(),a=aw(e)?t.selected:sv(e)?r.selected:iv(e)?n.selected:void 0;return a}function hve(e){return Object.values(Xs).includes(e)}function mve(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(hve(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function pve(e,t){var r=ze({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ze(ze({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function gve(e,t,r){var n,a,s,o=Gt(),l=NA(),c=lve(e,t),u=dve(e,c),d=fve(),f=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Gr(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=mve(o,c).join(" "),m=pve(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:$ge,x=i.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:x,role:"gridcell"},y=l.focusTarget&&Gr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Gr(l.focusedDay,e),j=ze(ze(ze({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),_={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:b};return _}function vve(e){var t=p.useRef(null),r=gve(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Kx,ze({name:"day",ref:t},r.buttonProps)):i.jsx("div",ze({},r.divProps))}function yve(e){var t=e.number,r=e.dates,n=Gt(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(Kx,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function xve(e){var t,r,n=Gt(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:vve,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:yve,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},hme(f))})]})}function $D(e,t,r){for(var n=r!=null&&r.ISOWeek?vU(t):cA(t,r),a=r!=null&&r.ISOWeek?lu(e):Ci(e,r),s=hi(n,a),o=[],l=0;l<=s;l++)o.push(Or(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?xU(d):wU(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function bve(e,t){var r=$D(or(e),Us(e),t);if(t!=null&&t.useFixedWeeks){var n=pme(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=BS(s,6-n),l=$D(BS(s,1),o,t);r.push.apply(r,l)}}return r}function wve(e){var t,r,n,a=Gt(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,v=bve(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Ige,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:xve,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Mge;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(g,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return i.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),i.jsx(b,{displayMonth:e.displayMonth})]})}function jve(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _ve=jve()?p.useLayoutEffect:p.useEffect,Y1=!1,Nve=0;function LD(){return"react-day-picker-".concat(++Nve)}function Sve(e){var t,r=e??(Y1?LD():null),n=p.useState(r),a=n[0],s=n[1];return _ve(function(){a===null&&s(LD())},[]),p.useEffect(function(){Y1===!1&&(Y1=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Cve(e){var t,r,n=Gt(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=ov().displayMonths,u=Sve(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(s.caption_start),h=ze(ze({},h),o.caption_start)),v&&(f.push(s.caption_end),h=ze(ze({},h),o.caption_end)),g&&(f.push(s.caption_between),h=ze(ze({},h),o.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Tge;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(wve,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function kve(e){var t=Gt(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function Eve(e){var t,r,n=e.initialProps,a=Gt(),s=NA(),o=ov(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=ze(ze({},a.styles.root),a.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var x;return ze(ze({},v),(x={},x[g]=n[g],x))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:kve;return i.jsx("div",ze({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(v,g){return i.jsx(Cve,{displayIndex:g,displayMonth:v},g)})})}))}function Ave(e){var t=e.children,r=Jpe(e,["children"]);return i.jsx(yge,{initialProps:r,children:i.jsx(Ege,{children:i.jsx(cve,{initialProps:r,children:i.jsx(Lge,{initialProps:r,children:i.jsx(zge,{initialProps:r,children:i.jsx(Yge,{children:i.jsx(ove,{children:t})})})})})})})}function Pve(e){return i.jsx(Ave,ze({},e,{children:i.jsx(Eve,{initialProps:e})}))}function CA({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(Pve,{showOutsideDays:r,className:oe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:oe(bp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:oe(bp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(Vr,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(Bs,{className:"h-4 w-4"})},...n})}CA.displayName="Calendar";const Sn=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sn.displayName="Textarea";function Ove({hallId:e,hallName:t}){const{user:r}=at(),{toast:n}=Ke(),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[x,b]=p.useState(5),[y,w]=p.useState(""),[j,_]=p.useState(0),[N,S]=p.useState(0);p.useEffect(()=>{k(),r&&C()},[e,r]);const k=async()=>{l(!0);try{const{data:P,error:F}=await W.from("hall_reviews").select(`
          id,
          rating,
          comment,
          created_at,
          user_id
        `).eq("hall_id",e).order("created_at",{ascending:!1});if(F)throw F;const I=await Promise.all((P||[]).map(async z=>{const{data:O}=await W.from("profiles").select("full_name").eq("id",z.user_id).maybeSingle();return{...z,profiles:O}}));if(s(I),I.length>0){const z=I.reduce((O,$)=>O+$.rating,0)/I.length;_(Math.round(z*10)/10),S(I.length)}if(r){const z=I.find(O=>O.user_id===r.id);m(!!z)}}catch(P){console.error("Error fetching reviews:",P)}finally{l(!1)}},C=async()=>{if(r)try{const{data:P}=await W.from("hall_bookings").select("id").eq("hall_id",e).eq("user_id",r.id).eq("status","accepted").limit(1);f(!!P&&P.length>0)}catch(P){console.error("Error checking can review:",P)}},A=async()=>{if(!r){n({title:"  ",description:"    ",variant:"destructive"});return}g(!0);try{const{error:P}=await W.from("hall_reviews").insert({hall_id:e,user_id:r.id,rating:x,comment:y.trim()||null});if(P)throw P;n({title:"  ",description:"  "}),u(!1),w(""),b(5),k()}catch(P){n({title:"",description:P.message||"    ",variant:"destructive"})}finally{g(!1)}},E=(P,F=!1,I="w-5 h-5")=>i.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(z=>i.jsx("button",{type:"button",disabled:!F,onClick:()=>F&&b(z),className:F?"cursor-pointer":"cursor-default",children:i.jsx(Zr,{className:`${I} ${z<=P?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`})},z))});return o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(ve,{className:"w-6 h-6 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center gap-1",children:E(Math.round(j))}),i.jsx("span",{className:"text-lg font-bold text-foreground",children:j}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",N," )"]})]}),r&&d&&!h&&i.jsxs(K,{size:"sm",onClick:()=>u(!c),className:"gap-2",children:[i.jsx(cf,{className:"w-4 h-4"})," "]})]}),i.jsx(Lt,{children:c&&i.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium text-foreground font-arabic",children:["  ",t]}),E(x,!0,"w-8 h-8")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground font-arabic",children:"  ()"}),i.jsx(Sn,{value:y,onChange:P=>w(P.target.value),placeholder:"    ...",className:"min-h-[100px] font-arabic",dir:"rtl"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{onClick:A,disabled:v,className:"flex-1",children:v?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):" "}),i.jsx(K,{variant:"outline",onClick:()=>u(!1),children:""})]})]})})}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map((P,F)=>{var I;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-muted/30 rounded-xl p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(ya,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground font-arabic",children:((I=P.profiles)==null?void 0:I.full_name)||""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:fe(new Date(P.created_at),"d MMMM yyyy",{locale:Je})})]})]}),E(P.rating,!1,"w-4 h-4")]}),P.comment&&i.jsx("p",{className:"text-sm text-foreground/80 font-arabic leading-relaxed",children:P.comment})]},P.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Zr,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-2"}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:"   "}),d&&!h&&i.jsx("p",{className:"text-sm text-primary font-arabic mt-1",children:"     !"})]})]})}function Tve({latitude:e,longitude:t,name:r,address:n,userLatitude:a,userLongitude:s}){const o=a&&s?Wx(a,s,e,t):null,l=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e},${t}`,"_blank")},c=()=>{a&&s?window.open(`https://www.google.com/maps/dir/${a},${s}/${e},${t}`,"_blank"):window.open(`https://www.google.com/maps/dir/?api=1&destination=${e},${t}`,"_blank")},u=`https://www.openstreetmap.org/export/embed.html?bbox=${t-.01},${e-.01},${t+.01},${e+.01}&layer=mapnik&marker=${e},${t}`;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[i.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-border bg-muted",children:[i.jsx("iframe",{src:u,className:"w-full h-40",style:{border:0},loading:"lazy",title:` ${r}`}),o!==null&&i.jsxs("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1.5",children:[i.jsx(Ug,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-bold font-arabic",children:SU(o)})]})]}),n&&i.jsxs("div",{className:"flex items-start gap-2 text-right",children:[i.jsx("p",{className:"text-sm text-muted-foreground font-arabic flex-1",children:n}),i.jsx(wr,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{onClick:c,className:"flex-1 gap-2",size:"sm",children:[i.jsx(lee,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic",children:""})]}),i.jsxs(K,{onClick:l,variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(q2,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic",children:"   "})]})]})]})}const ge=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ge.displayName="Input";var cV={exports:{}},uV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=p;function Mve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rve=typeof Object.is=="function"?Object.is:Mve,Dve=yf.useState,Ive=yf.useEffect,$ve=yf.useLayoutEffect,Lve=yf.useDebugValue;function Fve(e,t){var r=t(),n=Dve({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return $ve(function(){a.value=r,a.getSnapshot=t,X1(a)&&s({inst:a})},[e,r,t]),Ive(function(){return X1(a)&&s({inst:a}),e(function(){X1(a)&&s({inst:a})})},[e]),Lve(r),r}function X1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rve(e,r)}catch{return!0}}function Bve(e,t){return t()}var zve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bve:Fve;uV.useSyncExternalStore=yf.useSyncExternalStore!==void 0?yf.useSyncExternalStore:zve;cV.exports=uV;var Uve=cV.exports;function Vve(){return Uve.useSyncExternalStore(Wve,()=>!0,()=>!1)}function Wve(){return()=>{}}var kA="Avatar",[Hve]=Dr(kA),[qve,dV]=Hve(kA),fV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=p.useState("idle");return i.jsx(qve,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(me.span,{...n,ref:t})})});fV.displayName=kA;var hV="AvatarImage",mV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=dV(hV,r),l=Kve(n,s),c=xr(u=>{a(u),o.onImageLoadingStatusChange(u)});return br(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(me.img,{...s,ref:t,src:n}):null});mV.displayName=hV;var pV="AvatarFallback",gV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=dV(pV,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(me.span,{...a,ref:t}):null});gV.displayName=pV;function FD(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Kve(e,{referrerPolicy:t,crossOrigin:r}){const n=Vve(),a=p.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=p.useState(()=>FD(s,e));return br(()=>{l(FD(s,e))},[s,e]),br(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var vV=fV,yV=mV,xV=gV;const Gx=p.forwardRef(({className:e,...t},r)=>i.jsx(vV,{ref:r,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gx.displayName=vV.displayName;const Yx=p.forwardRef(({className:e,...t},r)=>i.jsx(yV,{ref:r,className:oe("aspect-square h-full w-full",e),...t}));Yx.displayName=yV.displayName;const Xx=p.forwardRef(({className:e,...t},r)=>i.jsx(xV,{ref:r,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Xx.displayName=xV.displayName;var Gve=p.createContext(void 0);function Hl(e){const t=p.useContext(Gve);return e||t||"ltr"}function Mp(e,[t,r]){return Math.min(r,Math.max(t,e))}function Yve(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var EA="ScrollArea",[bV]=Dr(EA),[Xve,ps]=bV(EA),wV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState(null),[g,x]=p.useState(null),[b,y]=p.useState(0),[w,j]=p.useState(0),[_,N]=p.useState(!1),[S,k]=p.useState(!1),C=Oe(t,E=>c(E)),A=Hl(a);return i.jsx(Xve,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:j,children:i.jsx(me.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});wV.displayName=EA;var jV="ScrollAreaViewport",_V=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=ps(jV,r),l=p.useRef(null),c=Oe(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(me.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_V.displayName=jV;var Ri="ScrollAreaScrollbar",AA=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ri,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(Zve,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(Qve,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(NV,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(PA,{...n,ref:t}):null});AA.displayName=Ri;var Zve=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ri,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(hn,{present:r||s,children:i.jsx(NV,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Qve=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ps(Ri,e.__scopeScrollArea),s=e.orientation==="horizontal",o=iw(()=>c("SCROLL_END"),100),[l,c]=Yve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(hn,{present:r||l!=="hidden",children:i.jsx(PA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NV=p.forwardRef((e,t)=>{const r=ps(Ri,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=iw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return xf(r.viewport,c),xf(r.content,c),i.jsx(hn,{present:n||s,children:i.jsx(PA,{"data-state":s?"visible":"hidden",...a,ref:t})})}),PA=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ps(Ri,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=AV(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return aye(h,o.current,l,m)}return r==="horizontal"?i.jsx(Jve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=BD(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(eye,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=BD(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Jve=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ps(Ri,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Oe(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(CV,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),OV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qx(o.paddingLeft),paddingEnd:Qx(o.paddingRight)}})}})}),eye=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ps(Ri,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Oe(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(CV,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),OV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qx(o.paddingTop),paddingEnd:Qx(o.paddingBottom)}})}})}),[tye,SV]=bV(Ri),CV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=ps(Ri,r),[v,g]=p.useState(null),x=Oe(t,C=>g(C)),b=p.useRef(null),y=p.useRef(""),w=m.viewport,j=n.content-n.viewport,_=xr(d),N=xr(c),S=iw(f,10);function k(C){if(b.current){const A=C.clientX-b.current.left,E=C.clientY-b.current.top;u({x:A,y:E})}}return p.useEffect(()=>{const C=A=>{const E=A.target;(v==null?void 0:v.contains(E))&&_(A,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,j,_]),p.useEffect(N,[n,N]),xf(v,S),xf(m.content,S),i.jsx(tye,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:xr(s),onThumbPointerUp:xr(o),onThumbPositionChange:N,onThumbPointerDown:xr(l),children:i.jsx(me.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:le(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:le(e.onPointerMove,k),onPointerUp:le(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Zx="ScrollAreaThumb",kV=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=SV(Zx,e.__scopeScrollArea);return i.jsx(hn,{present:r||a.hasThumb,children:i.jsx(rye,{ref:t,...n})})}),rye=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ps(Zx,r),o=SV(Zx,r),{onThumbPositionChange:l}=o,c=Oe(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=iw(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=sye(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:le(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:le(e.onPointerUp,o.onThumbPointerUp)})});kV.displayName=Zx;var OA="ScrollAreaCorner",EV=p.forwardRef((e,t)=>{const r=ps(OA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(nye,{...e,ref:t}):null});EV.displayName=OA;var nye=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ps(OA,r),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return xf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),xf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(me.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qx(e){return e?parseInt(e,10):0}function AV(e,t){const r=e/t;return isNaN(r)?0:r}function sw(e){const t=AV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function aye(e,t,r,n="ltr"){const a=sw(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return PV([c,u],f)(e)}function BD(e,t,r="ltr"){const n=sw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Mp(e,c);return PV([0,o],[0,l])(u)}function PV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function OV(e,t){return e>0&&e<t}var sye=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function iw(e,t){const r=xr(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function xf(e,t){const r=xr(t);br(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var TV=wV,iye=_V,oye=EV;const ow=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(TV,{ref:n,className:oe("relative overflow-hidden",e),...r,children:[i.jsx(iye,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(MV,{}),i.jsx(oye,{})]}));ow.displayName=TV.displayName;const MV=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(AA,{ref:n,orientation:t,className:oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(kV,{className:"relative flex-1 rounded-full bg-border"})}));MV.displayName=AA.displayName;function TA(e){const{user:t}=at(),{toast:r}=Ke(),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState(null),[u,d]=p.useState(!1),[f,h]=p.useState(!1),m=p.useCallback(async()=>{if(t){d(!0);try{const{data:w,error:j}=await W.from("conversations").select(`
          *,
          participant_1_profile:profiles!conversations_participant_1_fkey(full_name, avatar_url),
          participant_2_profile:profiles!conversations_participant_2_fkey(full_name, avatar_url)
        `).or(`participant_1.eq.${t.id},participant_2.eq.${t.id}`).order("updated_at",{ascending:!1});if(j)throw j;const _=(w||[]).map(N=>{const S=N.participant_1===t.id;return{...N,other_participant:S?N.participant_2_profile:N.participant_1_profile}});a(_)}catch(w){console.error("Error fetching conversations:",w)}finally{d(!1)}}},[t]),v=p.useCallback(async(w,j)=>{if(!t)return null;try{let _=W.from("conversations").select("*").or(`and(participant_1.eq.${t.id},participant_2.eq.${w}),and(participant_1.eq.${w},participant_2.eq.${t.id})`);j!=null&&j.providerId?_=_.eq("provider_id",j.providerId):j!=null&&j.hallId?_=_.eq("hall_id",j.hallId):j!=null&&j.dressId&&(_=_.eq("dress_id",j.dressId));const{data:N,error:S}=await _.maybeSingle();if(S&&S.code!=="PGRST116")throw S;if(N)return c(N),N;const{data:k,error:C}=await W.from("conversations").insert({participant_1:t.id,participant_2:w,provider_id:(j==null?void 0:j.providerId)||null,hall_id:(j==null?void 0:j.hallId)||null,dress_id:(j==null?void 0:j.dressId)||null}).select().single();if(C)throw C;return c(k),k}catch(_){return console.error("Error getting/creating conversation:",_),r({title:"",description:"    ",variant:"destructive"}),null}},[t,r]),g=p.useCallback(async w=>{if(t){d(!0);try{const{data:j,error:_}=await W.from("chat_messages").select(`
          *,
          sender_profile:profiles!chat_messages_sender_id_fkey(full_name, avatar_url)
        `).eq("conversation_id",w).order("created_at",{ascending:!0});if(_)throw _;o(j||[]),await W.from("chat_messages").update({is_read:!0}).eq("conversation_id",w).neq("sender_id",t.id).eq("is_read",!1)}catch(j){console.error("Error fetching messages:",j)}finally{d(!1)}}},[t]),x=p.useCallback(async(w,j,_)=>{if(!t||!w.trim()&&(!_||_.length===0))return!1;const N=j||(l==null?void 0:l.id);if(!N)return!1;h(!0);try{const{data:S,error:k}=await W.from("chat_messages").insert({conversation_id:N,sender_id:t.id,content:w.trim()||"",images:_&&_.length>0?_:null}).select(`
          *,
          sender_profile:profiles!chat_messages_sender_id_fkey(full_name, avatar_url)
        `).single();if(k)throw k;return o(C=>[...C,S]),!0}catch(S){return console.error("Error sending message:",S),r({title:"",description:"  ",variant:"destructive"}),!1}finally{h(!1)}},[t,l,r]),b=p.useCallback(async w=>{if(!t)return null;const j=w.name.split(".").pop(),_=`${t.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${j}`,{data:N,error:S}=await W.storage.from("chat-images").upload(_,w,{cacheControl:"3600",upsert:!1});if(S)return console.error("Error uploading image:",S),r({title:"",description:"  ",variant:"destructive"}),null;const{data:{publicUrl:k}}=W.storage.from("chat-images").getPublicUrl(N.path);return k},[t,r]);p.useEffect(()=>{if(!(l!=null&&l.id))return;const w=W.channel(`chat:${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${l.id}`},async j=>{const{data:_}=await W.from("chat_messages").select(`
              *,
              sender_profile:profiles!chat_messages_sender_id_fkey(full_name, avatar_url)
            `).eq("id",j.new.id).single();_&&_.sender_id!==(t==null?void 0:t.id)&&(o(N=>N.some(S=>S.id===_.id)?N:[...N,_]),await W.from("chat_messages").update({is_read:!0}).eq("id",_.id))}).subscribe();return()=>{W.removeChannel(w)}},[l==null?void 0:l.id,t==null?void 0:t.id]);const y=p.useCallback(async()=>{if(!t)return 0;const{count:w,error:j}=await W.from("chat_messages").select("*",{count:"exact",head:!0}).neq("sender_id",t.id).eq("is_read",!1);return j?0:w||0},[t]);return{conversations:n,messages:s,currentConversation:l,loading:u,sending:f,fetchConversations:m,fetchMessages:g,sendMessage:x,uploadChatImage:b,getOrCreateConversation:v,setCurrentConversation:c,getUnreadCount:y}}function ph({open:e,onOpenChange:t,otherUserId:r,otherUserName:n,otherUserAvatar:a,providerId:s,hallId:o,dressId:l}){const{user:c}=at(),{messages:u,loading:d,sending:f,fetchMessages:h,sendMessage:m,uploadChatImage:v,getOrCreateConversation:g}=TA(),[x,b]=p.useState(""),[y,w]=p.useState(!1),[j,_]=p.useState([]),[N,S]=p.useState([]),[k,C]=p.useState(!1),[A,E]=p.useState(null),P=p.useRef(null),F=p.useRef(null),I=p.useRef(null);p.useEffect(()=>{e&&(async()=>{if(r&&n){E({id:r,name:n,avatar:a||null});return}let M=null;if(o){const{data:B}=await W.from("halls").select("owner_id, name_ar").eq("id",o).single();M=(B==null?void 0:B.owner_id)||null}else if(l){const{data:B}=await W.from("dresses").select("seller_id, title").eq("id",l).single();M=(B==null?void 0:B.seller_id)||null}else if(s){const{data:B}=await W.from("service_providers").select("owner_id, name_ar").eq("id",s).single();M=(B==null?void 0:B.owner_id)||null}if(M){const{data:B}=await W.from("profiles").select("full_name, avatar_url").eq("id",M).single();E({id:M,name:(B==null?void 0:B.full_name)||"",avatar:(B==null?void 0:B.avatar_url)||null})}})()},[e,r,n,a,o,l,s]),p.useEffect(()=>{if(e&&(A!=null&&A.id)&&c){w(!0);const R={providerId:s,hallId:o,dressId:l};g(A.id,R).then(M=>{M&&h(M.id),w(!1)})}},[e,A==null?void 0:A.id,c,s,o,l,g,h]),p.useEffect(()=>{var R;(R=P.current)==null||R.scrollIntoView({behavior:"smooth"})},[u]),p.useEffect(()=>{e&&!d&&!y&&setTimeout(()=>{var R;return(R=F.current)==null?void 0:R.focus()},100)},[e,d,y]);const z=R=>{const B=Array.from(R.target.files||[]).filter(V=>V.type.startsWith("image/"));B.length>0&&(_(V=>[...V,...B].slice(0,4)),B.forEach(V=>{const q=new FileReader;q.onload=J=>{S(Y=>{var te;return[...Y,(te=J.target)==null?void 0:te.result].slice(0,4)})},q.readAsDataURL(V)})),I.current&&(I.current.value="")},O=R=>{_(M=>M.filter((B,V)=>V!==R)),S(M=>M.filter((B,V)=>V!==R))},$=async()=>{if(!(!x.trim()&&j.length===0||f||k)){C(!0);try{let R=[];if(j.length>0)for(const B of j){const V=await v(B);V&&R.push(V)}const M=x;b(""),_([]),S([]),await m(M,void 0,R.length>0?R:void 0)}finally{C(!1)}}},D=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),$())},T=R=>{const M=new Date(R),B=new Date;return M.toDateString()===B.toDateString()?fe(M,"h:mm a",{locale:Je}):fe(M,"d MMM h:mm a",{locale:Je})},U=R=>R.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2);return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl p-0 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-card/95 backdrop-blur-sm rounded-t-3xl",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"rounded-full",children:i.jsx(Tt,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-center",children:[i.jsxs(Gx,{className:"w-10 h-10 border-2 border-primary/20",children:[i.jsx(Yx,{src:(A==null?void 0:A.avatar)||void 0}),i.jsx(Xx,{className:"bg-primary/10 text-primary font-arabic",children:U((A==null?void 0:A.name)||"")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-arabic font-semibold text-foreground",children:(A==null?void 0:A.name)||""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),i.jsx("div",{className:"w-10"})," "]}),i.jsx(ow,{className:"flex-1 p-4",children:d||y?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):u.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-4 py-12",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(Xr,{className:"w-10 h-10 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-arabic font-semibold text-lg",children:" "}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["    ",(A==null?void 0:A.name)||""]})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx(Lt,{initial:!1,children:u.map((R,M)=>{var Y,te,Z;const B=R.sender_id===(c==null?void 0:c.id),V=!B&&(M===0||((Y=u[M-1])==null?void 0:Y.sender_id)!==R.sender_id),q=B?null:((te=R.sender_profile)==null?void 0:te.full_name)||(A==null?void 0:A.name)||"",J=B?null:((Z=R.sender_profile)==null?void 0:Z.avatar_url)||(A==null?void 0:A.avatar)||null;return i.jsxs(X.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`flex items-end gap-2 ${B?"flex-row-reverse":"flex-row"}`,children:[!B&&V?i.jsxs(Gx,{className:"w-7 h-7 mb-5",children:[i.jsx(Yx,{src:J||void 0}),i.jsx(Xx,{className:"text-xs bg-muted",children:U(q||"")})]}):B?null:i.jsx("div",{className:"w-7"}),i.jsxs("div",{className:`max-w-[75%] ${B?"items-end":"items-start"}`,children:[R.images&&R.images.length>0&&i.jsx("div",{className:`mb-2 grid gap-1 ${R.images.length===1?"grid-cols-1":"grid-cols-2"}`,children:R.images.map((ne,ee)=>i.jsx("a",{href:ne,target:"_blank",rel:"noopener noreferrer",className:"block",children:i.jsx("img",{src:ne,alt:` ${ee+1}`,className:"rounded-xl max-w-full h-auto max-h-48 object-cover border border-border/50"})},ee))}),R.content&&i.jsx("div",{className:`px-4 py-2.5 rounded-2xl shadow-sm ${B?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:i.jsx("p",{className:"text-sm font-arabic leading-relaxed whitespace-pre-wrap",children:R.content})}),i.jsxs("div",{className:`flex items-center gap-1 mt-1 px-1 ${B?"justify-end":"justify-start"}`,children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:T(R.created_at)}),B&&i.jsx("span",{className:"text-[10px] text-muted-foreground",children:R.is_read?"":""})]})]})]},R.id)})}),i.jsx("div",{ref:P})]})}),N.length>0&&i.jsx("div",{className:"px-4 py-2 border-t border-border bg-card/95",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:N.map((R,M)=>i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("img",{src:R,alt:`Preview ${M+1}`,className:"w-16 h-16 object-cover rounded-lg border border-border"}),i.jsx("button",{onClick:()=>O(M),className:"absolute -top-2 -right-2 w-5 h-5 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center",children:i.jsx(ro,{className:"w-4 h-4"})})]},M))})}),i.jsxs("div",{className:"p-4 border-t border-border bg-card/95 backdrop-blur-sm",children:[i.jsx("input",{ref:I,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:z}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{var R;return(R=I.current)==null?void 0:R.click()},disabled:f||k||d||y||j.length>=4,className:"w-10 h-10 rounded-full text-muted-foreground hover:text-primary hover:bg-primary/10",children:i.jsx(Vl,{className:"w-5 h-5"})}),i.jsx("div",{className:"flex-1 relative",children:i.jsx(ge,{ref:F,value:x,onChange:R=>b(R.target.value),onKeyDown:D,placeholder:" ...",className:"pr-4 pl-4 py-6 rounded-full bg-muted/50 border-0 font-arabic text-right focus-visible:ring-primary/50",disabled:f||k||d||y})}),i.jsx(K,{onClick:$,disabled:!x.trim()&&j.length===0||f||k||d||y,className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/90 shadow-lg shadow-primary/25 transition-all duration-200 hover:scale-105 disabled:opacity-50",children:f||k?i.jsx(ve,{className:"w-5 h-5 animate-spin"}):i.jsx(X2,{className:"w-5 h-5 rotate-180"})})]})]})]})})}function ac(e){return"name_ar"in e}function RV({hall:e,open:t,onOpenChange:r}){const[n,a]=p.useState("details"),[s,o]=p.useState(),[l,c]=p.useState(0),[u,d]=p.useState(0),[f,h]=p.useState(!1),[m,v]=p.useState(new Date),[g,x]=p.useState({}),[b,y]=p.useState(!1),{toast:w}=Ke(),j=Js(),{latitude:_,longitude:N}=NU(),S=e&&ac(e)&&e.pricing_type==="per_chair";p.useEffect(()=>{if(!e||!t)return;(async()=>{const B=fe(or(m),"yyyy-MM-dd"),V=fe(Us(m),"yyyy-MM-dd"),{data:q,error:J}=await W.from("hall_availability").select("date, status").eq("hall_id",e.id).gte("date",B).lte("date",V);if(!J&&q){const Y={};q.forEach(te=>{Y[te.date]=te.status}),x(Y)}})()},[e,t,m]);const{data:k}=Bn({queryKey:["hall-rating",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:M,error:B}=await W.rpc("get_hall_rating",{hall_uuid:e.id});if(B)throw B;return(M==null?void 0:M[0])||{average_rating:0,reviews_count:0}},enabled:!!e&&ac(e)});if(p.useEffect(()=>{if(e)if(S){const M=ac(e)&&e.min_capacity_men||50,B=ac(e)&&e.min_capacity_women||50;c(M),d(B)}else c(100),d(100)},[e==null?void 0:e.id,S]),!e)return null;const C=ac(e)?{id:e.id,nameAr:e.name_ar,cityAr:e.city,address:e.address,image:e.cover_image||"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=800",priceWeekday:e.price_weekday,priceWeekend:e.price_weekend,capacityMen:e.capacity_men,capacityWomen:e.capacity_women,minCapacityMen:e.min_capacity_men||0,minCapacityWomen:e.min_capacity_women||0,features:e.features||[],phone:e.phone,whatsappEnabled:e.whatsapp_enabled,rating:(k==null?void 0:k.average_rating)||0,reviewsCount:(k==null?void 0:k.reviews_count)||0,isPerChair:!!S,pricePerChairWeekday:e.price_per_chair_weekday||0,pricePerChairWeekend:e.price_per_chair_weekend||0,latitude:e.latitude,longitude:e.longitude}:{id:e.id,nameAr:e.nameAr,cityAr:e.cityAr,address:void 0,image:e.image,priceWeekday:e.price,priceWeekend:Math.round(e.price*1.2),capacityMen:e.capacityMen,capacityWomen:e.capacityWomen,minCapacityMen:0,minCapacityWomen:0,features:e.features,rating:e.rating,isPerChair:!1,pricePerChairWeekday:0,pricePerChairWeekend:0,latitude:void 0,longitude:void 0},A=ki(new Date),E=s?[4,5].includes(s.getDay()):!1,F=(()=>{if(C.isPerChair){const M=E?C.pricePerChairWeekend:C.pricePerChairWeekday;return(l+u)*M}return E?C.priceWeekend:C.priceWeekday})(),I=()=>{a("details"),o(void 0),C.isPerChair?(c(C.minCapacityMen||50),d(C.minCapacityWomen||50)):(c(100),d(100))},z=()=>{I(),r(!1)},O=async()=>{if(!s)return;const{data:{session:M}}=await W.auth.getSession();if(!M){w({title:"  ",description:"    ",variant:"destructive"}),z(),j("/auth");return}h(!0);try{const{error:B}=await W.from("hall_bookings").insert({hall_id:e.id,user_id:M.user.id,booking_date:fe(s,"yyyy-MM-dd"),guest_count_men:l,guest_count_women:u,total_price:F,status:"pending"});if(B)throw B;w({title:"   ",description:"     "}),z()}catch(B){w({title:"  ",description:B.message||"     ",variant:"destructive"})}finally{h(!1)}},$=()=>i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"relative h-56 rounded-2xl overflow-hidden",children:[i.jsx("img",{src:C.image,alt:C.nameAr,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 right-4 left-4",children:[i.jsx("h3",{className:"font-display text-2xl font-bold text-white mb-1",children:C.nameAr}),i.jsxs("div",{className:"flex items-center gap-1 text-white/90",children:[i.jsx("span",{className:"text-sm",children:C.cityAr}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-resale mb-1",children:[i.jsx(Zr,{className:"w-4 h-4 fill-resale"}),i.jsx("span",{className:"font-bold",children:C.rating})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:C.capacityMen})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:C.capacityWomen})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]}),C.features.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-foreground text-right",children:""}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:C.features.map((M,B)=>i.jsx("span",{className:"bg-primary/10 text-primary text-xs px-3 py-1.5 rounded-full",children:M},B))})]}),i.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-4 space-y-3",children:C.isPerChair?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-center mb-2",children:i.jsx("span",{className:"bg-primary/20 text-primary text-xs px-3 py-1 rounded-full font-arabic",children:" "})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-lg text-primary",children:["SAR ",C.pricePerChairWeekday.toLocaleString(),"/"]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-lg text-resale",children:["SAR ",C.pricePerChairWeekend.toLocaleString(),"/"]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),(C.minCapacityMen>0||C.minCapacityWomen>0)&&i.jsxs("div",{className:"border-t border-border/50 pt-3 mt-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground text-center mb-2",children:"  "}),i.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm",children:[C.minCapacityMen>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-semibold text-foreground",children:C.minCapacityMen}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),C.minCapacityWomen>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-semibold text-foreground",children:C.minCapacityWomen}),i.jsx("span",{className:"text-muted-foreground",children:""})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-lg text-primary",children:["SAR ",C.priceWeekday.toLocaleString()]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-lg text-resale",children:["SAR ",C.priceWeekend.toLocaleString()]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("h4",{className:"font-semibold text-foreground font-arabic",children:"  "}),i.jsx(qt,{className:"w-5 h-5 text-primary"})]}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:7},(M,B)=>Or(US(),B)).map((M,B)=>{const V=fe(M,"yyyy-MM-dd"),q=g[V]||"available",J=q==="available"||q==="resale",te=(ne=>{switch(ne){case"available":return{icon:ha,color:"text-available bg-available/10",label:""};case"booked":return{icon:ro,color:"text-booked bg-booked/10",label:""};case"resale":return{icon:$b,color:"text-resale bg-resale/10",label:" "};default:return{icon:ha,color:"text-available bg-available/10",label:""}}})(q),Z=te.icon;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:B*.05},onClick:()=>{J&&(o(M),a("guests"))},className:`flex flex-col items-center p-2 rounded-xl ${te.color} ${J?"cursor-pointer hover:ring-2 hover:ring-primary hover:ring-offset-2 transition-all active:scale-95":"opacity-60"}`,children:[i.jsx("span",{className:"text-xs text-muted-foreground mb-1",children:fe(M,"EEE",{locale:Je})}),i.jsx("span",{className:"text-sm font-bold mb-1",children:fe(M,"d")}),i.jsx(Z,{className:"w-4 h-4"})]},M.toISOString())})}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-available"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-booked"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-resale"}),i.jsx("span",{children:" "})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"     "})]}),i.jsxs(K,{className:"w-full gold-gradient text-white",size:"lg",onClick:()=>a("date"),children:[i.jsx(qt,{className:"w-5 h-5 ml-2"}),"  "]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-foreground text-right",children:""}),i.jsx(Ove,{hallId:e.id,hallName:C.nameAr})]}),C.latitude&&C.longitude&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("h4",{className:"font-semibold text-foreground font-arabic",children:""}),i.jsx(Ug,{className:"w-5 h-5 text-primary"})]}),i.jsx(Tve,{latitude:C.latitude,longitude:C.longitude,name:C.nameAr,address:C.address,userLatitude:_,userLongitude:N})]}),i.jsxs(K,{onClick:async M=>{if(M.stopPropagation(),!ac(e)){w({title:" ",description:"    ",variant:"destructive"});return}const{data:{user:B}}=await W.auth.getUser();if(!B){w({title:"  ",description:"      ",variant:"destructive"}),j("/auth");return}y(!0)},className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground gap-2",size:"lg",children:[i.jsx(Xr,{className:"w-5 h-5"}),i.jsx("span",{className:"font-arabic",children:"   "})]}),ac(e)&&i.jsx(ph,{open:b,onOpenChange:y,hallId:e.id})]}),D=M=>{const B=fe(M,"yyyy-MM-dd");return g[B]||null},T=()=>i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>a("details"),children:i.jsx(Bs,{className:"w-5 h-5"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground",children:"  "}),i.jsx("div",{className:"w-10"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-available"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-booked"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-resale"}),i.jsx("span",{className:"text-muted-foreground",children:" "})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(CA,{mode:"single",selected:s,onSelect:M=>{M&&D(M)!=="booked"&&o(M)},month:m,onMonthChange:v,locale:Je,disabled:M=>Zi(M,A)?!0:D(M)==="booked",modifiers:{available:M=>D(M)==="available",booked:M=>D(M)==="booked",resale:M=>D(M)==="resale"},modifiersClassNames:{available:"bg-available text-white hover:bg-available/90",booked:"bg-booked text-white opacity-60",resale:"bg-resale text-white hover:bg-resale/90"},className:"rounded-xl border border-border pointer-events-auto"})}),s&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/50 rounded-xl p-4 text-center space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),i.jsx("p",{className:"font-bold text-lg text-foreground",children:fe(s,"EEEE d MMMM yyyy",{locale:Je})}),i.jsxs("p",{className:oe("text-sm font-medium",E?"text-resale":"text-primary"),children:[E?" ":" "," - SAR ",F.toLocaleString()]})]}),i.jsxs(K,{className:"w-full gold-gradient text-white",size:"lg",disabled:!s,onClick:()=>a("guests"),children:[i.jsx(Vr,{className:"w-5 h-5 ml-2"}),""]})]}),U=()=>i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>a("date"),children:i.jsx(Bs,{className:"w-5 h-5"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground",children:" "}),i.jsx("div",{className:"w-10"})]}),i.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.isPerChair&&C.minCapacityMen>0&&i.jsxs("span",{className:"ml-2",children:[" : ",C.minCapacityMen," |"]})," : ",C.capacityMen]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"font-semibold text-foreground",children:" "})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-6",children:[i.jsx(K,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>c(Math.max(C.isPerChair?C.minCapacityMen:10,l-10)),children:i.jsx(GT,{className:"w-4 h-4"})}),i.jsx("span",{className:"text-3xl font-bold text-foreground w-20 text-center",children:l}),i.jsx(K,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>c(Math.min(C.capacityMen,l+10)),children:i.jsx(Sr,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.isPerChair&&C.minCapacityWomen>0&&i.jsxs("span",{className:"ml-2",children:[" : ",C.minCapacityWomen," |"]})," : ",C.capacityWomen]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"font-semibold text-foreground",children:" "})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-6",children:[i.jsx(K,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>d(Math.max(C.isPerChair?C.minCapacityWomen:10,u-10)),children:i.jsx(GT,{className:"w-4 h-4"})}),i.jsx("span",{className:"text-3xl font-bold text-foreground w-20 text-center",children:u}),i.jsx(K,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>d(Math.min(C.capacityWomen,u+10)),children:i.jsx(Sr,{className:"w-4 h-4"})})]})]}),C.isPerChair&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/10 to-resale/10 rounded-xl p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[l+u,"   SAR ",(E?C.pricePerChairWeekend:C.pricePerChairWeekday).toLocaleString()]}),i.jsx("span",{className:"text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xl font-bold text-primary",children:["SAR ",F.toLocaleString()]}),i.jsx("span",{className:"font-semibold text-foreground",children:" "})]})]}),i.jsxs(K,{className:"w-full gold-gradient text-white",size:"lg",onClick:()=>a("confirm"),children:[i.jsx(Vr,{className:"w-5 h-5 ml-2"})," "]})]}),R=()=>i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>a("guests"),children:i.jsx(Bs,{className:"w-5 h-5"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground",children:" "}),i.jsx("div",{className:"w-10"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-resale/10 rounded-2xl p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:C.image,alt:C.nameAr,className:"w-16 h-16 rounded-xl object-cover"}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("h4",{className:"font-bold text-foreground",children:C.nameAr}),i.jsx("p",{className:"text-sm text-muted-foreground",children:C.cityAr})]})]}),i.jsx("div",{className:"h-px bg-border"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-foreground",children:s&&fe(s,"d MMMM yyyy",{locale:Je})}),i.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(qt,{className:"w-4 h-4"}),""]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium text-foreground",children:[l," "]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium text-foreground",children:[u," "]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})]}),i.jsx("div",{className:"h-px bg-border"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xl font-bold text-primary",children:["SAR ",F.toLocaleString()]}),i.jsx("span",{className:"font-semibold text-foreground",children:""})]})]}),i.jsx("div",{className:"bg-muted/50 rounded-xl p-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"           24 "})}),i.jsx(K,{className:"w-full gold-gradient text-white",size:"lg",disabled:f,onClick:O,children:f?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"})," ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-5 h-5 ml-2"})," "]})})]});return i.jsx(Mt,{open:t,onOpenChange:z,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl",dir:"rtl",children:[i.jsx(ur,{className:"sr-only",children:i.jsx(Kt,{children:" "})}),i.jsxs("div",{className:"overflow-y-auto h-full pb-8 pt-4",children:[n==="details"&&$(),n==="date"&&T(),n==="guests"&&U(),n==="confirm"&&R()]})]})})}var lye="Label",DV=p.forwardRef((e,t)=>i.jsx(me.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DV.displayName=lye;var IV=DV;const cye=$g("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=p.forwardRef(({className:e,...t},r)=>i.jsx(IV,{ref:r,className:oe(cye(),e),...t}));re.displayName=IV.displayName;function lv(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $V=["PageUp","PageDown"],LV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],FV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gh="Slider",[WS,uye,dye]=th(gh),[BV]=Dr(gh,[dye]),[fye,lw]=BV(gh),zV=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...g}=e,x=p.useRef(new Set),b=p.useRef(0),w=o==="horizontal"?hye:mye,[j=[],_]=va({prop:d,defaultProp:u,onChange:E=>{var F;(F=[...x.current][b.current])==null||F.focus(),f(E)}}),N=p.useRef(j);function S(E){const P=xye(j,E);A(E,P)}function k(E){A(E,b.current)}function C(){const E=N.current[b.current];j[b.current]!==E&&h(j)}function A(E,P,{commit:F}={commit:!1}){const I=_ye(s),z=Nye(Math.round((E-n)/s)*s+n,I),O=Mp(z,[n,a]);_(($=[])=>{const D=vye($,O,P);if(jye(D,c*s)){b.current=D.indexOf(O);const T=String(D)!==String($);return T&&F&&h(D),T?D:$}else return $})}return i.jsx(fye,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:x.current,values:j,orientation:o,form:v,children:i.jsx(WS.Provider,{scope:e.__scopeSlider,children:i.jsx(WS.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:le(g.onPointerDown,()=>{l||(N.current=j)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,j.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:P})=>{if(!l){const z=$V.includes(E.key)||E.shiftKey&&LV.includes(E.key)?10:1,O=b.current,$=j[O],D=s*z*P;A($+D,O,{commit:!0})}}})})})})});zV.displayName=gh;var[UV,VV]=BV(gh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),hye=p.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),m=Oe(t,w=>h(w)),v=p.useRef(void 0),g=Hl(a),x=g==="ltr",b=x&&!s||!x&&s;function y(w){const j=v.current||f.getBoundingClientRect(),_=[0,j.width],S=MA(_,b?[r,n]:[n,r]);return v.current=j,S(w-j.left)}return i.jsx(UV,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(WV,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=y(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=y(w.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const _=FV[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),mye=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=Oe(t,d),h=p.useRef(void 0),m=!a;function v(g){const x=h.current||d.current.getBoundingClientRect(),b=[0,x.height],w=MA(b,m?[n,r]:[r,n]);return h.current=x,w(g-x.top)}return i.jsx(UV,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(WV,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=v(g.clientY);s==null||s(x)},onSlideMove:g=>{const x=v(g.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const b=FV[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),WV=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=lw(gh,r);return i.jsx(me.span,{...u,ref:t,onKeyDown:le(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):$V.concat(LV).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:le(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:le(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),HV="SliderTrack",qV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=lw(HV,r);return i.jsx(me.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});qV.displayName=HV;var HS="SliderRange",KV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=lw(HS,r),s=VV(HS,r),o=p.useRef(null),l=Oe(t,o),c=a.values.length,u=a.values.map(h=>XV(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(me.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});KV.displayName=HS;var qS="SliderThumb",GV=p.forwardRef((e,t)=>{const r=uye(e.__scopeSlider),[n,a]=p.useState(null),s=Oe(t,l=>a(l)),o=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(pye,{...e,ref:s,index:o})}),pye=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,o=lw(qS,r),l=VV(qS,r),[c,u]=p.useState(null),d=Oe(t,y=>u(y)),f=c?o.form||!!c.closest("form"):!0,h=Kg(c),m=o.values[n],v=m===void 0?0:XV(m,o.min,o.max),g=yye(n,o.values.length),x=h==null?void 0:h[l.size],b=x?bye(x,v,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${b}px)`},children:[i.jsx(WS.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(me.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:le(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(YV,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});GV.displayName=qS;var gye="RadioBubbleInput",YV=p.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=p.useRef(null),s=Oe(a,n),o=lv(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(me.input,{style:{display:"none"},...r,ref:s,defaultValue:t})});YV.displayName=gye;function vye(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function XV(e,t,r){const s=100/(r-t)*(e-t);return Mp(s,[0,100])}function yye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xye(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function bye(e,t,r){const n=e/2,s=MA([0,50],[0,n]);return(n-s(t)*r)*r}function wye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function jye(e,t){if(t>0){const r=wye(e);return Math.min(...r)>=t}return!0}function MA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _ye(e){return(String(e).split(".")[1]||"").length}function Nye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var ZV=zV,Sye=qV,Cye=KV,kye=GV;const Rp=p.forwardRef(({className:e,...t},r)=>i.jsxs(ZV,{ref:r,className:oe("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(Sye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(Cye,{className:"absolute h-full bg-primary"})}),i.jsx(kye,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Rp.displayName=ZV.displayName;function cw(e){return Bn({queryKey:["dynamic-cities",e],queryFn:async()=>{const{data:t,error:r}=await W.from(e).select("city").not("city","is",null);return r?(console.error(`Error fetching cities from ${e}:`,r),[]):[...new Set(t==null?void 0:t.map(a=>a.city).filter(Boolean))].sort()},staleTime:5*60*1e3})}const KS={city:"all",minCapacity:0,maxCapacity:2e3,minPrice:0,maxPrice:1e5,availability:"all"};function Eye({open:e,onOpenChange:t,filters:r,onApplyFilters:n}){const[a,s]=p.useState(r),{data:o=[],isLoading:l}=cw("public_halls");p.useEffect(()=>{s(r)},[r]);const c=()=>{n(a),t(!1)},u=()=>{s(KS)};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl",children:[i.jsx(ur,{className:"text-right pb-4 border-b border-border",children:i.jsx(Kt,{className:"font-display text-xl",children:" "})}),i.jsxs("div",{className:"py-6 space-y-6 overflow-y-auto max-h-[calc(85vh-180px)]",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(re,{className:"font-arabic text-base font-semibold",children:""}),i.jsx(wr,{className:"w-4 h-4 text-primary"})]}),l?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(ve,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):i.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[i.jsx("button",{onClick:()=>s({...a,city:"all"}),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${a.city==="all"?"gold-gradient text-white shadow-md":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:" "}),o.map(d=>i.jsx("button",{onClick:()=>s({...a,city:d}),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${a.city===d?"gold-gradient text-white shadow-md":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:d},d)),o.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:"    "})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(re,{className:"font-arabic text-base font-semibold",children:" ( )"}),i.jsx(Ot,{className:"w-4 h-4 text-primary"})]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Rp,{value:[a.minCapacity,a.maxCapacity],onValueChange:([d,f])=>s({...a,minCapacity:d,maxCapacity:f}),max:2e3,step:50,className:"w-full"}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm text-muted-foreground font-arabic",children:[i.jsxs("span",{children:[a.maxCapacity.toLocaleString()," "]}),i.jsxs("span",{children:[a.minCapacity.toLocaleString()," "]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(re,{className:"font-arabic text-base font-semibold",children:" "}),i.jsx(TJ,{className:"w-4 h-4 text-primary"})]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Rp,{value:[a.minPrice,a.maxPrice],onValueChange:([d,f])=>s({...a,minPrice:d,maxPrice:f}),max:1e5,step:1e3,className:"w-full"}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm text-muted-foreground font-arabic",children:[i.jsxs("span",{children:[a.maxPrice.toLocaleString()," "]}),i.jsxs("span",{children:[a.minPrice.toLocaleString()," "]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(re,{className:"font-arabic text-base font-semibold",children:""}),i.jsx(Lg,{className:"w-4 h-4 text-primary"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:[{id:"all",label:""},{id:"available",label:""},{id:"resale",label:" "}].map(d=>i.jsx("button",{onClick:()=>s({...a,availability:d.id}),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${a.availability===d.id?"gold-gradient text-white shadow-md":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:d.label},d.id))})]})]}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border flex gap-3",children:[i.jsxs(K,{variant:"outline",onClick:u,className:"flex-1 gap-2",children:[i.jsx(Vg,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic",children:" "})]}),i.jsx(K,{onClick:c,className:"flex-1 gold-gradient text-white font-arabic",children:" "})]})]})})}const Aye=$g("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return i.jsx("div",{className:oe(Aye({variant:t}),e),...r})}function RA({queryKey:e,tableName:t,pageSize:r=20,orderBy:n={column:"created_at",ascending:!1},filters:a={},select:s="*",enabled:o=!0}){var x;const{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:d,isLoading:f,isError:h,refetch:m}=Zne({queryKey:[...e,a,n],queryFn:async({pageParam:b=0})=>{const y=b*r,w=y+r-1;let j=W.from(t).select(s,{count:"exact"}).range(y,w).order(n.column,{ascending:n.ascending??!1});Object.entries(a).forEach(([k,C])=>{C!=null&&C!==""&&C!=="all"&&(typeof C=="object"&&"gte"in C?j=j.gte(k,C.gte):typeof C=="object"&&"lte"in C?j=j.lte(k,C.lte):j=j.eq(k,C))});const{data:_,error:N,count:S}=await j;if(N)throw N;return{items:_,nextPage:_&&_.length===r?b+1:void 0,totalCount:S||0}},getNextPageParam:b=>b.nextPage,initialPageParam:0,enabled:o}),v=(l==null?void 0:l.pages.flatMap(b=>b.items))??[],g=((x=l==null?void 0:l.pages[0])==null?void 0:x.totalCount)??0;return{data:v,fetchNextPage:c,hasNextPage:!!u,isFetchingNextPage:d,isLoading:f,isError:h,refetch:m,totalCount:g}}function DA(e,t,r){const n=p.useRef(null),a=p.useRef(null),s=p.useCallback(o=>{n.current&&n.current.disconnect(),o&&t&&!r&&(n.current=new IntersectionObserver(l=>{l[0].isIntersecting&&e()},{rootMargin:"200px",threshold:.1}),n.current.observe(o)),a.current=o},[e,t,r]);return p.useEffect(()=>()=>{n.current&&n.current.disconnect()},[]),s}function IA({loadMoreRef:e,hasNextPage:t,isFetchingNextPage:r}){return!t&&!r?null:i.jsx("div",{ref:e,className:"flex justify-center py-8",children:r&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"font-arabic text-sm",children:"  ..."})]})})}function Vt({className:e,...t}){return i.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",e),...t})}function Pye(){return i.jsxs("div",{className:"card-luxe rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"relative h-48",children:[i.jsx(Vt,{className:"w-full h-full"}),i.jsx(Vt,{className:"absolute top-3 left-3 w-24 h-8 rounded-full"}),i.jsx(Vt,{className:"absolute top-3 right-3 w-10 h-10 rounded-full"})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-end gap-6",children:[i.jsx(Vt,{className:"h-4 w-20"}),i.jsx(Vt,{className:"h-4 w-20"})]}),i.jsxs("div",{className:"space-y-3 pt-3 border-t border-border/50",children:[i.jsx(Vt,{className:"h-4 w-24 mr-auto"}),i.jsx("div",{className:"flex items-center justify-between",children:Array.from({length:7}).map((e,t)=>i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Vt,{className:"w-3.5 h-3.5 rounded-full"}),i.jsx(Vt,{className:"w-8 h-3"})]},t))})]})]})]})}function Oye(){return i.jsxs("div",{className:"card-luxe rounded-2xl overflow-hidden",children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx(Vt,{className:"w-full h-full"}),i.jsx(Vt,{className:"absolute top-3 right-3 w-9 h-9 rounded-full"})]}),i.jsxs("div",{className:"p-4 text-right space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx(Vt,{className:"h-5 w-12"}),i.jsx(Vt,{className:"h-6 w-32"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx(Vt,{className:"h-4 w-16"}),i.jsx(Vt,{className:"h-4 w-20"})]}),i.jsx(Vt,{className:"h-4 w-full"}),i.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2 border-t border-border/50",children:[i.jsx(Vt,{className:"h-9 w-20 rounded-md"}),i.jsx("div",{className:"text-right",children:i.jsx(Vt,{className:"h-5 w-24"})})]})]})]})}function Tye(){return i.jsxs("div",{className:"bg-card rounded-2xl overflow-hidden shadow-lg border border-border/30",children:[i.jsxs("div",{className:"relative aspect-[3/4]",children:[i.jsx(Vt,{className:"w-full h-full"}),i.jsx(Vt,{className:"absolute top-2 right-2 w-16 h-6 rounded-full"}),i.jsx(Vt,{className:"absolute top-2 left-2 w-8 h-8 rounded-full"}),i.jsx(Vt,{className:"absolute bottom-2 right-2 w-20 h-7 rounded-full"})]}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx(Vt,{className:"h-5 w-3/4 mr-auto"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Vt,{className:"h-5 w-12 rounded-full"}),i.jsx(Vt,{className:"h-4 w-16"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Vt,{className:"h-3 w-20"})})]})]})}const Vu=80,Mye=120,zD=(e="medium")=>{if("vibrate"in navigator){const t={light:10,medium:25,heavy:50};navigator.vibrate(t[e])}},uw=p.forwardRef(({children:e,onRefresh:t,disabled:r=!1},n)=>{const[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useRef(null),f=p.useRef(0),h=p.useRef(0);p.useImperativeHandle(n,()=>d.current);const m=Hz(0),v=k1(m,[0,Vu],[0,1]),g=k1(m,[0,Vu],[0,180]),x=k1(m,[0,30],[0,1]),b=p.useCallback(j=>{if(r||a)return;const _=d.current;_&&_.scrollTop<=0&&(f.current=j.touches[0].clientY,l(!0),u(!1))},[r,a]),y=p.useCallback(j=>{if(!o||r||a)return;const _=d.current;if(!_||_.scrollTop>0){l(!1),u(!1),m.set(0);return}h.current=j.touches[0].clientY;const N=Math.max(0,h.current-f.current),S=N>Vu?.3:.5,k=Math.min(N*S,Mye);m.set(k),k>=Vu&&!c?(zD("light"),u(!0)):k<Vu&&c&&u(!1),N>0&&j.preventDefault()},[o,r,a,m,c]),w=p.useCallback(async()=>{if(!o||r)return;if(l(!1),u(!1),m.get()>=Vu&&!a){zD("medium"),s(!0),E1(m,60,{duration:.2});try{await t()}finally{E1(m,0,{duration:.3}),s(!1)}}else E1(m,0,{type:"spring",stiffness:400,damping:30})},[o,r,a,m,t]);return i.jsxs("div",{ref:d,className:"h-full overflow-y-auto overflow-x-hidden relative",onTouchStart:b,onTouchMove:y,onTouchEnd:w,children:[i.jsx(X.div,{className:"absolute left-0 right-0 flex justify-center items-center pointer-events-none z-50",style:{top:0,height:m,opacity:x},children:i.jsx(X.div,{className:"w-10 h-10 rounded-full bg-card border border-border shadow-lg flex items-center justify-center",style:{scale:v},children:a?i.jsx(ve,{className:"w-5 h-5 text-primary animate-spin"}):i.jsx(X.div,{style:{rotate:g},children:i.jsx(TN,{className:"w-5 h-5 text-primary"})})})}),i.jsx(X.div,{style:{y:m},children:e})]})});uw.displayName="PullToRefresh";const Rye=15;function Dye(){const[e,t]=p.useState("all"),[r,n]=p.useState(!1),[a,s]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(""),[d,f]=p.useState(KS),[h,m]=p.useState(!1),{latitude:v,longitude:g,loading:x,requestLocation:b}=NU(),{data:y=[],isLoading:w}=cw("public_halls"),j=Mi(),_=p.useMemo(()=>{const T={},U=e!=="all"?e:d.city;return U&&U!=="all"&&(T.city=U),T},[e,d.city]),{data:N,fetchNextPage:S,hasNextPage:k,isFetchingNextPage:C,isLoading:A,totalCount:E}=RA({queryKey:["halls-paginated"],tableName:"public_halls",pageSize:Rye,orderBy:{column:"created_at",ascending:!1},filters:_,select:"*"}),P=DA(p.useCallback(()=>S(),[S]),k,C),F=p.useMemo(()=>{let T=0;return d.city!=="all"&&T++,(d.minCapacity>0||d.maxCapacity<2e3)&&T++,(d.minPrice>0||d.maxPrice<1e5)&&T++,d.availability!=="all"&&T++,T},[d]),I=p.useMemo(()=>{let T=N.filter(U=>{if(c){const M=c.toLowerCase();if(!(U.name_ar.toLowerCase().includes(M)||U.name_ar.includes(c)||U.city.toLowerCase().includes(M)||U.city.includes(c)))return!1}const R=U.capacity_men+U.capacity_women;return!(R<d.minCapacity||R>d.maxCapacity||U.price_weekday<d.minPrice||U.price_weekday>d.maxPrice)});return h&&v&&g&&(T=T.sort((U,R)=>{const M=U.latitude&&U.longitude?Wx(v,g,U.latitude,U.longitude):1/0,B=R.latitude&&R.longitude?Wx(v,g,R.latitude,R.longitude):1/0;return M-B})),T},[c,d,N,h,v,g]),z=T=>{s(T),l(!0)},O=T=>{t(T),f(U=>({...U,city:T}))},$=()=>{u("")},D=p.useCallback(async()=>{await j.invalidateQueries({queryKey:["halls-paginated"]})},[j]);return i.jsx(uw,{onRefresh:D,disabled:A,children:i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 gold-gradient opacity-90"}),i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),i.jsxs("div",{className:"relative px-4 pt-12 pb-8",children:[i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[i.jsx("h1",{className:"font-display text-3xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-white/80 font-arabic text-sm",children:"     "})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/95 backdrop-blur-lg rounded-2xl p-3 shadow-2xl",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-muted/50 rounded-xl px-4 py-3 relative",children:[i.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:T=>u(T.target.value),className:"flex-1 bg-transparent text-foreground placeholder:text-muted-foreground text-right font-arabic text-sm outline-none",dir:"rtl"}),c?i.jsx("button",{onClick:$,className:"p-1",children:i.jsx(Tt,{className:"w-4 h-4 text-muted-foreground"})}):i.jsx(qs,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs(K,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-xl border-border relative",onClick:()=>n(!0),children:[i.jsx(Wg,{className:"w-5 h-5"}),F>0&&i.jsx(Ce,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs gold-gradient border-0",children:F})]})]})})]})]}),i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[i.jsxs("button",{onClick:()=>{!v&&!x&&b(),m(!h)},className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${h?"bg-primary text-primary-foreground shadow-lg":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[x?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsx(Ug,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic text-sm",children:""})]}),i.jsx("button",{onClick:()=>O("all"),className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${e==="all"?"gold-gradient text-white shadow-lg":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:i.jsx("span",{className:"font-arabic text-sm",children:" "})}),w?i.jsx("div",{className:"flex items-center px-4",children:i.jsx(ve,{className:"w-4 h-4 animate-spin text-muted-foreground"})}):y.map(T=>i.jsxs("button",{onClick:()=>O(T),className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${e===T?"gold-gradient text-white shadow-lg":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[i.jsx("span",{className:"font-arabic text-sm",children:T}),i.jsx(wr,{className:"w-4 h-4"})]},T))]})}),i.jsxs("div",{className:"px-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground font-arabic",children:[I.length," ",E>I.length?` ${E}`:"","  "]}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:" "})]}),A?i.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((T,U)=>i.jsx(Pye,{},U))}):I.length>0?i.jsxs("div",{className:"space-y-4",children:[I.map((T,U)=>i.jsx(Gme,{hall:T,index:U,onClick:()=>z(T),userLatitude:v,userLongitude:g},T.id)),i.jsx(IA,{loadMoreRef:P,hasNextPage:k,isFetchingNextPage:C})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground font-arabic text-lg mb-2",children:"   "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"      "}),i.jsx(K,{variant:"outline",className:"mt-4 font-arabic",onClick:()=>{f(KS),u(""),t("all")},children:"  "})]})]}),i.jsx(RV,{hall:a,open:o,onOpenChange:l}),i.jsx(Eye,{open:r,onOpenChange:n,filters:d,onApplyFilters:T=>{f(T),t(T.city)}})]})})}const dw=[{id:"hair",nameAr:"",nameEn:"Hair Styling",icon:yi,color:"from-pink-400 to-rose-500"},{id:"makeup",nameAr:"",nameEn:"Makeup",icon:iee,color:"from-rose-400 to-pink-500"},{id:"dresses",nameAr:" ",nameEn:"Wedding Dresses",icon:H2,color:"from-amber-400 to-yellow-500"},{id:"coordinator",nameAr:" ",nameEn:"Hall Coordinator",icon:Ot,color:"from-purple-400 to-violet-500"},{id:"kosha",nameAr:" ",nameEn:"Wedding Stage / Kosha",icon:dee,color:"from-emerald-400 to-green-500"},{id:"coffee-corner",nameAr:" ",nameEn:"Coffee Corner",icon:LJ,color:"from-amber-600 to-orange-500"},{id:"favors",nameAr:"",nameEn:"Wedding Favors",icon:qJ,color:"from-pink-300 to-rose-400"},{id:"abaya",nameAr:" ",nameEn:"Abaya Receiving",icon:Z2,color:"from-slate-500 to-gray-600"},{id:"phones",nameAr:" ",nameEn:"Phone Collection",icon:Q2,color:"from-blue-400 to-cyan-500"},{id:"perfume",nameAr:" ",nameEn:"Perfume Corner",icon:vee,color:"from-violet-400 to-purple-500"},{id:"buffet",nameAr:" ",nameEn:"Dinner Buffets",icon:pee,color:"from-orange-400 to-red-500"},{id:"jewelry",nameAr:" ",nameEn:"Jewelry Presentation",icon:FJ,color:"from-cyan-300 to-blue-400"},{id:"invitations",nameAr:" ",nameEn:"Invitation Cards",icon:lf,color:"from-rose-300 to-pink-400"},{id:"singers",nameAr:"",nameEn:"Female Singers",icon:see,color:"from-fuchsia-400 to-pink-500"},{id:"dj",nameAr:" ",nameEn:"DJ",icon:XJ,color:"from-indigo-400 to-purple-500"},{id:"hotel",nameAr:" ",nameEn:"Hotel Booking",icon:ZJ,color:"from-teal-400 to-emerald-500"},{id:"assistants",nameAr:" ",nameEn:"Bridal Assistants",icon:mee,color:"from-pink-400 to-rose-400"},{id:"photographer-w",nameAr:" ",nameEn:"Photographer",icon:Fg,color:"from-amber-400 to-orange-400"},{id:"hammam",nameAr:" ",nameEn:"Moroccan Bath",icon:MJ,color:"from-sky-400 to-blue-500"},{id:"henna",nameAr:" ",nameEn:"Henna Artists",icon:Hs,color:"from-orange-500 to-red-500"},{id:"chocolate",nameAr:" ",nameEn:"Chocolate Services",icon:EB,color:"from-amber-700 to-orange-600"},{id:"e-invitation",nameAr:" ",nameEn:"E-Invitation Designer",icon:lf,color:"from-violet-400 to-indigo-500"},{id:"barcode",nameAr:"  ",nameEn:"Entry Barcode Designer",icon:oee,color:"from-gray-500 to-slate-600"}],fw=[{id:"incense",nameAr:" ",nameEn:"Incense / Bukhoor",icon:HJ,color:"from-amber-500 to-orange-600"},{id:"sabbabeen",nameAr:" ",nameEn:"Coffee Servers",icon:KJ,color:"from-amber-600 to-yellow-600"},{id:"ardah",nameAr:"  ",nameEn:"Ardah Dance",icon:UJ,color:"from-emerald-500 to-green-600"},{id:"sweets",nameAr:" ",nameEn:"Sweets",icon:EB,color:"from-pink-400 to-rose-500"},{id:"dates",nameAr:" ",nameEn:"Premium Dates",icon:PJ,color:"from-amber-700 to-yellow-700"},{id:"photographer-m",nameAr:" ",nameEn:"Photographer",icon:Fg,color:"from-slate-500 to-gray-600"}],hw=["","","","",""];function Iye({category:e,index:t,onClick:r}){const n=e.icon;return i.jsxs(X.button,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15,delay:Math.min(t*.02,.1)},whileHover:{y:-3},whileTap:{scale:.97},onClick:r,className:"flex flex-col items-center justify-between gap-2.5 p-4 rounded-2xl bg-card/80 backdrop-blur-sm border border-border/40 hover:border-primary/40 hover:bg-card hover:shadow-xl shadow-sm transition-all duration-300 group w-full h-full",children:[i.jsx("div",{className:`p-3.5 rounded-2xl bg-gradient-to-br ${e.color} shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300`,children:i.jsx(n,{className:"w-6 h-6 text-white",strokeWidth:1.8})}),i.jsx("span",{className:"text-sm font-arabic text-center text-foreground/90 group-hover:text-primary font-medium leading-tight transition-colors duration-300 min-h-[2.5rem] flex items-center",children:e.nameAr})]})}function QV(){const{user:e}=at(),{toast:t}=Ke(),[r,n]=p.useState([]),[a,s]=p.useState(!0),o=p.useCallback(async()=>{if(!e){n([]),s(!1);return}try{const{data:u,error:d}=await W.from("service_favorites").select("provider_id").eq("user_id",e.id);if(d)throw d;n((u==null?void 0:u.map(f=>f.provider_id))||[])}catch(u){console.error("Error fetching service favorites:",u)}finally{s(!1)}},[e]);p.useEffect(()=>{o()},[o]);const l=p.useCallback(u=>r.includes(u),[r]),c=p.useCallback(async u=>{if(!e){t({title:"  ",description:"    ",variant:"destructive"});return}const d=r.includes(u);n(d?f=>f.filter(h=>h!==u):f=>[...f,u]);try{if(d){const{error:f}=await W.from("service_favorites").delete().eq("user_id",e.id).eq("provider_id",u);if(f)throw f;t({title:" ",description:"    "})}else{const{error:f}=await W.from("service_favorites").insert({user_id:e.id,provider_id:u});if(f)throw f;t({title:" ",description:"    "})}}catch{n(d?h=>[...h,u]:h=>h.filter(m=>m!==u)),t({title:"",description:"    ",variant:"destructive"})}},[e,r,t]);return{favorites:r,loading:a,isFavorite:l,toggleFavorite:c,refetch:o}}function $ye({vendor:e,index:t,onClick:r}){var x,b;const n=p.useRef(null),{isFavorite:a,toggleFavorite:s}=QV(),{user:o}=at(),{toast:l}=Ke(),[c,u]=p.useState(!1),d=a(e.id),f=(x=e.portfolio_images)!=null&&x.length?e.portfolio_images.slice(0,5):[e.image],h=e.owner_id,m=y=>{if(y.stopPropagation(),!o){l({title:"  ",description:"      ",variant:"destructive"});return}if(!h){l({title:"",description:"    ",variant:"destructive"});return}u(!0)},v=y=>{y.stopPropagation(),s(e.id)},g=()=>{r&&r()};return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:Math.min(t*.03,.15)},className:"card-luxe rounded-2xl overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:g,children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{ref:n,className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:f.map((y,w)=>i.jsx("div",{className:"w-full h-40 flex-shrink-0 snap-center",children:i.jsx("img",{src:y,alt:e.nameAr,className:"w-full h-full object-cover"})},w))}),f.length>1&&i.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5",children:f.map((y,w)=>i.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${w===0?"bg-primary w-4":"bg-white/60"}`},w))}),i.jsx("button",{onClick:v,className:`absolute top-3 right-3 w-9 h-9 rounded-full flex items-center justify-center transition-all shadow-md ${d?"bg-white":"bg-black/30 backdrop-blur-sm"}`,children:i.jsx(Hs,{className:`w-4 h-4 transition-colors ${d?"text-rose-500 fill-rose-500":"text-white"}`})}),e.isAvailableToday&&i.jsxs(Ce,{className:"absolute top-3 left-3 bg-green-500 text-white border-0 text-xs gap-1",children:[i.jsx(ha,{className:"w-3 h-3"})," "]})]}),i.jsxs("div",{className:"p-4 text-right",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground",children:((b=e.rating)==null?void 0:b.toFixed(1))||"0.0"}),i.jsx(Zr,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]}),i.jsx("h3",{className:"font-display text-lg font-bold text-foreground truncate",children:e.nameAr})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 mb-2 text-sm text-muted-foreground",children:[e.packagesCount&&e.packagesCount>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{children:[e.packagesCount," "]}),i.jsx(un,{className:"w-3.5 h-3.5"})]}),e.city&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:e.city}),i.jsx(wr,{className:"w-3.5 h-3.5"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic line-clamp-1 mb-3",children:e.descriptionAr}),i.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2 border-t border-border/50",children:[i.jsxs(K,{size:"sm",onClick:m,className:"bg-primary hover:bg-primary/90 text-primary-foreground text-xs px-4 h-9",children:[i.jsx(Xr,{className:"w-3.5 h-3.5 ml-1.5"}),""]}),i.jsx("div",{className:"text-right",children:e.minPrice?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),i.jsxs("span",{className:"text-base font-bold text-primary mr-1",children:[e.minPrice.toLocaleString()," ."]})]}):i.jsx("span",{className:"text-sm font-bold text-primary",children:e.price})})]})]}),h&&i.jsx(ph,{open:c,onOpenChange:u,otherUserId:h,otherUserName:e.nameAr,providerId:e.id})]})}var Lye="Separator",UD="horizontal",Fye=["horizontal","vertical"],JV=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=UD,...a}=e,s=Bye(n)?n:UD,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(me.div,{"data-orientation":s,...l,...a,ref:t})});JV.displayName=Lye;function Bye(e){return Fye.includes(e)}var e9=JV;const $s=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(e9,{ref:a,decorative:r,orientation:t,className:oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$s.displayName=e9.displayName;function t9({open:e,onOpenChange:t,providerId:r,providerName:n,existingReview:a,onSuccess:s}){const[o,l]=p.useState((a==null?void 0:a.rating)||0),[c,u]=p.useState(0),[d,f]=p.useState((a==null?void 0:a.comment)||""),[h,m]=p.useState(!1),{toast:v}=Ke(),{user:g}=at(),x=async()=>{if(!g){v({title:"  ",description:"    ",variant:"destructive"});return}if(o===0){v({title:" ",description:"   ",variant:"destructive"});return}m(!0);try{if(a){const{error:w}=await W.from("service_provider_reviews").update({rating:o,comment:d.trim()||null,updated_at:new Date().toISOString()}).eq("id",a.id);if(w)throw w;v({title:"  ",description:"  "})}else{const{error:w}=await W.from("service_provider_reviews").insert({provider_id:r,user_id:g.id,rating:o,comment:d.trim()||null});if(w){if(w.code==="23505"){v({title:"     ",description:"   ",variant:"destructive"});return}throw w}v({title:"  ",description:"  "})}s(),t(!1),b()}catch(w){console.error("Error submitting review:",w),v({title:" ",description:"  ",variant:"destructive"})}finally{m(!1)}},b=()=>{l(0),f("")},y=c||o;return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsx(kt,{side:"bottom",className:"h-auto rounded-t-3xl p-0",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>t(!1),children:i.jsx(Tt,{className:"w-5 h-5"})}),i.jsx(Kt,{className:"font-display text-lg",children:a?" ":" "})]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:""}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground",children:n})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(w=>i.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:()=>u(w),onMouseLeave:()=>u(0),onClick:()=>l(w),className:"p-1",children:i.jsx(Zr,{className:`w-10 h-10 transition-colors ${w<=y?"text-amber-500 fill-amber-500":"text-muted-foreground/30"}`})},w))}),i.jsx("div",{className:"text-center mb-6",children:i.jsxs("p",{className:"font-arabic text-sm text-muted-foreground",children:[y===0&&"   ",y===1&&" ",y===2&&"",y===3&&"",y===4&&"",y===5&&""]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Sn,{placeholder:"    ... ()",value:d,onChange:w=>f(w.target.value),className:"min-h-[120px] text-right resize-none",maxLength:500,dir:"rtl"}),i.jsxs("p",{className:"text-xs text-muted-foreground text-left mt-1",children:[d.length,"/500"]})]}),i.jsx(K,{className:"w-full",size:"lg",onClick:x,disabled:h||o===0,children:h?" ...":a?" ":" "})]})})})}var r9="AlertDialog",[zye]=Dr(r9,[DU]),_o=DU(),n9=e=>{const{__scopeAlertDialog:t,...r}=e,n=_o(t);return i.jsx(vA,{...n,...r,modal:!0})};n9.displayName=r9;var Uye="AlertDialogTrigger",a9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_o(r);return i.jsx(ZU,{...a,...n,ref:t})});a9.displayName=Uye;var Vye="AlertDialogPortal",s9=e=>{const{__scopeAlertDialog:t,...r}=e,n=_o(t);return i.jsx(yA,{...n,...r})};s9.displayName=Vye;var Wye="AlertDialogOverlay",i9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_o(r);return i.jsx(tv,{...a,...n,ref:t})});i9.displayName=Wye;var Dd="AlertDialogContent",[Hye,qye]=zye(Dd),Kye=rB("AlertDialogContent"),o9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=_o(r),o=p.useRef(null),l=Oe(t,o),c=p.useRef(null);return i.jsx(qpe,{contentName:Dd,titleName:l9,docsSlug:"alert-dialog",children:i.jsx(Hye,{scope:r,cancelRef:c,children:i.jsxs(rv,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:le(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Kye,{children:n}),i.jsx(Yye,{contentRef:o})]})})})});o9.displayName=Dd;var l9="AlertDialogTitle",c9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_o(r);return i.jsx(nv,{...a,...n,ref:t})});c9.displayName=l9;var u9="AlertDialogDescription",d9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_o(r);return i.jsx(av,{...a,...n,ref:t})});d9.displayName=u9;var Gye="AlertDialogAction",f9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_o(r);return i.jsx(nw,{...a,...n,ref:t})});f9.displayName=Gye;var h9="AlertDialogCancel",m9=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=qye(h9,r),s=_o(r),o=Oe(t,a);return i.jsx(nw,{...s,...n,ref:o})});m9.displayName=h9;var Yye=({contentRef:e})=>{const t=`\`${Dd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dd}\` by passing a \`${u9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Xye=n9,Zye=a9,Qye=s9,p9=i9,g9=o9,v9=f9,y9=m9,x9=c9,b9=d9;const ql=Xye,Jye=Zye,exe=Qye,w9=p.forwardRef(({className:e,...t},r)=>i.jsx(p9,{className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));w9.displayName=p9.displayName;const No=p.forwardRef(({className:e,...t},r)=>i.jsxs(exe,{children:[i.jsx(w9,{}),i.jsx(g9,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));No.displayName=g9.displayName;const So=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});So.displayName="AlertDialogHeader";const Co=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Co.displayName="AlertDialogFooter";const ko=p.forwardRef(({className:e,...t},r)=>i.jsx(x9,{ref:r,className:oe("text-lg font-semibold",e),...t}));ko.displayName=x9.displayName;const Eo=p.forwardRef(({className:e,...t},r)=>i.jsx(b9,{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));Eo.displayName=b9.displayName;const Ao=p.forwardRef(({className:e,...t},r)=>i.jsx(v9,{ref:r,className:oe(bp(),e),...t}));Ao.displayName=v9.displayName;const Po=p.forwardRef(({className:e,...t},r)=>i.jsx(y9,{ref:r,className:oe(bp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Po.displayName=y9.displayName;function txe({providerId:e,providerName:t}){const[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!1),{user:v}=at(),{toast:g}=Ke(),x=async()=>{try{const{data:N,error:S}=await W.from("service_provider_reviews").select("*").eq("provider_id",e).order("created_at",{ascending:!1});if(S)throw S;if(N&&N.length>0){const k=[...new Set(N.map(P=>P.user_id))],{data:C}=await W.from("profiles").select("id, full_name, avatar_url").in("id",k),A=new Map((C==null?void 0:C.map(P=>[P.id,P]))||[]),E=N.map(P=>({...P,profiles:A.get(P.user_id)||null}));n(E)}else n([])}catch(N){console.error("Error fetching reviews:",N)}finally{s(!1)}},b=async()=>{if(!v){m(!1);return}try{const{data:N}=await W.from("service_bookings").select("id").eq("provider_id",e).eq("user_id",v.id).in("status",["confirmed","completed"]).limit(1);m(!!N&&N.length>0)}catch(N){console.error("Error checking can review:",N),m(!1)}};p.useEffect(()=>{x()},[e]),p.useEffect(()=>{v?b():m(!1)},[e,v]);const y=r.find(N=>N.user_id===(v==null?void 0:v.id)),w=async()=>{if(d)try{const{error:N}=await W.from("service_provider_reviews").delete().eq("id",d);if(N)throw N;g({title:"  ",description:"   "}),x()}catch(N){console.error("Error deleting review:",N),g({title:" ",description:"  ",variant:"destructive"})}finally{f(null)}},j=r.length>0?(r.reduce((N,S)=>N+S.rating,0)/r.length).toFixed(1):"0.0",_=[5,4,3,2,1].map(N=>({rating:N,count:r.filter(S=>S.rating===N).length,percentage:r.length>0?r.filter(S=>S.rating===N).length/r.length*100:0}));return i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v&&h&&i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{y&&u(y),l(!0)},children:[i.jsx(cf,{className:"w-4 h-4 ml-1"}),y?" ":" "]}),(!v||!h)&&i.jsx("div",{}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic",children:" "}),i.jsx(Zr,{className:"w-5 h-5 text-primary"})]})]}),i.jsx("div",{className:"card-luxe rounded-xl p-4 mb-4",children:i.jsxs("div",{className:"flex gap-6 items-center",children:[i.jsx("div",{className:"flex-1 space-y-1.5",children:_.map(({rating:N,percentage:S})=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx(X.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:.5,delay:N*.1},className:"h-full bg-amber-500 rounded-full"})}),i.jsx("span",{className:"w-3 text-muted-foreground",children:N})]},N))}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl font-bold text-foreground mb-1",children:j}),i.jsx("div",{className:"flex justify-center gap-0.5 mb-1",children:[1,2,3,4,5].map(N=>i.jsx(Zr,{className:`w-4 h-4 ${N<=Math.round(Number(j))?"text-amber-500 fill-amber-500":"text-muted-foreground/30"}`},N))}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," "]})]})]})}),a?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  ..."}):r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:i.jsx(cf,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("p",{className:"text-muted-foreground font-arabic mb-2",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}):i.jsx("div",{className:"space-y-4",children:i.jsx(Lt,{children:r.map((N,S)=>{var k,C;return i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:S*.05},className:"card-luxe rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(A=>i.jsx(Zr,{className:`w-4 h-4 ${A<=N.rating?"text-amber-500 fill-amber-500":"text-muted-foreground/30"}`},A))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold text-sm text-foreground",children:((k=N.profiles)==null?void 0:k.full_name)||""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:fe(new Date(N.created_at),"d MMM yyyy",{locale:Je})})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:(C=N.profiles)!=null&&C.avatar_url?i.jsx("img",{src:N.profiles.avatar_url,alt:"",className:"w-full h-full object-cover"}):i.jsx(ya,{className:"w-5 h-5 text-muted-foreground"})})]})]}),N.comment&&i.jsx("p",{className:"text-sm text-muted-foreground font-arabic leading-relaxed",children:N.comment}),N.user_id===(v==null?void 0:v.id)&&i.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-border",children:[i.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>{u(N),l(!0)},className:"text-xs",children:[i.jsx(K2,{className:"w-3 h-3 ml-1"}),""]}),i.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>f(N.id),className:"text-xs text-destructive hover:text-destructive",children:[i.jsx(ma,{className:"w-3 h-3 ml-1"}),""]})]})]},N.id)})})}),i.jsx(t9,{open:o,onOpenChange:N=>{l(N),N||u(null)},providerId:e,providerName:t,existingReview:c?{id:c.id,rating:c.rating,comment:c.comment}:null,onSuccess:x}),i.jsx(ql,{open:!!d,onOpenChange:()=>f(null),children:i.jsxs(No,{children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right font-arabic",children:" "}),i.jsx(Eo,{className:"text-right font-arabic",children:"            ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{onClick:w,className:"bg-destructive hover:bg-destructive/90",children:""})]})]})}),!v&&i.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4 font-arabic",children:"   "}),v&&!h&&!y&&i.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4 font-arabic",children:"       "})]})}const Me=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Me.displayName="Card";const sa=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));sa.displayName="CardHeader";const ia=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ia.displayName="CardTitle";const j9=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));j9.displayName="CardDescription";const He=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("p-6 pt-0",e),...t}));He.displayName="CardContent";const rxe=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("flex items-center p-6 pt-0",e),...t}));rxe.displayName="CardFooter";const nxe=({isOpen:e,onClose:t,provider:r,packages:n,initialDate:a,initialPackage:s})=>{const[o,l]=p.useState(a),[c,u]=p.useState(s||null),[d,f]=p.useState(""),[h,m]=p.useState(!1),[v,g]=p.useState(!1),{toast:x}=Ke();p.useEffect(()=>{a&&l(a)},[a]),p.useEffect(()=>{s&&u(s)},[s]);const{data:b}=Bn({queryKey:["provider-availability",r.id],queryFn:async()=>{const{data:N,error:S}=await W.from("service_provider_availability").select("date, status").eq("provider_id",r.id);if(S)throw S;return N}}),y=(b==null?void 0:b.filter(N=>N.status==="booked"||N.status==="unavailable").map(N=>new Date(N.date)))||[],w=N=>{const S=new Date;return S.setHours(0,0,0,0),N<S?!0:y.some(k=>k.toDateString()===N.toDateString())},j=async()=>{if(!o||!c){x({title:"",description:"   ",variant:"destructive"});return}m(!0);try{const{data:{user:N}}=await W.auth.getUser();if(!N){x({title:"  ",description:"    ",variant:"destructive"}),m(!1);return}const{error:S}=await W.from("service_bookings").insert({provider_id:r.id,package_id:c.id,user_id:N.id,booking_date:fe(o,"yyyy-MM-dd"),total_price:c.price,notes:d.trim()||null,status:"pending"});if(S)throw S;g(!0),x({title:"  ",description:"    "})}catch(N){console.error("Error creating booking:",N),x({title:"",description:"    ",variant:"destructive"})}finally{m(!1)}},_=()=>{l(void 0),u(null),f(""),g(!1),t()};return v?i.jsx(Mt,{open:e,onOpenChange:_,children:i.jsx(kt,{side:"bottom",className:"h-[60vh] rounded-t-3xl",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(sf,{className:"w-10 h-10 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"   !"}),i.jsxs("p",{className:"text-muted-foreground",children:["     ",r.name_ar,"  "]})]}),i.jsxs("div",{className:"bg-muted rounded-xl p-4 w-full max-w-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{className:"font-medium",children:o&&fe(o,"dd MMMM yyyy",{locale:Je})})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{className:"font-medium",children:c==null?void 0:c.name_ar})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"font-bold text-primary",children:[c==null?void 0:c.price.toLocaleString()," ."]})]})]}),i.jsx(K,{onClick:_,className:"w-full max-w-sm",children:""})]})})}):i.jsx(Mt,{open:e,onOpenChange:_,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",children:[i.jsxs(ur,{className:"text-right mb-4",children:[i.jsx(Kt,{children:" "}),i.jsxs(qx,{children:["   ",r.name_ar]})]}),i.jsxs("div",{className:"space-y-6 pb-6",children:[i.jsxs("div",{children:[i.jsxs(re,{className:"flex items-center gap-2 mb-3 text-base",children:[i.jsx(nu,{className:"w-5 h-5"})," "]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(CA,{mode:"single",selected:o,onSelect:l,disabled:w,locale:Je,className:oe("rounded-xl border pointer-events-auto")})}),o&&i.jsxs("p",{className:"text-center mt-2 text-sm text-muted-foreground",children:[" : ",fe(o,"EEEE dd MMMM yyyy",{locale:Je})]})]}),i.jsxs("div",{children:[i.jsxs(re,{className:"flex items-center gap-2 mb-3 text-base",children:[i.jsx(un,{className:"w-5 h-5"})," "]}),i.jsx("div",{className:"grid gap-3",children:n.map(N=>i.jsx(Me,{className:oe("cursor-pointer transition-all hover:shadow-md",(c==null?void 0:c.id)===N.id?"border-primary bg-primary/5 ring-2 ring-primary":"border-border"),onClick:()=>u(N),children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground",children:N.name_ar}),N.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.description})]}),i.jsxs(Ce,{variant:(c==null?void 0:c.id)===N.id?"default":"secondary",children:[N.price.toLocaleString()," ."]})]})})},N.id))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"notes",className:"mb-2 block",children:"  ()"}),i.jsx(Sn,{id:"notes",value:d,onChange:N=>f(N.target.value),placeholder:"     ...",className:"resize-none",rows:3})]}),o&&c&&i.jsx(Me,{className:"bg-muted/50",children:i.jsxs(He,{className:"p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:" "}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:" "}),i.jsx("span",{children:r.name_ar})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:fe(o,"dd/MM/yyyy",{locale:Je})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:c.name_ar})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:""}),i.jsxs("span",{className:"font-bold text-primary",children:[c.price.toLocaleString()," ."]})]})]})]})}),i.jsx(K,{onClick:j,disabled:!o||!c||h,className:"w-full h-12 text-lg",children:h?i.jsxs(i.Fragment,{children:[i.jsx(ve,{className:"w-5 h-5 animate-spin ml-2"})," ..."]}):" "})]})]})})};function _9({open:e,onOpenChange:t,vendor:r}){var z,O;const{user:n}=at(),{toast:a}=Ke(),[s,o]=p.useState(0),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState(!0),[m,v]=p.useState(!1),[g,x]=p.useState(),[b,y]=p.useState(),[w,j]=p.useState(!1),[_,N]=p.useState(null),S=(z=r==null?void 0:r.portfolio_images)!=null&&z.length?r.portfolio_images:r!=null&&r.image?[r.image]:["/placeholder.svg"];p.useEffect(()=>{e&&(r!=null&&r.id)&&k()},[e,r==null?void 0:r.id]);const k=async()=>{if(r!=null&&r.id){h(!0);try{const{data:$}=await W.from("service_packages").select("*").eq("provider_id",r.id).order("price",{ascending:!0});c($||[]);const{data:D}=await W.from("service_providers").select("owner_id").eq("id",r.id).single();D&&N(D.owner_id);const T=US(),{data:U}=await W.from("service_provider_availability").select("*").eq("provider_id",r.id).gte("date",fe(T,"yyyy-MM-dd")).lte("date",fe(Or(T,13),"yyyy-MM-dd")).order("date",{ascending:!0});d(U||[])}catch($){console.error("Error fetching vendor data:",$)}finally{h(!1)}}},C=()=>{if(!n){a({title:"  ",description:"      ",variant:"destructive"});return}if(!_){a({title:"",description:"    ",variant:"destructive"});return}j(!0)},A=()=>{o($=>($+1)%S.length)},E=()=>{o($=>($-1+S.length)%S.length)},P=$=>{const D=u.find(T=>Gr(new Date(T.date),$));return(D==null?void 0:D.status)||"unknown"},F=$=>{switch($){case"available":return{icon:ha,color:"text-green-500 bg-green-500/10",label:""};case"booked":return{icon:ro,color:"text-destructive bg-destructive/10",label:""};case"unavailable":return{icon:$b,color:"text-amber-500 bg-amber-500/10",label:" "};default:return{icon:Ra,color:"text-muted-foreground bg-muted",label:"-"}}},I=Array.from({length:7},($,D)=>Or(US(),D));return r?i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl p-0 overflow-hidden",children:[i.jsxs("div",{className:"h-full overflow-y-auto",children:[i.jsxs("div",{className:"relative h-64 bg-muted",children:[i.jsx(Lt,{mode:"wait",children:i.jsx(X.img,{src:S[s],alt:r.nameAr,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},s)}),S.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:E,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/80 backdrop-blur-sm flex items-center justify-center shadow-lg",children:i.jsx(Vr,{className:"w-5 h-5"})}),i.jsx("button",{onClick:A,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/80 backdrop-blur-sm flex items-center justify-center shadow-lg",children:i.jsx(Bs,{className:"w-5 h-5"})})]}),S.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:S.map(($,D)=>i.jsx("button",{onClick:()=>o(D),className:`w-2 h-2 rounded-full transition-all ${D===s?"bg-primary w-6":"bg-background/60"}`},D))}),i.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-background/80 backdrop-blur-sm flex items-center justify-center shadow-lg",children:i.jsx(Tt,{className:"w-5 h-5"})}),i.jsxs("div",{className:"absolute top-4 left-4 bg-background/80 backdrop-blur-sm rounded-full px-3 py-1 text-sm",children:[s+1," / ",S.length]})]}),i.jsxs("div",{className:"p-5 space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"font-display text-2xl font-bold text-foreground mb-2",children:r.nameAr}),i.jsxs("div",{className:"flex items-center justify-end gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-semibold",children:((O=r.rating)==null?void 0:O.toFixed(1))||"0.0"}),i.jsx(Zr,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]}),r.city&&i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx("span",{children:r.city}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),(r.descriptionAr||r.description)&&i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-bold text-foreground mb-2 font-arabic",children:" "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm leading-relaxed",children:r.descriptionAr||r.description})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic",children:"  "}),i.jsx(qt,{className:"w-5 h-5 text-primary"})]}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:I.map(($,D)=>{const T=P($),U=F(T),R=U.icon,M=T==="available"||T==="unknown",B=l.length>0,V=M&&B;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.05},onClick:()=>{V&&(x($),v(!0))},className:`flex flex-col items-center p-2 rounded-xl ${U.color} ${V?"cursor-pointer hover:ring-2 hover:ring-primary hover:ring-offset-2 transition-all active:scale-95":""}`,children:[i.jsx("span",{className:"text-xs text-muted-foreground mb-1",children:fe($,"EEE",{locale:Je})}),i.jsx("span",{className:"text-sm font-bold mb-1",children:fe($,"d")}),i.jsx(R,{className:"w-4 h-4"})]},$.toISOString())})}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-destructive"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),i.jsx("span",{children:" "})]})]})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic",children:" "}),i.jsx(un,{className:"w-5 h-5 text-primary"})]}),f?i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:" ..."}):l.length>0?i.jsx("div",{className:"space-y-3",children:l.map(($,D)=>i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:D*.1},onClick:()=>{y($),v(!0)},className:"card-luxe p-4 rounded-xl cursor-pointer hover:ring-2 hover:ring-primary hover:ring-offset-2 transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs(Ce,{className:"bg-primary/10 text-primary border-0 font-bold",children:[$.price.toLocaleString()," ."]}),i.jsx("h4",{className:"font-bold text-foreground font-arabic",children:$.name_ar})]}),$.description&&i.jsx("p",{className:"text-muted-foreground text-sm mt-2 font-arabic text-right",children:$.description}),i.jsxs("div",{className:"flex items-center justify-end gap-1 mt-3 text-primary text-sm font-arabic",children:[i.jsx("span",{children:" "}),i.jsx(WT,{className:"w-4 h-4"})]})]},$.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground font-arabic",children:"    "})]}),S.length>1&&i.jsxs(i.Fragment,{children:[i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic mb-3",children:" "}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:S.map(($,D)=>i.jsx("button",{onClick:()=>o(D),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${D===s?"border-primary":"border-transparent opacity-70"}`,children:i.jsx("img",{src:$,alt:"",className:"w-full h-full object-cover"})},D))})]})]}),i.jsx($s,{}),i.jsx(txe,{providerId:r.id,providerName:r.nameAr}),l.length>0&&i.jsxs(K,{size:"lg",className:"w-full h-14 text-lg",onClick:()=>v(!0),children:[i.jsx(WT,{className:"w-5 h-5 ml-2"})," "]}),i.jsx("div",{className:"flex gap-3 pt-2 pb-8",children:i.jsxs(K,{className:"flex-1",onClick:C,children:[i.jsx(Xr,{className:"w-4 h-4 ml-2"}),""]})})]})]}),r&&i.jsx(nxe,{isOpen:m,onClose:()=>{v(!1),x(void 0),y(void 0)},provider:{id:r.id,name_ar:r.nameAr,name_en:r.name},packages:l,initialDate:g,initialPackage:b}),_&&r&&i.jsx(ph,{open:w,onOpenChange:j,otherUserId:_,otherUserName:r.nameAr,providerId:r.id})]})}):null}const Jx={city:null,minRating:0,priceRange:[0,5e4],sortBy:"rating",availableToday:!1},axe=[{id:"rating",label:" "},{id:"price_low",label:" "},{id:"price_high",label:" "},{id:"newest",label:""}],sxe=[{value:0,label:""},{value:3,label:"3+"},{value:4,label:"4+"},{value:4.5,label:"4.5+"}];function ixe({open:e,onOpenChange:t,filters:r,onFiltersChange:n,availableCities:a}){const[s,o]=p.useState(r);p.useEffect(()=>{o(r)},[r,e]);const l=()=>{n(s),t(!1)},c=()=>{o(Jx),n(Jx)},u=s.city!==null||s.minRating>0||s.priceRange[0]>0||s.priceRange[1]<5e4||s.availableToday;return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsx(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl p-0",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[i.jsxs(K,{variant:"ghost",size:"sm",onClick:c,className:"text-muted-foreground",children:[i.jsx(Vg,{className:"w-4 h-4 ml-1"})," "]}),i.jsxs(Kt,{className:"font-display text-lg flex items-center gap-2",children:["",i.jsx(Wg,{className:"w-5 h-5"})]}),i.jsx("button",{onClick:()=>t(!1),children:i.jsx(Tt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic mb-3 flex items-center justify-end gap-2",children:" "}),i.jsx("button",{onClick:()=>o(d=>({...d,availableToday:!d.availableToday})),className:`w-full p-4 rounded-xl border-2 transition-all text-right ${s.availableToday?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.availableToday?"border-primary bg-primary":"border-muted-foreground"}`,children:s.availableToday&&i.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 bg-primary-foreground rounded-full"})}),i.jsx("span",{className:"font-arabic",children:"   "})]})})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsxs("h3",{className:"font-bold text-foreground font-arabic mb-3 flex items-center justify-end gap-2",children:["",i.jsx(wr,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[i.jsx("button",{onClick:()=>o(d=>({...d,city:null})),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${s.city===null?"bg-foreground text-background":"bg-muted hover:bg-muted/80"}`,children:""}),a.map(d=>i.jsx("button",{onClick:()=>o(f=>({...f,city:d})),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${s.city===d?"bg-foreground text-background":"bg-muted hover:bg-muted/80"}`,children:d},d))]})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsxs("h3",{className:"font-bold text-foreground font-arabic mb-3 flex items-center justify-end gap-2",children:["",i.jsx(Zr,{className:"w-4 h-4"})]}),i.jsx("div",{className:"flex gap-2 justify-end",children:sxe.map(d=>i.jsxs("button",{onClick:()=>o(f=>({...f,minRating:d.value})),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all flex items-center gap-1 ${s.minRating===d.value?"bg-foreground text-background":"bg-muted hover:bg-muted/80"}`,children:[d.value>0&&i.jsx(Zr,{className:"w-3 h-3 fill-current"}),d.label]},d.value))})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsxs("h3",{className:"font-bold text-foreground font-arabic mb-3 flex items-center justify-end gap-2",children:[" ",i.jsx(of,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Rp,{value:s.priceRange,min:0,max:5e4,step:500,onValueChange:d=>o(f=>({...f,priceRange:d})),className:"mb-4"}),i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground font-arabic",children:[i.jsxs("span",{children:[s.priceRange[1].toLocaleString()," ."]}),i.jsxs("span",{children:[s.priceRange[0].toLocaleString()," ."]})]})]})]}),i.jsx($s,{}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-bold text-foreground font-arabic mb-3",children:" "}),i.jsx("div",{className:"space-y-2",children:axe.map(d=>i.jsx("button",{onClick:()=>o(f=>({...f,sortBy:d.id})),className:`w-full p-3 rounded-xl text-right font-arabic transition-all ${s.sortBy===d.id?"bg-foreground text-background":"bg-muted hover:bg-muted/80"}`,children:d.label},d.id))})]})]}),i.jsx("div",{className:"p-5 border-t border-border bg-background",children:i.jsxs(K,{className:"w-full",size:"lg",onClick:l,children:[u&&i.jsx(Ce,{className:"ml-2 bg-background/20",children:[s.city,s.minRating>0&&"",(s.priceRange[0]>0||s.priceRange[1]<5e4)&&"",s.availableToday&&" "].filter(Boolean).length})," "]})})]})})})}const oxe=15;function lxe(){const[e,t]=p.useState("women"),[r,n]=p.useState(null),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(Jx),h=p.useMemo(()=>{const I={};return r&&(I.category_id=r.id),d.city&&(I.city=d.city),I},[r,d.city]),{data:m,fetchNextPage:v,hasNextPage:g,isFetchingNextPage:x,isLoading:b,totalCount:y}=RA({queryKey:["service-providers-paginated"],tableName:"public_service_providers",pageSize:oxe,orderBy:{column:"rating",ascending:!1},filters:h,select:"*, service_packages(price)",enabled:!!r}),w=DA(p.useCallback(()=>v(),[v]),g,x),j=e==="women"?dw:fw,_=p.useMemo(()=>j.filter(I=>I.nameAr.includes(a)||I.nameEn.toLowerCase().includes(a.toLowerCase())),[j,a]),{data:N=[]}=cw("public_service_providers"),S=p.useMemo(()=>N,[N]),k=p.useMemo(()=>{let z=m.map(O=>{var U;const $=O.service_packages||[],D=$.map(R=>R.price).filter(R=>R>0),T=D.length>0?Math.min(...D):null;return{id:O.id,name:O.name_en||O.name_ar,nameAr:O.name_ar,categoryId:O.category_id,rating:Number(O.rating)||0,reviews:O.reviews_count||0,price:T?`${T.toLocaleString()} .`:" ",minPrice:T,image:((U=O.portfolio_images)==null?void 0:U[0])||"/placeholder.svg",portfolio_images:O.portfolio_images,description:O.description||"",descriptionAr:O.description||"",city:O.city,phone:O.phone,packagesCount:$.length,isAvailableToday:!1,isFromDb:!0,owner_id:O.owner_id}}).filter(O=>{var $;return!(d.minRating>0&&O.rating<d.minRating||a&&!O.nameAr.includes(a)&&!(($=O.descriptionAr)!=null&&$.includes(a)))});switch(d.sortBy){case"rating":z.sort((O,$)=>$.rating-O.rating);break;case"price_low":z.sort((O,$)=>(O.minPrice||0)-($.minPrice||0));break;case"price_high":z.sort((O,$)=>($.minPrice||0)-(O.minPrice||0));break}return z},[m,d,a]),C=()=>{n(null),s(""),f(Jx)},A=[d.city,d.minRating>0,d.priceRange[0]>0||d.priceRange[1]<5e4,d.availableToday].filter(Boolean).length,E=[{id:"women",label:" ",icon:yi,emoji:""},{id:"men",label:" ",icon:Ot,emoji:""}],P=Mi(),F=p.useCallback(async()=>{await P.invalidateQueries({queryKey:["service-providers-paginated"]})},[P]);return i.jsx(uw,{onRefresh:F,disabled:b,children:i.jsxs("div",{className:"min-h-screen pb-24 bg-background",children:[i.jsxs("div",{className:"bg-gradient-to-b from-secondary/80 via-secondary/40 to-background pt-12 pb-6 px-4",children:[i.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:r?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-card border border-border/60 rounded-full text-foreground hover:bg-muted hover:border-primary/40 transition-all mb-3 mx-auto shadow-sm",children:i.jsx("span",{className:"font-arabic text-sm font-medium",children:"  "})}),i.jsx("h1",{className:"font-display text-2xl font-bold text-foreground mb-1",children:r.nameAr})]}):i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"font-display text-2xl font-bold text-foreground mb-1",children:" "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"    "})]})}),i.jsxs("div",{className:"flex gap-2 max-w-md mx-auto mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(ge,{placeholder:r?"   ...":"  ...",value:a,onChange:I=>s(I.target.value),className:"pr-10 py-5 rounded-xl bg-card border-border/50 text-right"})]}),r&&i.jsxs(K,{variant:"outline",size:"icon",onClick:()=>u(!0),className:"h-12 w-12 rounded-xl relative",children:[i.jsx(Wg,{className:"w-5 h-5"}),A>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center",children:A})]})]}),!r&&i.jsx("div",{className:"flex justify-center gap-2",children:E.map(I=>i.jsxs("button",{onClick:()=>t(I.id),className:`px-5 py-2.5 rounded-full text-sm font-arabic flex items-center gap-2 transition-all ${e===I.id?"bg-foreground text-background shadow-md":"bg-card text-muted-foreground hover:bg-muted"}`,children:[i.jsx("span",{children:I.emoji}),I.label]},I.id))})]}),i.jsx(Lt,{mode:"wait",children:r?i.jsxs(X.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"px-4 py-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs(Ce,{variant:"secondary",className:"font-arabic",children:[k.length," ",y>k.length?` ${y}`:"","  "]})}),b?i.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((I,z)=>i.jsx(Oye,{},z))}):k.length>0?i.jsxs("div",{className:"space-y-4",children:[k.map((I,z)=>i.jsx($ye,{vendor:I,index:z,onClick:()=>l(I)},I.id)),i.jsx(IA,{loadMoreRef:w,hasNextPage:g,isFetchingNextPage:x})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"      "})]})]},"vendors"):i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"px-4 py-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs(Ce,{variant:"secondary",className:"font-arabic",children:[_.length," "]})}),i.jsx(X.div,{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 auto-rows-fr",layout:!0,children:i.jsx(Lt,{mode:"popLayout",children:_.map((I,z)=>i.jsx(X.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"h-full",children:i.jsx(Iye,{category:I,index:z,onClick:()=>n(I)})},I.id))})}),_.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:i.jsx(qs,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:"  "})]})]},"categories")}),i.jsx(_9,{open:!!o,onOpenChange:I=>!I&&l(null),vendor:o}),i.jsx(ixe,{open:c,onOpenChange:u,filters:d,onFiltersChange:f,availableCities:S})]})})}function N9(){const{user:e}=at(),{toast:t}=Ke(),[r,n]=p.useState([]),[a,s]=p.useState(!0),o=p.useCallback(async()=>{if(!e){n([]),s(!1);return}try{const{data:u,error:d}=await W.from("dress_favorites").select("dress_id").eq("user_id",e.id);if(d)throw d;n((u==null?void 0:u.map(f=>f.dress_id))||[])}catch(u){console.error("Error fetching dress favorites:",u)}finally{s(!1)}},[e]);p.useEffect(()=>{o()},[o]);const l=p.useCallback(u=>r.includes(u),[r]),c=p.useCallback(async u=>{if(!e){t({title:"  ",description:"    ",variant:"destructive"});return}const d=r.includes(u);n(d?f=>f.filter(h=>h!==u):f=>[...f,u]);try{if(d){const{error:f}=await W.from("dress_favorites").delete().eq("user_id",e.id).eq("dress_id",u);if(f)throw f;t({title:" ",description:"    "})}else{const{error:f}=await W.from("dress_favorites").insert({user_id:e.id,dress_id:u});if(f)throw f;t({title:" ",description:"    "})}}catch{n(d?h=>[...h,u]:h=>h.filter(m=>m!==u)),t({title:"",description:"    ",variant:"destructive"})}},[e,r,t]);return{favorites:r,loading:a,isFavorite:l,toggleFavorite:c,refetch:o}}function cxe(e){if(!e)return"";try{const t=new Date(e);return _U(t,{addSuffix:!0,locale:Je})}catch{return""}}function uxe({dress:e,onClick:t}){const{isFavorite:r,toggleFavorite:n}=N9(),a=e.id,s=a?r(a):!1,o=e.condition==="new",l=cxe(e.created_at),c=u=>{u.stopPropagation(),a&&n(a)};return i.jsxs(X.div,{whileHover:{y:-4},onClick:t,className:"bg-card rounded-2xl overflow-hidden shadow-lg border border-border/30 cursor-pointer group",children:[i.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[i.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),i.jsxs("div",{className:`absolute top-2 right-2 px-2.5 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 ${o?"bg-emerald-500 text-white":"bg-amber-500 text-white"}`,children:[o?i.jsx(yi,{className:"w-3 h-3"}):i.jsx(Ks,{className:"w-3 h-3"}),o?"":""]}),i.jsx("button",{onClick:c,className:`absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center transition-all ${s?"bg-white":"bg-black/30 backdrop-blur-sm hover:bg-white/80"}`,children:i.jsx(Hs,{className:`w-4 h-4 transition-colors ${s?"text-rose-500 fill-rose-500":"text-white hover:text-rose-500"}`})}),i.jsx("div",{className:"absolute bottom-2 right-2 gold-gradient px-2.5 py-1 rounded-full shadow-lg",children:i.jsxs("span",{className:"text-xs font-bold text-white",children:[e.price.toLocaleString()," ."]})})]}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx("h3",{className:"font-arabic font-semibold text-foreground text-sm line-clamp-1 text-right",children:e.title}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"bg-muted px-2 py-0.5 rounded-full font-medium",children:e.size}),i.jsxs("span",{className:"flex items-center gap-1",children:[e.city,i.jsx(wr,{className:"w-3 h-3"})]})]}),l&&i.jsxs("div",{className:"flex items-center justify-end gap-1 text-[10px] text-muted-foreground/70",children:[i.jsx("span",{children:l}),i.jsx(Ra,{className:"w-3 h-3"})]})]})]})}function S9({dress:e,open:t,onClose:r}){const[n,a]=p.useState(0),[s,o]=p.useState(!1),{toast:l}=Ke(),c=Js(),u=e==null?void 0:e.id;if(!e)return null;const d=async()=>{const{data:{user:m}}=await W.auth.getUser();if(!m){l({title:"  ",description:"     ",variant:"destructive"}),c("/auth");return}if(!u){l({title:" ",description:"    ",variant:"destructive"});return}o(!0)},f=()=>{a(m=>(m+1)%e.images.length)},h=()=>{a(m=>(m-1+e.images.length)%e.images.length)};return i.jsx(Mt,{open:t,onOpenChange:r,children:i.jsx(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl p-0 overflow-hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"relative aspect-[3/4] max-h-[50vh] bg-muted",children:[i.jsx(Lt,{mode:"wait",children:i.jsx(X.img,{src:e.images[n],alt:e.title,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full object-cover"},n)}),i.jsx("button",{onClick:r,className:"absolute top-4 right-4 bg-background/80 backdrop-blur-sm p-2 rounded-full",children:i.jsx(Tt,{className:"w-5 h-5"})}),e.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:h,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm p-2 rounded-full",children:i.jsx(Vr,{className:"w-5 h-5"})}),i.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm p-2 rounded-full",children:i.jsx(Bs,{className:"w-5 h-5"})})]}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:e.images.map((m,v)=>i.jsx("button",{onClick:()=>a(v),className:`w-2 h-2 rounded-full transition-all ${v===n?"bg-primary w-4":"bg-white/50"}`},v))})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsx(ur,{className:"text-right",children:i.jsx(Kt,{className:"font-arabic text-xl",children:e.title})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-2xl font-bold text-primary",children:[e.price.toLocaleString()," ."]}),i.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[i.jsxs("span",{className:"bg-secondary px-3 py-1 rounded-full text-sm",children:[": ",e.size]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(wr,{className:"w-4 h-4"}),e.city]})]})]}),i.jsxs("div",{className:"bg-secondary/50 rounded-xl p-4",children:[i.jsx("h4",{className:"font-arabic font-semibold mb-2",children:""}),i.jsx("p",{className:"text-muted-foreground",children:e.sellerName})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-arabic font-semibold mb-2",children:""}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]})]}),i.jsx("div",{className:"p-4 border-t border-border bg-background",children:i.jsxs(K,{onClick:d,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-6 text-lg font-arabic rounded-xl",children:[i.jsx(Xr,{className:"w-5 h-5 ml-2"}),"  "]})}),u&&i.jsx(ph,{open:s,onOpenChange:o,dressId:u})]})})})}var dxe=[" ","Enter","ArrowUp","ArrowDown"],fxe=[" ","Enter"],uu="Select",[mw,pw,hxe]=th(uu),[vh]=Dr(uu,[hxe,ih]),gw=ih(),[mxe,Kl]=vh(uu),[pxe,gxe]=vh(uu),C9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,g=gw(t),[x,b]=p.useState(null),[y,w]=p.useState(null),[j,_]=p.useState(!1),N=Hl(u),[S,k]=va({prop:n,defaultProp:a??!1,onChange:s,caller:uu}),[C,A]=va({prop:o,defaultProp:l,onChange:c,caller:uu}),E=p.useRef(null),P=x?v||!!x.closest("form"):!0,[F,I]=p.useState(new Set),z=Array.from(F).map(O=>O.props.value).join(";");return i.jsx(m6,{...g,children:i.jsxs(mxe,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ls(),value:C,onValueChange:A,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:E,disabled:h,children:[i.jsx(mw.Provider,{scope:t,children:i.jsx(pxe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(O=>{I($=>new Set($).add(O))},[]),onNativeOptionRemove:p.useCallback(O=>{I($=>{const D=new Set($);return D.delete(O),D})},[]),children:r})}),P?i.jsxs(X9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:O=>A(O.target.value),disabled:h,form:v,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},z):null]})})};C9.displayName=uu;var k9="SelectTrigger",E9=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=gw(r),o=Kl(k9,r),l=o.disabled||n,c=Oe(t,o.onTriggerChange),u=pw(r),d=p.useRef("touch"),[f,h,m]=Q9(g=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),y=J9(x,g,b);y!==void 0&&o.onValueChange(y.value)}),v=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(cE,{asChild:!0,...s,children:i.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Z9(o.value)?"":void 0,...a,ref:c,onClick:le(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:le(a.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:le(a.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&dxe.includes(g.key)&&(v(),g.preventDefault())})})})});E9.displayName=k9;var A9="SelectValue",P9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Kl(A9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Oe(t,c.onValueNodeChange);return br(()=>{u(d)},[u,d]),i.jsx(me.span,{...l,ref:f,style:{pointerEvents:"none"},children:Z9(c.value)?i.jsx(i.Fragment,{children:o}):s})});P9.displayName=A9;var vxe="SelectIcon",O9=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});O9.displayName=vxe;var yxe="SelectPortal",T9=e=>i.jsx(Dg,{asChild:!0,...e});T9.displayName=yxe;var du="SelectContent",M9=p.forwardRef((e,t)=>{const r=Kl(du,e.__scopeSelect),[n,a]=p.useState();if(br(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?ns.createPortal(i.jsx(R9,{scope:e.__scopeSelect,children:i.jsx(mw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(D9,{...e,ref:t})});M9.displayName=du;var Ss=10,[R9,Gl]=vh(du),xxe="SelectContentImpl",bxe=ru("SelectContent.RemoveScroll"),D9=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x,...b}=e,y=Kl(du,r),[w,j]=p.useState(null),[_,N]=p.useState(null),S=Oe(t,Y=>j(Y)),[k,C]=p.useState(null),[A,E]=p.useState(null),P=pw(r),[F,I]=p.useState(!1),z=p.useRef(!1);p.useEffect(()=>{if(w)return hA(w)},[w]),fA();const O=p.useCallback(Y=>{const[te,...Z]=P().map(G=>G.ref.current),[ne]=Z.slice(-1),ee=document.activeElement;for(const G of Y)if(G===ee||(G==null||G.scrollIntoView({block:"nearest"}),G===te&&_&&(_.scrollTop=0),G===ne&&_&&(_.scrollTop=_.scrollHeight),G==null||G.focus(),document.activeElement!==ee))return},[P,_]),$=p.useCallback(()=>O([k,w]),[O,k,w]);p.useEffect(()=>{F&&$()},[F,$]);const{onOpenChange:D,triggerPointerDownPosRef:T}=y;p.useEffect(()=>{if(w){let Y={x:0,y:0};const te=ne=>{var ee,G;Y={x:Math.abs(Math.round(ne.pageX)-(((ee=T.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((G=T.current)==null?void 0:G.y)??0))}},Z=ne=>{Y.x<=10&&Y.y<=10?ne.preventDefault():w.contains(ne.target)||D(!1),document.removeEventListener("pointermove",te),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,D,T]),p.useEffect(()=>{const Y=()=>D(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[D]);const[U,R]=Q9(Y=>{const te=P().filter(ee=>!ee.disabled),Z=te.find(ee=>ee.ref.current===document.activeElement),ne=J9(te,Y,Z);ne&&setTimeout(()=>ne.ref.current.focus())}),M=p.useCallback((Y,te,Z)=>{const ne=!z.current&&!Z;(y.value!==void 0&&y.value===te||ne)&&(C(Y),ne&&(z.current=!0))},[y.value]),B=p.useCallback(()=>w==null?void 0:w.focus(),[w]),V=p.useCallback((Y,te,Z)=>{const ne=!z.current&&!Z;(y.value!==void 0&&y.value===te||ne)&&E(Y)},[y.value]),q=n==="popper"?GS:I9,J=q===GS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return i.jsx(R9,{scope:r,content:w,viewport:_,onViewportChange:N,itemRefCallback:M,selectedItem:k,onItemLeave:B,itemTextRefCallback:V,focusSelectedItem:$,selectedItemText:A,position:n,isPositioned:F,searchRef:U,children:i.jsx(tw,{as:bxe,allowPinchZoom:!0,children:i.jsx(Jb,{asChild:!0,trapped:y.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:le(a,Y=>{var te;(te=y.trigger)==null||te.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(rh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Y=>Y.preventDefault(),...b,...J,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:le(b.onKeyDown,Y=>{const te=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!te&&Y.key.length===1&&R(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ne=P().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ee=Y.target,G=ne.indexOf(ee);ne=ne.slice(G+1)}setTimeout(()=>O(ne)),Y.preventDefault()}})})})})})})});D9.displayName=xxe;var wxe="SelectItemAlignedPosition",I9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Kl(du,r),o=Gl(du,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Oe(t,S=>d(S)),h=pw(r),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&x&&b){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(s.dir!=="rtl"){const ee=A.left-k.left,G=C.left-ee,_e=S.left-G,ie=S.width+_e,he=Math.max(ie,k.width),ke=window.innerWidth-Ss,Qe=Mp(G,[Ss,Math.max(Ss,ke-he)]);l.style.minWidth=ie+"px",l.style.left=Qe+"px"}else{const ee=k.right-A.right,G=window.innerWidth-C.right-ee,_e=window.innerWidth-S.right-G,ie=S.width+_e,he=Math.max(ie,k.width),ke=window.innerWidth-Ss,Qe=Mp(G,[Ss,Math.max(Ss,ke-he)]);l.style.minWidth=ie+"px",l.style.right=Qe+"px"}const E=h(),P=window.innerHeight-Ss*2,F=g.scrollHeight,I=window.getComputedStyle(u),z=parseInt(I.borderTopWidth,10),O=parseInt(I.paddingTop,10),$=parseInt(I.borderBottomWidth,10),D=parseInt(I.paddingBottom,10),T=z+O+F+D+$,U=Math.min(x.offsetHeight*5,T),R=window.getComputedStyle(g),M=parseInt(R.paddingTop,10),B=parseInt(R.paddingBottom,10),V=S.top+S.height/2-Ss,q=P-V,J=x.offsetHeight/2,Y=x.offsetTop+J,te=z+O+Y,Z=T-te;if(te<=V){const ee=E.length>0&&x===E[E.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-g.offsetTop-g.offsetHeight,_e=Math.max(q,J+(ee?B:0)+G+$),ie=te+_e;l.style.height=ie+"px"}else{const ee=E.length>0&&x===E[0].ref.current;l.style.top="0px";const _e=Math.max(V,z+g.offsetTop+(ee?M:0)+J)+Z;l.style.height=_e+"px",g.scrollTop=te-V+g.offsetTop}l.style.margin=`${Ss}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,x,b,s.dir,n]);br(()=>w(),[w]);const[j,_]=p.useState();br(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=p.useCallback(S=>{S&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return i.jsx(_xe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});I9.displayName=wxe;var jxe="SelectPopperPosition",GS=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ss,...s}=e,o=gw(r);return i.jsx(uE,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GS.displayName=jxe;var[_xe,$A]=vh(du,{}),YS="SelectViewport",$9=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Gl(YS,r),o=$A(YS,r),l=Oe(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(mw.Slot,{scope:r,children:i.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Ss*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(g,x);if(b<v){const y=b+m,w=Math.min(v,y),j=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});$9.displayName=YS;var L9="SelectGroup",[Nxe,Sxe]=vh(L9),Cxe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ls();return i.jsx(Nxe,{scope:r,id:a,children:i.jsx(me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Cxe.displayName=L9;var F9="SelectLabel",B9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sxe(F9,r);return i.jsx(me.div,{id:a.id,...n,ref:t})});B9.displayName=F9;var e0="SelectItem",[kxe,z9]=vh(e0),U9=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Kl(e0,r),c=Gl(e0,r),u=l.value===n,[d,f]=p.useState(s??""),[h,m]=p.useState(!1),v=Oe(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),g=ls(),x=p.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(kxe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:p.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(mw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:le(o.onFocus,()=>m(!0)),onBlur:le(o.onBlur,()=>m(!1)),onClick:le(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:le(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:le(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:le(o.onPointerMove,y=>{var w;x.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:le(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(fxe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});U9.displayName=e0;var vm="SelectItemText",V9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Kl(vm,r),l=Gl(vm,r),c=z9(vm,r),u=gxe(vm,r),[d,f]=p.useState(null),h=Oe(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return br(()=>(g(v),()=>x(v)),[g,x,v]),i.jsxs(i.Fragment,{children:[i.jsx(me.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ns.createPortal(s.children,o.valueNode):null]})});V9.displayName=vm;var W9="SelectItemIndicator",H9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return z9(W9,r).isSelected?i.jsx(me.span,{"aria-hidden":!0,...n,ref:t}):null});H9.displayName=W9;var XS="SelectScrollUpButton",q9=p.forwardRef((e,t)=>{const r=Gl(XS,e.__scopeSelect),n=$A(XS,e.__scopeSelect),[a,s]=p.useState(!1),o=Oe(t,n.onScrollButtonChange);return br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(G9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q9.displayName=XS;var ZS="SelectScrollDownButton",K9=p.forwardRef((e,t)=>{const r=Gl(ZS,e.__scopeSelect),n=$A(ZS,e.__scopeSelect),[a,s]=p.useState(!1),o=Oe(t,n.onScrollButtonChange);return br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(G9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});K9.displayName=ZS;var G9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Gl("SelectScrollButton",r),o=p.useRef(null),l=pw(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),br(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:le(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:le(a.onPointerLeave,()=>{c()})})}),Exe="SelectSeparator",Y9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(me.div,{"aria-hidden":!0,...n,ref:t})});Y9.displayName=Exe;var QS="SelectArrow",Axe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=gw(r),s=Kl(QS,r),o=Gl(QS,r);return s.open&&o.position==="popper"?i.jsx(dE,{...a,...n,ref:t}):null});Axe.displayName=QS;var Pxe="SelectBubbleInput",X9=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),s=Oe(n,a),o=lv(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(me.select,{...r,style:{...iB,...r.style},ref:s,defaultValue:t})});X9.displayName=Pxe;function Z9(e){return e===""||e===void 0}function Q9(e){const t=xr(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function J9(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Oxe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Oxe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Txe=C9,eW=E9,Mxe=P9,Rxe=O9,Dxe=T9,tW=M9,Ixe=$9,rW=B9,nW=U9,$xe=V9,Lxe=H9,aW=q9,sW=K9,iW=Y9;const jn=Txe,_n=Mxe,dn=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(eW,{ref:n,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Rxe,{asChild:!0,children:i.jsx(Ml,{className:"h-4 w-4 opacity-50"})})]}));dn.displayName=eW.displayName;const oW=p.forwardRef(({className:e,...t},r)=>i.jsx(aW,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(AB,{className:"h-4 w-4"})}));oW.displayName=aW.displayName;const lW=p.forwardRef(({className:e,...t},r)=>i.jsx(sW,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ml,{className:"h-4 w-4"})}));lW.displayName=sW.displayName;const fn=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Dxe,{children:i.jsxs(tW,{ref:a,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(oW,{}),i.jsx(Ixe,{className:oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(lW,{})]})}));fn.displayName=tW.displayName;const Fxe=p.forwardRef(({className:e,...t},r)=>i.jsx(rW,{ref:r,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Fxe.displayName=rW.displayName;const ut=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(nW,{ref:n,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Lxe,{children:i.jsx(It,{className:"h-4 w-4"})})}),i.jsx($xe,{children:t})]}));ut.displayName=nW.displayName;const Bxe=p.forwardRef(({className:e,...t},r)=>i.jsx(iW,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));Bxe.displayName=iW.displayName;const zxe=["","",""," "," ",""],Uxe=["XS","S","M","L","XL","XXL"],Vxe=[{value:"new",label:" ( )",icon:""},{value:"used",label:" ( )",icon:""}],VD=[{value:"wedding",label:" ",icon:""},{value:"evening",label:" ",icon:""},{value:"maternity",label:" ",icon:""}];function Wxe({open:e,onClose:t}){var k;const{toast:r}=Ke(),n=Js(),[a,s]=p.useState(1),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState([]),[h,m]=p.useState({title:"",price:"",size:"",city:"",condition:"",category:"wedding",description:""}),v=C=>{const A=C.target.files;if(A){const E=Array.from(A),P=E.map(F=>URL.createObjectURL(F));u(F=>[...F,...E].slice(0,5)),f(F=>[...F,...P].slice(0,5))}},g=C=>{u(A=>A.filter((E,P)=>P!==C)),f(A=>A.filter((E,P)=>P!==C))},x=()=>{s(1),m({title:"",price:"",size:"",city:"",condition:"",category:"wedding",description:""}),u([]),f([])},b=()=>{x(),t()},y=()=>c.length===0?(r({title:" ",description:"     ",variant:"destructive"}),!1):!0,w=()=>!h.title||!h.price||!h.size||!h.city||!h.condition?(r({title:" ",description:"    ",variant:"destructive"}),!1):!0,j=()=>{a===1&&y()?s(2):a===2&&w()&&s(3)},_=()=>{a>1&&s(a-1)},N=async()=>{const{data:{session:C}}=await W.auth.getSession();if(!C){r({title:"  ",description:"    ",variant:"destructive"}),b(),n("/auth");return}l(!0);try{const A=[];for(const P of c){const F=`${C.user.id}/${Date.now()}-${P.name}`,{data:I,error:z}=await W.storage.from("dress-images").upload(F,P);if(z)throw z;const{data:O}=W.storage.from("dress-images").getPublicUrl(F);A.push(O.publicUrl)}const{error:E}=await W.from("dresses").insert({seller_id:C.user.id,title:h.title,price:parseInt(h.price),size:h.size,city:h.city,condition:h.condition,category:h.category,description:h.description,images:A,is_active:!0,is_sold:!1});if(E)throw E;r({title:"   ! ",description:"      "}),b()}catch(A){r({title:"  ",description:A.message||"    ",variant:"destructive"})}finally{l(!1)}},S={1:" ",2:" ",3:" "};return i.jsx(Mt,{open:e,onOpenChange:b,children:i.jsx(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden",dir:"rtl",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx(ur,{className:"pb-4 border-b border-border",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(Kt,{className:"font-arabic text-xl",children:S[a]}),i.jsx("div",{className:"flex items-center gap-2",children:[1,2,3].map(C=>i.jsx("div",{className:`w-8 h-1 rounded-full transition-all ${C<=a?"bg-primary":"bg-muted"}`},C))})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:i.jsxs(Lt,{mode:"wait",children:[a===1&&i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Fg,{className:"w-8 h-8 text-primary"})}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"    ( 5 )"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.map((C,A)=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover rounded-xl"}),i.jsx("button",{type:"button",onClick:()=>g(A),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 shadow-lg",children:i.jsx(Tt,{className:"w-4 h-4"})}),A===0&&i.jsx("span",{className:"absolute bottom-1 right-1 bg-primary text-primary-foreground text-[10px] px-2 py-0.5 rounded-full",children:""})]},A)),c.length<5&&i.jsxs("label",{className:"aspect-square border-2 border-dashed border-border rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-primary hover:bg-primary/5 transition-all",children:[i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:v,className:"hidden"}),i.jsx(Sr,{className:"w-8 h-8 text-muted-foreground mb-1"}),i.jsx("span",{className:"text-xs text-muted-foreground font-arabic",children:""})]})]})]},"step1"),a===2&&i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{placeholder:":      ",value:h.title,onChange:C=>m({...h,title:C.target.value}),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:VD.map(C=>i.jsxs("button",{type:"button",onClick:()=>m({...h,category:C.value}),className:`p-3 rounded-xl border-2 text-center transition-all ${h.category===C.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[i.jsx("span",{className:"text-xl mb-1 block",children:C.icon}),i.jsx("span",{className:"text-xs font-arabic",children:C.label})]},C.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Vxe.map(C=>i.jsxs("button",{type:"button",onClick:()=>m({...h,condition:C.value}),className:`p-4 rounded-xl border-2 text-center transition-all ${h.condition===C.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[i.jsx("span",{className:"text-2xl mb-1 block",children:C.icon}),i.jsx("span",{className:"text-sm font-arabic",children:C.label})]},C.value))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" (.) *"}),i.jsx(ge,{type:"number",placeholder:"0",value:h.price,onChange:C=>m({...h,price:C.target.value}),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:h.size,onValueChange:C=>m({...h,size:C}),children:[i.jsx(dn,{children:i.jsx(_n,{placeholder:""})}),i.jsx(fn,{children:Uxe.map(C=>i.jsx(ut,{value:C,children:C},C))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:h.city,onValueChange:C=>m({...h,city:C}),children:[i.jsx(dn,{children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:zxe.map(C=>i.jsx(ut,{value:C,children:C},C))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" ()"}),i.jsx(Sn,{placeholder:"   ...",value:h.description,onChange:C=>m({...h,description:C.target.value}),className:"text-right min-h-[80px]"})]})]},"step2"),a===3&&i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-emerald-500/10 rounded-full flex items-center justify-center",children:i.jsx(It,{className:"w-8 h-8 text-emerald-500"})}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"    "})]}),i.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 space-y-4",children:[i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map((C,A)=>i.jsx("img",{src:C,alt:"",className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"},A))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-bold text-foreground",children:h.title}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-primary font-bold",children:[parseInt(h.price).toLocaleString()," ."]}),i.jsx("span",{className:"text-muted-foreground",children:h.city})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs",children:(k=VD.find(C=>C.value===h.category))==null?void 0:k.label}),i.jsxs("span",{className:"bg-muted px-2 py-0.5 rounded-full text-xs",children:[": ",h.size]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${h.condition==="new"?"bg-emerald-500/20 text-emerald-600":"bg-amber-500/20 text-amber-600"}`,children:h.condition==="new"?"":""})]}),h.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:h.description})]})]})]},"step3")]})}),i.jsxs("div",{className:"pt-4 border-t border-border flex gap-3",children:[a>1&&i.jsxs(K,{variant:"outline",onClick:_,className:"flex-1 py-6 rounded-xl font-arabic gap-2",children:[i.jsx(Bs,{className:"w-5 h-5"}),""]}),a<3?i.jsxs(K,{onClick:j,className:"flex-1 py-6 rounded-xl bg-primary hover:bg-primary/90 font-arabic gap-2",children:["",i.jsx(Vr,{className:"w-5 h-5"})]}):i.jsx(K,{onClick:N,disabled:o,className:"flex-1 py-6 rounded-xl gold-gradient text-white font-arabic gap-2",children:o?i.jsx(X.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}):i.jsxs(i.Fragment,{children:[i.jsx(Hg,{className:"w-5 h-5"})," "]})})]})]})})})}const Hxe=["XS","S","M","L","XL","XXL"];function qxe({open:e,onClose:t,filters:r,onApplyFilters:n}){const[a,s]=p.useState(r),{data:o=[],isLoading:l}=cw("public_dresses");p.useEffect(()=>{e&&s(r)},[e,r]);const c=m=>{s(v=>({...v,city:v.city===m?"":m}))},u=m=>{s(v=>({...v,size:v.size===m?"":m}))},d=m=>{s(v=>({...v,priceRange:[m[0],m[1]]}))},f=()=>{n(a),t()},h=()=>{const m={city:"",size:"",priceRange:[0,1e4]};s(m),n(m),t()};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl bg-card",children:[i.jsx(ur,{className:"text-right pb-4 border-b border-border/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:t,className:"p-2 hover:bg-muted rounded-full",children:i.jsx(Tt,{className:"w-5 h-5 text-muted-foreground"})}),i.jsx(Kt,{className:"font-display text-xl",children:" "})]})}),i.jsxs("div",{className:"py-6 space-y-8 overflow-y-auto max-h-[calc(85vh-180px)]",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(re,{className:"text-base font-semibold font-arabic block text-right",children:""}),l?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(ve,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):i.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[i.jsx("button",{onClick:()=>s(m=>({...m,city:""})),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${a.city===""?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:""}),o.map(m=>i.jsx("button",{onClick:()=>c(m),className:`px-4 py-2 rounded-full text-sm font-arabic transition-all ${a.city===m?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:m},m)),o.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:"    "})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(re,{className:"text-base font-semibold font-arabic block text-right",children:""}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:Hxe.map(m=>i.jsx("button",{onClick:()=>u(m),className:`w-12 h-12 rounded-xl text-sm font-medium transition-all ${a.size===m?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:m},m))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground font-arabic",children:[a.priceRange[0].toLocaleString()," - ",a.priceRange[1].toLocaleString()," "]}),i.jsx(re,{className:"text-base font-semibold font-arabic",children:" "})]}),i.jsx(Rp,{value:a.priceRange,onValueChange:d,min:0,max:1e4,step:100,className:"py-4"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground font-arabic",children:[i.jsx("span",{children:"10,000 "}),i.jsx("span",{children:"0 "})]})]})]}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-card border-t border-border/50 flex gap-3",children:[i.jsx(K,{variant:"outline",onClick:h,className:"flex-1 py-6 rounded-xl font-arabic",children:" "}),i.jsx(K,{onClick:f,className:"flex-1 py-6 rounded-xl bg-primary text-primary-foreground font-arabic",children:" "})]})]})})}var Z1="rovingFocusGroup.onEntryFocus",Kxe={bubbles:!1,cancelable:!0},cv="RovingFocusGroup",[JS,cW,Gxe]=th(cv),[Yxe,yh]=Dr(cv,[Gxe]),[Xxe,Zxe]=Yxe(cv),uW=p.forwardRef((e,t)=>i.jsx(JS.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(JS.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Qxe,{...e,ref:t})})}));uW.displayName=cv;var Qxe=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Oe(t,h),v=Hl(s),[g,x]=va({prop:o,defaultProp:l??null,onChange:c,caller:cv}),[b,y]=p.useState(!1),w=xr(u),j=cW(r),_=p.useRef(!1),[N,S]=p.useState(0);return p.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Z1,w),()=>k.removeEventListener(Z1,w)},[w]),i.jsx(Xxe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:g,onItemFocus:p.useCallback(k=>x(k),[x]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>S(k=>k-1),[]),children:i.jsx(me.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{_.current=!0}),onFocus:le(e.onFocus,k=>{const C=!_.current;if(k.target===k.currentTarget&&C&&!b){const A=new CustomEvent(Z1,Kxe);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const E=j().filter(O=>O.focusable),P=E.find(O=>O.active),F=E.find(O=>O.id===g),z=[P,F,...E].filter(Boolean).map(O=>O.ref.current);hW(z,d)}}_.current=!1}),onBlur:le(e.onBlur,()=>y(!1))})})}),dW="RovingFocusGroupItem",fW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ls(),u=s||c,d=Zxe(dW,r),f=d.currentTabStopId===u,h=cW(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),i.jsx(JS.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:le(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:le(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=t0e(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const j=w.indexOf(x.currentTarget);w=d.loop?r0e(w,j+1):w.slice(j+1)}setTimeout(()=>hW(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});fW.displayName=dW;var Jxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e0e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function t0e(e,t,r){const n=e0e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Jxe[n]}function hW(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function r0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var LA=uW,FA=fW,eC=["Enter"," "],n0e=["ArrowDown","PageUp","Home"],mW=["ArrowUp","PageDown","End"],a0e=[...n0e,...mW],s0e={ltr:[...eC,"ArrowRight"],rtl:[...eC,"ArrowLeft"]},i0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uv="Menu",[Dp,o0e,l0e]=th(uv),[Nu,pW]=Dr(uv,[l0e,ih,yh]),vw=ih(),gW=yh(),[c0e,Su]=Nu(uv),[u0e,dv]=Nu(uv),vW=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=vw(t),[c,u]=p.useState(null),d=p.useRef(!1),f=xr(s),h=Hl(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx(m6,{...l,children:i.jsx(c0e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(u0e,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};vW.displayName=uv;var d0e="MenuAnchor",BA=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=vw(r);return i.jsx(cE,{...a,...n,ref:t})});BA.displayName=d0e;var zA="MenuPortal",[f0e,yW]=Nu(zA,{forceMount:void 0}),xW=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Su(zA,t);return i.jsx(f0e,{scope:t,forceMount:r,children:i.jsx(hn,{present:r||s.open,children:i.jsx(Dg,{asChild:!0,container:a,children:n})})})};xW.displayName=zA;var us="MenuContent",[h0e,UA]=Nu(us),bW=p.forwardRef((e,t)=>{const r=yW(us,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Su(us,e.__scopeMenu),o=dv(us,e.__scopeMenu);return i.jsx(Dp.Provider,{scope:e.__scopeMenu,children:i.jsx(hn,{present:n||s.open,children:i.jsx(Dp.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(m0e,{...a,ref:t}):i.jsx(p0e,{...a,ref:t})})})})}),m0e=p.forwardRef((e,t)=>{const r=Su(us,e.__scopeMenu),n=p.useRef(null),a=Oe(t,n);return p.useEffect(()=>{const s=n.current;if(s)return hA(s)},[]),i.jsx(VA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:le(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),p0e=p.forwardRef((e,t)=>{const r=Su(us,e.__scopeMenu);return i.jsx(VA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),g0e=ru("MenuContent.ScrollLock"),VA=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=e,x=Su(us,r),b=dv(us,r),y=vw(r),w=gW(r),j=o0e(r),[_,N]=p.useState(null),S=p.useRef(null),k=Oe(t,S,x.onContentChange),C=p.useRef(0),A=p.useRef(""),E=p.useRef(0),P=p.useRef(null),F=p.useRef("right"),I=p.useRef(0),z=v?tw:p.Fragment,O=v?{as:g0e,allowPinchZoom:!0}:void 0,$=T=>{var Y,te;const U=A.current+T,R=j().filter(Z=>!Z.disabled),M=document.activeElement,B=(Y=R.find(Z=>Z.ref.current===M))==null?void 0:Y.textValue,V=R.map(Z=>Z.textValue),q=E0e(V,U,B),J=(te=R.find(Z=>Z.textValue===q))==null?void 0:te.ref.current;(function Z(ne){A.current=ne,window.clearTimeout(C.current),ne!==""&&(C.current=window.setTimeout(()=>Z(""),1e3))})(U),J&&setTimeout(()=>J.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),fA();const D=p.useCallback(T=>{var R,M;return F.current===((R=P.current)==null?void 0:R.side)&&P0e(T,(M=P.current)==null?void 0:M.area)},[]);return i.jsx(h0e,{scope:r,searchRef:A,onItemEnter:p.useCallback(T=>{D(T)&&T.preventDefault()},[D]),onItemLeave:p.useCallback(T=>{var U;D(T)||((U=S.current)==null||U.focus(),N(null))},[D]),onTriggerLeave:p.useCallback(T=>{D(T)&&T.preventDefault()},[D]),pointerGraceTimerRef:E,onPointerGraceIntentChange:p.useCallback(T=>{P.current=T},[]),children:i.jsx(z,{...O,children:i.jsx(Jb,{asChild:!0,trapped:a,onMountAutoFocus:le(s,T=>{var U;T.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(rh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(LA,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:le(c,T=>{b.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(uE,{role:"menu","aria-orientation":"vertical","data-state":IW(x.open),"data-radix-menu-content":"",dir:b.dir,...y,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:le(g.onKeyDown,T=>{const R=T.target.closest("[data-radix-menu-content]")===T.currentTarget,M=T.ctrlKey||T.altKey||T.metaKey,B=T.key.length===1;R&&(T.key==="Tab"&&T.preventDefault(),!M&&B&&$(T.key));const V=S.current;if(T.target!==V||!a0e.includes(T.key))return;T.preventDefault();const J=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);mW.includes(T.key)&&J.reverse(),C0e(J)}),onBlur:le(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:le(e.onPointerMove,Ip(T=>{const U=T.target,R=I.current!==T.clientX;if(T.currentTarget.contains(U)&&R){const M=T.clientX>I.current?"right":"left";F.current=M,I.current=T.clientX}}))})})})})})})});bW.displayName=us;var v0e="MenuGroup",WA=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(me.div,{role:"group",...n,ref:t})});WA.displayName=v0e;var y0e="MenuLabel",wW=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(me.div,{...n,ref:t})});wW.displayName=y0e;var t0="MenuItem",WD="menu.itemSelect",yw=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=p.useRef(null),o=dv(t0,e.__scopeMenu),l=UA(t0,e.__scopeMenu),c=Oe(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(WD,{bubbles:!0,cancelable:!0});f.addEventListener(WD,m=>n==null?void 0:n(m),{once:!0}),F2(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(jW,{...a,ref:c,disabled:r,onClick:le(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:le(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:le(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||eC.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});yw.displayName=t0;var jW=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=UA(t0,r),l=gW(r),c=p.useRef(null),u=Oe(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[s.children]),i.jsx(Dp.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(FA,{asChild:!0,...l,focusable:!n,children:i.jsx(me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:le(e.onPointerMove,Ip(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(e.onPointerLeave,Ip(v=>o.onItemLeave(v))),onFocus:le(e.onFocus,()=>f(!0)),onBlur:le(e.onBlur,()=>f(!1))})})})}),x0e="MenuCheckboxItem",_W=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(EW,{scope:e.__scopeMenu,checked:r,children:i.jsx(yw,{role:"menuitemcheckbox","aria-checked":r0(r)?"mixed":r,...a,ref:t,"data-state":qA(r),onSelect:le(a.onSelect,()=>n==null?void 0:n(r0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_W.displayName=x0e;var NW="MenuRadioGroup",[b0e,w0e]=Nu(NW,{value:void 0,onValueChange:()=>{}}),SW=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=xr(n);return i.jsx(b0e,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(WA,{...a,ref:t})})});SW.displayName=NW;var CW="MenuRadioItem",kW=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=w0e(CW,e.__scopeMenu),s=r===a.value;return i.jsx(EW,{scope:e.__scopeMenu,checked:s,children:i.jsx(yw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":qA(s),onSelect:le(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});kW.displayName=CW;var HA="MenuItemIndicator",[EW,j0e]=Nu(HA,{checked:!1}),AW=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=j0e(HA,r);return i.jsx(hn,{present:n||r0(s.checked)||s.checked===!0,children:i.jsx(me.span,{...a,ref:t,"data-state":qA(s.checked)})})});AW.displayName=HA;var _0e="MenuSeparator",PW=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});PW.displayName=_0e;var N0e="MenuArrow",OW=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=vw(r);return i.jsx(dE,{...a,...n,ref:t})});OW.displayName=N0e;var S0e="MenuSub",[UHe,TW]=Nu(S0e),ym="MenuSubTrigger",MW=p.forwardRef((e,t)=>{const r=Su(ym,e.__scopeMenu),n=dv(ym,e.__scopeMenu),a=TW(ym,e.__scopeMenu),s=UA(ym,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(BA,{asChild:!0,...u,children:i.jsx(jW,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":IW(r.open),...e,ref:Mb(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:le(e.onPointerMove,Ip(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:le(e.onPointerLeave,Ip(f=>{var m,v;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(v=r.content)==null?void 0:v.dataset.side,x=g==="right",b=x?-5:5,y=h[x?"left":"right"],w=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:le(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||s0e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});MW.displayName=ym;var RW="MenuSubContent",DW=p.forwardRef((e,t)=>{const r=yW(us,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Su(us,e.__scopeMenu),o=dv(us,e.__scopeMenu),l=TW(RW,e.__scopeMenu),c=p.useRef(null),u=Oe(t,c);return i.jsx(Dp.Provider,{scope:e.__scopeMenu,children:i.jsx(hn,{present:n||s.open,children:i.jsx(Dp.Slot,{scope:e.__scopeMenu,children:i.jsx(VA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:le(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:le(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:le(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=i0e[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});DW.displayName=RW;function IW(e){return e?"open":"closed"}function r0(e){return e==="indeterminate"}function qA(e){return r0(e)?"indeterminate":e?"checked":"unchecked"}function C0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function k0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function E0e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=k0e(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function A0e(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function P0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return A0e(r,t)}function Ip(e){return t=>t.pointerType==="mouse"?e(t):void 0}var O0e=vW,T0e=BA,M0e=xW,R0e=bW,D0e=WA,I0e=wW,$0e=yw,L0e=_W,F0e=SW,B0e=kW,z0e=AW,U0e=PW,V0e=OW,W0e=MW,H0e=DW,xw="DropdownMenu",[q0e]=Dr(xw,[pW]),Qn=pW(),[K0e,$W]=q0e(xw),LW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Qn(t),u=p.useRef(null),[d,f]=va({prop:a,defaultProp:s??!1,onChange:o,caller:xw});return i.jsx(K0e,{scope:t,triggerId:ls(),triggerRef:u,contentId:ls(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(O0e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};LW.displayName=xw;var FW="DropdownMenuTrigger",BW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=$W(FW,r),o=Qn(r);return i.jsx(T0e,{asChild:!0,...o,children:i.jsx(me.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Mb(t,s.triggerRef),onPointerDown:le(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:le(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BW.displayName=FW;var G0e="DropdownMenuPortal",zW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Qn(t);return i.jsx(M0e,{...n,...r})};zW.displayName=G0e;var UW="DropdownMenuContent",VW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$W(UW,r),s=Qn(r),o=p.useRef(!1);return i.jsx(R0e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:le(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VW.displayName=UW;var Y0e="DropdownMenuGroup",X0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(D0e,{...a,...n,ref:t})});X0e.displayName=Y0e;var Z0e="DropdownMenuLabel",WW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(I0e,{...a,...n,ref:t})});WW.displayName=Z0e;var Q0e="DropdownMenuItem",HW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx($0e,{...a,...n,ref:t})});HW.displayName=Q0e;var J0e="DropdownMenuCheckboxItem",qW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(L0e,{...a,...n,ref:t})});qW.displayName=J0e;var ebe="DropdownMenuRadioGroup",tbe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(F0e,{...a,...n,ref:t})});tbe.displayName=ebe;var rbe="DropdownMenuRadioItem",KW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(B0e,{...a,...n,ref:t})});KW.displayName=rbe;var nbe="DropdownMenuItemIndicator",GW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(z0e,{...a,...n,ref:t})});GW.displayName=nbe;var abe="DropdownMenuSeparator",YW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(U0e,{...a,...n,ref:t})});YW.displayName=abe;var sbe="DropdownMenuArrow",ibe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(V0e,{...a,...n,ref:t})});ibe.displayName=sbe;var obe="DropdownMenuSubTrigger",XW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(W0e,{...a,...n,ref:t})});XW.displayName=obe;var lbe="DropdownMenuSubContent",ZW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Qn(r);return i.jsx(H0e,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZW.displayName=lbe;var cbe=LW,ube=BW,dbe=zW,QW=VW,JW=WW,eH=HW,tH=qW,rH=KW,nH=GW,aH=YW,sH=XW,iH=ZW;const oH=cbe,lH=ube,fbe=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(sH,{ref:a,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Bs,{className:"ml-auto h-4 w-4"})]}));fbe.displayName=sH.displayName;const hbe=p.forwardRef(({className:e,...t},r)=>i.jsx(iH,{ref:r,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hbe.displayName=iH.displayName;const KA=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(dbe,{children:i.jsx(QW,{ref:n,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));KA.displayName=QW.displayName;const GA=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(eH,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));GA.displayName=eH.displayName;const mbe=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(tH,{ref:a,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nH,{children:i.jsx(It,{className:"h-4 w-4"})})}),t]}));mbe.displayName=tH.displayName;const pbe=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(rH,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nH,{children:i.jsx(OB,{className:"h-2 w-2 fill-current"})})}),t]}));pbe.displayName=rH.displayName;const cH=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(JW,{ref:n,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));cH.displayName=JW.displayName;const uH=p.forwardRef(({className:e,...t},r)=>i.jsx(aH,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));uH.displayName=aH.displayName;const gbe=20,HD=[{id:"newest",label:""},{id:"oldest",label:""},{id:"price_low",label:":  "},{id:"price_high",label:":  "}],vbe=[{id:"all",label:"",icon:""},{id:"wedding",label:"",icon:""},{id:"evening",label:"",icon:""},{id:"maternity",label:"",icon:""}];function ybe(){var B;const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(""),[d,f]=p.useState("all"),[h,m]=p.useState("all"),[v,g]=p.useState("all"),[x,b]=p.useState("newest"),[y,w]=p.useState({city:"",size:"",priceRange:[0,1e4]}),[j,_]=p.useState(!0),N=p.useRef(0);p.useEffect(()=>{const V=()=>{const q=window.scrollY;q>N.current&&q>100?_(!1):_(!0),N.current=q};return window.addEventListener("scroll",V,{passive:!0}),()=>{window.removeEventListener("scroll",V)}},[]);const S=p.useMemo(()=>{const V={};return d!=="all"&&(V.condition=d),v!=="all"&&(V.category=v),h!=="all"&&(V.city=h),y.city&&(V.city=y.city),y.size&&(V.size=y.size),V},[d,v,h,y.city,y.size]),k=p.useMemo(()=>{switch(x){case"oldest":return{column:"created_at",ascending:!0};case"price_low":return{column:"price",ascending:!0};case"price_high":return{column:"price",ascending:!1};default:return{column:"created_at",ascending:!1}}},[x]),{data:C,fetchNextPage:A,hasNextPage:E,isFetchingNextPage:P,isLoading:F,totalCount:I}=RA({queryKey:["dresses-paginated"],tableName:"public_dresses",pageSize:gbe,orderBy:k,filters:S,select:"*"}),z=DA(p.useCallback(()=>A(),[A]),E,P),O=p.useMemo(()=>C.filter(V=>!(c&&!(V.title.includes(c)||V.city.includes(c))||!(V.price>=y.priceRange[0]&&V.price<=y.priceRange[1]))),[C,c,y.priceRange]),$=[y.city,y.size,y.priceRange[0]>0||y.priceRange[1]<1e4].filter(Boolean).length,D=V=>{t(V),n(!0)},T=[{id:"all",label:"",icon:null},{id:"new",label:"",icon:yi},{id:"used",label:"",icon:Ks}],U=["all","",""," ",""],R=Mi(),M=p.useCallback(async()=>{await R.invalidateQueries({queryKey:["dresses-paginated"]})},[R]);return i.jsxs(i.Fragment,{children:[i.jsx(uw,{onRefresh:M,disabled:F,children:i.jsxs("div",{className:"min-h-screen bg-background pb-32",children:[i.jsxs("div",{className:"bg-gradient-to-b from-pink-500/10 via-primary/5 to-background pt-12 pb-6 px-4",children:[i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[i.jsx("h1",{className:"font-display text-2xl font-bold text-foreground mb-1",children:" "}),i.jsx("p",{className:"text-muted-foreground text-sm font-arabic",children:"      "})]}),i.jsxs("div",{className:"relative max-w-md mx-auto mb-4",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(ge,{placeholder:"  ...",value:c,onChange:V=>u(V.target.value),className:"pr-10 pl-10 py-5 rounded-xl bg-card border-border/50 text-right"}),i.jsxs("button",{onClick:()=>l(!0),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground relative",children:[i.jsx(Wg,{className:"w-5 h-5"}),$>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary text-primary-foreground text-[10px] rounded-full flex items-center justify-center",children:$})]})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-4",children:vbe.map(V=>i.jsxs("button",{onClick:()=>g(V.id),className:`px-3 py-2 rounded-full text-sm font-arabic flex items-center gap-1.5 transition-all ${v===V.id?"bg-primary text-primary-foreground shadow-md":"bg-card text-muted-foreground hover:bg-muted"}`,children:[i.jsx("span",{className:"text-sm",children:V.icon}),V.label]},V.id))}),i.jsx("div",{className:"flex justify-center gap-2 mb-4",children:T.map(V=>i.jsxs("button",{onClick:()=>f(V.id),className:`px-3 py-1.5 rounded-full text-xs font-arabic flex items-center gap-1 transition-all ${d===V.id?"bg-foreground text-background":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:[V.icon&&i.jsx(V.icon,{className:"w-3 h-3"}),V.label]},V.id))}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 px-1 scrollbar-hide",children:U.map(V=>i.jsx("button",{onClick:()=>m(V),className:`px-3 py-1.5 rounded-full text-xs font-arabic whitespace-nowrap transition-all ${h===V?"bg-foreground text-background":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:V==="all"?" ":V},V))})]}),i.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[i.jsxs(oH,{children:[i.jsxs(lH,{className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx(OJ,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic",children:(B=HD.find(V=>V.id===x))==null?void 0:B.label})]}),i.jsx(KA,{align:"start",className:"font-arabic",children:HD.map(V=>i.jsx(GA,{onClick:()=>b(V.id),className:x===V.id?"bg-muted":"",children:V.label},V.id))})]}),i.jsxs(Ce,{variant:"secondary",className:"font-arabic",children:[O.length," ",I>O.length?` ${I}`:""," "]})]}),i.jsx("div",{className:"px-4",children:F?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:4}).map((V,q)=>i.jsx(Tye,{},q))}):O.length>0?i.jsxs(i.Fragment,{children:[i.jsx(X.div,{className:"grid grid-cols-2 gap-4",layout:!0,children:i.jsx(Lt,{mode:"popLayout",children:O.map(V=>i.jsx(X.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:i.jsx(uxe,{dress:V,onClick:()=>D(V)})},V.id))})}),i.jsx(IA,{loadMoreRef:z,hasNextPage:E,isFetchingNextPage:P})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:i.jsx(qs,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("p",{className:"text-muted-foreground font-arabic mb-2",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground/70 font-arabic",children:"   "})]})})]})}),i.jsx(X.button,{initial:{scale:1,opacity:1},animate:{scale:j?1:0,opacity:j?1:0,y:j?0:20},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:200},onClick:()=>s(!0),className:"fixed bottom-44 left-4 gold-gradient text-white w-11 h-11 rounded-full shadow-2xl flex items-center justify-center z-40",children:i.jsx(Sr,{className:"w-5 h-5"})}),i.jsx(S9,{dress:e,open:r,onClose:()=>n(!1)}),i.jsx(Wxe,{open:a,onClose:()=>s(!1)}),i.jsx(qxe,{open:o,onClose:()=>l(!1),filters:y,onApplyFilters:w})]})}var bw="Collapsible",[xbe,dH]=Dr(bw),[bbe,YA]=xbe(bw),fH=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=va({prop:n,defaultProp:a??!1,onChange:o,caller:bw});return i.jsx(bbe,{scope:r,disabled:s,contentId:ls(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(me.div,{"data-state":JA(c),"data-disabled":s?"":void 0,...l,ref:t})})});fH.displayName=bw;var hH="CollapsibleTrigger",XA=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=YA(hH,r);return i.jsx(me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":JA(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:le(e.onClick,a.onOpenToggle)})});XA.displayName=hH;var ZA="CollapsibleContent",QA=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=YA(ZA,e.__scopeCollapsible);return i.jsx(hn,{present:r||a.open,children:({present:s})=>i.jsx(wbe,{...n,ref:t,present:s})})});QA.displayName=ZA;var wbe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=YA(ZA,r),[l,c]=p.useState(n),u=p.useRef(null),d=Oe(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),v=m.current,g=o.open||l,x=p.useRef(g),b=p.useRef(void 0);return p.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),br(()=>{const y=u.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(n)}},[o.open,n]),i.jsx(me.div,{"data-state":JA(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&a})});function JA(e){return e?"open":"closed"}var mH=fH,jbe=XA,_be=QA;const pH=mH,gH=XA,vH=QA,Nbe=[...dw,...fw],Sbe=[{id:"halls",label:"",icon:cn},{id:"services",label:"",icon:hp},{id:"dresses",label:"",icon:Z2}];function Cbe(){const{user:e}=at(),{favorites:t,loading:r,toggleFavorite:n}=hU(),{favorites:a,loading:s,toggleFavorite:o}=QV(),{favorites:l,loading:c,toggleFavorite:u}=N9(),[d,f]=p.useState("halls"),[h,m]=p.useState([]),[v,g]=p.useState([]),[x,b]=p.useState([]),[y,w]=p.useState(!0),[j,_]=p.useState(null),[N,S]=p.useState(!1),[k,C]=p.useState(null),[A,E]=p.useState(!1),[P,F]=p.useState(null),[I,z]=p.useState(!1);p.useEffect(()=>{t.length>0&&!r?O():r||(m([]),d==="halls"&&w(!1))},[t,r]),p.useEffect(()=>{a.length>0&&!s?$():s||(g([]),d==="services"&&w(!1))},[a,s]),p.useEffect(()=>{l.length>0&&!c?D():c||(b([]),d==="dresses"&&w(!1))},[l,c]);const O=async()=>{w(!0);try{const{data:q,error:J}=await W.from("halls").select("*").in("id",t).eq("is_active",!0);if(J)throw J;m(q||[])}catch(q){console.error("Error fetching favorite halls:",q)}finally{w(!1)}},$=async()=>{w(!0);try{const{data:q,error:J}=await W.from("service_providers").select("*").in("id",a).eq("is_active",!0);if(J)throw J;g(q||[])}catch(q){console.error("Error fetching favorite services:",q)}finally{w(!1)}},D=async()=>{w(!0);try{const{data:q,error:J}=await W.from("dresses").select("*").in("id",l).eq("is_active",!0).eq("is_sold",!1);if(J)throw J;b(q||[])}catch(q){console.error("Error fetching favorite dresses:",q)}finally{w(!1)}},T=q=>{const J={id:q.id,nameAr:q.name_ar,nameEn:q.name_en||"",city:q.city,cityAr:q.city,image:q.cover_image||"/placeholder.svg",price:q.price_weekday,priceWeekend:q.price_weekend,capacityMen:q.capacity_men,capacityWomen:q.capacity_women,rating:0,reviews:0,features:q.features||[],availability:[],phone:q.phone,whatsapp_enabled:q.whatsapp_enabled};_(J),S(!0)},U=q=>{const J={id:q.id,nameAr:q.name_ar,name:q.name_en,descriptionAr:q.description,rating:Number(q.rating)||0,reviews:q.reviews_count||0,city:q.city,phone:q.phone,portfolio_images:q.portfolio_images};C(J),E(!0)},R=q=>{const J={id:q.id,title:q.title,price:q.price,size:q.size,city:q.city,phone:"",sellerName:"",description:q.description||"",images:q.images||["/placeholder.svg"]};F(J),z(!0)},M=()=>t.length+a.length+l.length,B=q=>{switch(q){case"halls":return t.length;case"services":return a.length;case"dresses":return l.length}},V=()=>{switch(d){case"halls":return y||r;case"services":return y||s;case"dresses":return y||c}};return e?i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsx("div",{className:"bg-gradient-to-b from-primary/10 to-background px-4 pt-12 pb-6",children:i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full gold-gradient flex items-center justify-center shadow-lg",children:i.jsx(Hs,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"font-display text-3xl font-bold text-foreground mb-1",children:""}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:M()>0?`${M()}  `:"   "})]})}),i.jsx("div",{className:"px-4 py-3 sticky top-0 bg-background/95 backdrop-blur-sm z-10 border-b border-border/50",children:i.jsx("div",{className:"flex gap-2",children:Sbe.map(q=>{const J=q.icon,Y=B(q.id),te=d===q.id;return i.jsxs(X.button,{onClick:()=>f(q.id),className:`flex-1 py-3 px-4 rounded-xl font-arabic text-sm transition-all relative ${te?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,whileTap:{scale:.97},children:[i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx(J,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:q.label})]}),Y>0&&i.jsx(Ce,{className:`absolute -top-1 -right-1 w-5 h-5 p-0 flex items-center justify-center text-[10px] ${te?"bg-background text-primary":"bg-primary text-primary-foreground"}`,children:Y})]},q.id)})})}),i.jsx(Lt,{mode:"wait",children:V()?i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-20",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})},"loading"):i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[d==="halls"&&i.jsx(kbe,{halls:h,onHallClick:T,onRemove:n}),d==="services"&&i.jsx(Ebe,{services:v,onServiceClick:U,onRemove:o}),d==="dresses"&&i.jsx(Abe,{dresses:x,onDressClick:R,onRemove:u})]},d)}),i.jsx(RV,{hall:j,open:N,onOpenChange:S}),i.jsx(_9,{vendor:k,open:A,onOpenChange:E}),i.jsx(S9,{dress:P,open:I,onClose:()=>z(!1)})]}):i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsx("div",{className:"bg-gradient-to-b from-primary/10 to-background px-4 pt-12 pb-8",children:i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full gold-gradient flex items-center justify-center shadow-lg",children:i.jsx(Hs,{className:"w-10 h-10 text-white"})}),i.jsx("h1",{className:"font-display text-3xl font-bold text-foreground mb-2",children:""})]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-2 text-center",children:" "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-center",children:"      "})]})]})}function kbe({halls:e,onHallClick:t,onRemove:r}){return e.length===0?i.jsx(eP,{icon:cn,title:"   ",message:"        "}):i.jsx("div",{className:"p-4 space-y-4",children:e.map((n,a)=>{var s;return i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"card-luxe rounded-2xl overflow-hidden",children:i.jsxs("div",{className:"relative cursor-pointer",onClick:()=>t(n),children:[i.jsxs("div",{className:"relative h-40 overflow-hidden",children:[i.jsx("img",{src:n.cover_image||"/placeholder.svg",alt:n.name_ar,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-3 left-3 gold-gradient px-3 py-1.5 rounded-full shadow-lg",children:i.jsxs("span",{className:"text-sm font-bold text-white",children:["SAR ",(s=n.price_weekday)==null?void 0:s.toLocaleString()]})}),i.jsx("button",{onClick:o=>{o.stopPropagation(),r(n.id)},className:"absolute top-3 right-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-colors",children:i.jsx(Hs,{className:"w-5 h-5 text-red-500 fill-red-500"})}),i.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-white mb-1 text-right",children:n.name_ar}),i.jsxs("div",{className:"flex items-center gap-1 justify-end text-white/90",children:[i.jsx("span",{className:"text-sm",children:n.city}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[i.jsxs("span",{className:"font-arabic",children:[" ",n.capacity_men]}),i.jsx(Ot,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[i.jsxs("span",{className:"font-arabic",children:[" ",n.capacity_women]}),i.jsx(Ot,{className:"w-4 h-4"})]})]}),i.jsxs(K,{size:"sm",variant:"outline",onClick:o=>{o.stopPropagation(),r(n.id)},className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:[i.jsx(ma,{className:"w-4 h-4 ml-1"}),i.jsx("span",{className:"font-arabic",children:""})]})]})})]})},n.id)})})}function Ebe({services:e,onServiceClick:t,onRemove:r}){const[n,a]=p.useState({}),s=p.useMemo(()=>{const l={};return e.forEach(c=>{const u=c.category_id;if(!l[u]){const d=Nbe.find(f=>f.id===u);l[u]={category:d||null,services:[]}}l[u].services.push(c)}),l},[e]);p.useEffect(()=>{const l={};Object.keys(s).forEach(c=>{l[c]=!0}),a(l)},[s]);const o=l=>{a(c=>({...c,[l]:!c[l]}))};return e.length===0?i.jsx(eP,{icon:hp,title:"   ",message:"        "}):i.jsx("div",{className:"p-4 space-y-4",children:Object.entries(s).map(([l,{category:c,services:u}],d)=>{const f=(c==null?void 0:c.icon)||hp,h=n[l]??!0;return i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"overflow-hidden",children:i.jsxs(pH,{open:h,onOpenChange:()=>o(l),children:[i.jsx(gH,{asChild:!0,children:i.jsxs("button",{className:`w-full flex items-center justify-between p-4 rounded-2xl mb-2 transition-all ${c?`bg-gradient-to-r ${c.color} text-white`:"bg-muted"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[h?i.jsx(AB,{className:"w-5 h-5"}):i.jsx(Ml,{className:"w-5 h-5"}),i.jsx(Ce,{variant:"secondary",className:"bg-white/20 text-white border-0",children:u.length})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-display font-bold text-lg",children:(c==null?void 0:c.nameAr)||l}),i.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:i.jsx(f,{className:"w-5 h-5"})})]})]})}),i.jsx(vH,{children:i.jsx("div",{className:"space-y-3 pr-2",children:u.map((m,v)=>{var g,x;return i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"card-luxe rounded-xl overflow-hidden cursor-pointer",onClick:()=>t(m),children:i.jsxs("div",{className:"flex gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:i.jsx("img",{src:((g=m.portfolio_images)==null?void 0:g[0])||"/placeholder.svg",alt:m.name_ar,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 text-right min-w-0",children:[i.jsx("h3",{className:"font-display text-base font-bold text-foreground mb-1 truncate",children:m.name_ar}),i.jsxs("div",{className:"flex items-center justify-end gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:((x=Number(m.rating))==null?void 0:x.toFixed(1))||"0.0"}),i.jsx(Zr,{className:"w-3.5 h-3.5 text-amber-500 fill-amber-500"}),m.city&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-muted-foreground text-xs",children:""}),i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-xs",children:[i.jsx("span",{children:m.city}),i.jsx(wr,{className:"w-3 h-3"})]})]})]}),i.jsx("p",{className:"text-muted-foreground text-xs line-clamp-1 font-arabic",children:m.description})]}),i.jsx("button",{onClick:b=>{b.stopPropagation(),r(m.id)},className:"self-center w-8 h-8 bg-red-50 rounded-full flex items-center justify-center hover:bg-red-100 transition-colors flex-shrink-0",children:i.jsx(Hs,{className:"w-4 h-4 text-red-500 fill-red-500"})})]})},m.id)})})})]})},l)})})}function Abe({dresses:e,onDressClick:t,onRemove:r}){return e.length===0?i.jsx(eP,{icon:Z2,title:"   ",message:"        "}):i.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:e.map((n,a)=>{var o;const s=n.condition==="new";return i.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:a*.05},className:"bg-card rounded-2xl overflow-hidden shadow-lg border border-border/30 cursor-pointer group relative",onClick:()=>t(n),children:[i.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[i.jsx("img",{src:((o=n.images)==null?void 0:o[0])||"/placeholder.svg",alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),i.jsxs("div",{className:`absolute top-2 right-2 px-2.5 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 ${s?"bg-emerald-500 text-white":"bg-amber-500 text-white"}`,children:[s?i.jsx(yi,{className:"w-3 h-3"}):i.jsx(Ks,{className:"w-3 h-3"}),s?"":""]}),i.jsx("button",{onClick:l=>{l.stopPropagation(),r(n.id)},className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-md",children:i.jsx(Hs,{className:"w-4 h-4 text-rose-500 fill-rose-500"})}),i.jsx("div",{className:"absolute bottom-2 right-2 gold-gradient px-2.5 py-1 rounded-full shadow-lg",children:i.jsxs("span",{className:"text-xs font-bold text-white",children:[n.price.toLocaleString()," ."]})})]}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx("h3",{className:"font-arabic font-semibold text-foreground text-sm line-clamp-1 text-right",children:n.title}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"bg-muted px-2 py-0.5 rounded-full font-medium",children:n.size}),i.jsxs("span",{className:"flex items-center gap-1",children:[n.city,i.jsx(wr,{className:"w-3 h-3"})]})]})]})]},n.id)})})}function eP({icon:e,title:t,message:r}){return i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(e,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-muted-foreground font-arabic text-center max-w-xs text-sm",children:r})]})}const Pbe=[{role:"hall_owner",icon:cn,label:" ",description:"    "},{role:"service_provider",icon:hp,label:" ",description:"   "},{role:"dress_seller",icon:hs,label:" ",description:"    "}];function Obe({open:e,onOpenChange:t}){const{user:r}=at(),{toast:n}=Ke(),[a,s]=p.useState(1),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(""),[h,m]=p.useState(""),[v,g]=p.useState(!1),x=w=>{l(w),s(2)},b=async w=>{if(w.preventDefault(),!(!r||!o)){u(!0);try{const{error:j}=await W.from("vendor_applications").insert({user_id:r.id,role:o,business_name:d,business_description:h});if(j){if(j.code==="23505")n({title:" ",description:"     ",variant:"destructive"});else throw j;return}g(!0),n({title:"  !",description:"    "})}catch{n({title:"",description:"    ",variant:"destructive"})}finally{u(!1)}}},y=()=>{t(!1),setTimeout(()=>{s(1),l(null),f(""),m(""),g(!1)},300)};return i.jsx(Mt,{open:e,onOpenChange:y,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-6",children:i.jsx(Kt,{className:"font-display text-2xl",children:v?"  ":a===1?"  ":" "})}),i.jsx(Lt,{mode:"wait",children:v?i.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full gold-gradient flex items-center justify-center",children:i.jsx(It,{className:"w-10 h-10 text-white"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:" !"}),i.jsx("p",{className:"text-muted-foreground font-arabic mb-6",children:"     24-48 "}),i.jsx(K,{onClick:y,className:"gold-gradient text-white",children:i.jsx("span",{className:"font-arabic",children:""})})]},"success"):a===1?i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-6",children:"     "}),Pbe.map(w=>{const j=w.icon;return i.jsxs("button",{onClick:()=>x(w.role),className:"w-full card-luxe rounded-xl p-5 flex items-center gap-4 hover:shadow-lg transition-all text-right",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl gold-gradient flex items-center justify-center flex-shrink-0",children:i.jsx(j,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:w.label}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:w.description})]})]},w.role)})]},"step1"):i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsxs("button",{onClick:()=>s(1),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6",children:[i.jsx(Ib,{className:"w-4 h-4 rotate-180"}),i.jsx("span",{className:"font-arabic text-sm",children:""})]}),i.jsxs("form",{onSubmit:b,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  "}),i.jsx(ge,{value:d,onChange:w=>f(w.target.value),placeholder:"   ",className:"text-right font-arabic",required:!0,dir:"rtl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(Sn,{value:h,onChange:w=>m(w.target.value),placeholder:"     ",className:"text-right font-arabic min-h-[120px]",dir:"rtl"})]}),i.jsx(K,{type:"submit",disabled:c||!d,className:"w-full gold-gradient text-white py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:c?" ...":" "})})]})]},"step2")})]})})}var ww="Tabs",[Tbe]=Dr(ww,[yh]),yH=yh(),[Mbe,tP]=Tbe(ww),xH=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Hl(l),[f,h]=va({prop:n,onChange:a,defaultProp:s??"",caller:ww});return i.jsx(Mbe,{scope:r,baseId:ls(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:t})})});xH.displayName=ww;var bH="TabsList",wH=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=tP(bH,r),o=yH(r);return i.jsx(LA,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(me.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});wH.displayName=bH;var jH="TabsTrigger",_H=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=tP(jH,r),l=yH(r),c=CH(o.baseId,n),u=kH(o.baseId,n),d=n===o.value;return i.jsx(FA,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:le(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:le(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});_H.displayName=jH;var NH="TabsContent",SH=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=tP(NH,r),c=CH(l.baseId,n),u=kH(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(hn,{present:a||d,children:({present:h})=>i.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});SH.displayName=NH;function CH(e,t){return`${e}-trigger-${t}`}function kH(e,t){return`${e}-content-${t}`}var Rbe=xH,EH=wH,AH=_H,PH=SH;const fv=Rbe,xh=p.forwardRef(({className:e,...t},r)=>i.jsx(EH,{ref:r,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xh.displayName=EH.displayName;const pa=p.forwardRef(({className:e,...t},r)=>i.jsx(AH,{ref:r,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));pa.displayName=AH.displayName;const ga=p.forwardRef(({className:e,...t},r)=>i.jsx(PH,{ref:r,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ga.displayName=PH.displayName;var jw="Switch",[Dbe]=Dr(jw),[Ibe,$be]=Dbe(jw),OH=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),v=Oe(t,w=>m(w)),g=p.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,y]=va({prop:a,defaultProp:s??!1,onChange:u,caller:jw});return i.jsxs(Ibe,{scope:r,checked:b,disabled:l,children:[i.jsx(me.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":DH(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:le(e.onClick,w=>{y(j=>!j),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&i.jsx(RH,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});OH.displayName=jw;var TH="SwitchThumb",MH=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=$be(TH,r);return i.jsx(me.span,{"data-state":DH(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});MH.displayName=TH;var Lbe="SwitchBubbleInput",RH=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=p.useRef(null),l=Oe(o,s),c=lv(r),u=Kg(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RH.displayName=Lbe;function DH(e){return e?"checked":"unchecked"}var IH=OH,Fbe=MH;const Oa=p.forwardRef(({className:e,...t},r)=>i.jsx(IH,{className:oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(Fbe,{className:oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Oa.displayName=IH.displayName;const Un=vA,Bbe=yA,$H=p.forwardRef(({className:e,...t},r)=>i.jsx(tv,{ref:r,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$H.displayName=tv.displayName;const Rn=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Bbe,{children:[i.jsx($H,{}),i.jsxs(rv,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(nw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rn.displayName=rv.displayName;const Vn=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vn.displayName="DialogHeader";const Wn=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wn.displayName="DialogFooter";const Hn=p.forwardRef(({className:e,...t},r)=>i.jsx(nv,{ref:r,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Hn.displayName=nv.displayName;const Cc=p.forwardRef(({className:e,...t},r)=>i.jsx(av,{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));Cc.displayName=av.displayName;function tC({type:e}){var We,$r;const{user:t}=at(),{toast:r}=Ke(),n=Mi(),[a,s]=p.useState(new Date),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[x,b]=p.useState(10),[y,w]=p.useState(!1),[j,_]=p.useState(""),[N,S]=p.useState(!1),[k,C]=p.useState(!1),[A,E]=p.useState(!1),[P,F]=p.useState({customerName:"",phone:"",bookingDate:"",totalPrice:"",notes:"",depositPaid:!1,guestCountMen:"",guestCountWomen:""}),[I,z]=p.useState(!1),[O,$]=p.useState(null),[D,T]=p.useState(!1),U=ki(new Date),{data:R}=Bn({queryKey:[e==="hall"?"my-halls":"my-service-providers",t==null?void 0:t.id],queryFn:async()=>{if(e==="hall"){const{data:Q,error:pe}=await W.from("halls").select("id, name_ar").eq("owner_id",t==null?void 0:t.id);if(pe)throw pe;return Q}else{const{data:Q,error:pe}=await W.from("service_providers").select("id, name_ar").eq("owner_id",t==null?void 0:t.id);if(pe)throw pe;return Q}},enabled:!!(t!=null&&t.id)}),M=(R==null?void 0:R.map(Q=>Q.id))||[],{data:B=[],isLoading:V,refetch:q}=Bn({queryKey:[`${e}-bookings-calendar`,M,fe(a,"yyyy-MM")],queryFn:async()=>{if(!M.length)return[];const Q=fe(or(a),"yyyy-MM-dd"),pe=fe(Us(a),"yyyy-MM-dd");if(e==="hall"){const{data:Fe,error:st}=await W.from("hall_bookings").select(`
            *,
            halls (name_ar)
          `).in("hall_id",M).gte("booking_date",Q).lte("booking_date",pe).order("booking_date");if(st)throw st;const pt=[...new Set((Fe||[]).map(Ze=>Ze.user_id))],{data:ar}=await W.from("profiles").select("id, full_name, phone").in("id",pt),ot=new Map((ar==null?void 0:ar.map(Ze=>[Ze.id,Ze]))||[]);return(Fe||[]).map(Ze=>({...Ze,profiles:ot.get(Ze.user_id)||null}))}else{const{data:Fe,error:st}=await W.from("service_bookings").select(`
            *,
            service_packages (name_ar)
          `).in("provider_id",M).gte("booking_date",Q).lte("booking_date",pe).order("booking_date");if(st)throw st;const pt=[...new Set((Fe||[]).map(Ze=>Ze.user_id))],{data:ar}=await W.from("profiles").select("id, full_name, phone").in("id",pt),ot=new Map((ar==null?void 0:ar.map(Ze=>[Ze.id,Ze]))||[]);return(Fe||[]).map(Ze=>({...Ze,profiles:ot.get(Ze.user_id)||null}))}},enabled:M.length>0}),{data:J=[]}=Bn({queryKey:[`${e}-availability`,M,fe(a,"yyyy-MM")],queryFn:async()=>{if(!M.length)return[];const Q=fe(or(a),"yyyy-MM-dd"),pe=fe(Us(a),"yyyy-MM-dd");if(e==="hall"){const{data:Fe,error:st}=await W.from("hall_availability").select("*").in("hall_id",M).gte("date",Q).lte("date",pe);if(st)throw st;return Fe||[]}else{const{data:Fe,error:st}=await W.from("service_provider_availability").select("*").in("provider_id",M).gte("date",Q).lte("date",pe);if(st)throw st;return Fe||[]}},enabled:M.length>0}),Y=Q=>{const pe=fe(Q,"yyyy-MM-dd");return J.some(Fe=>Fe.date===pe&&Fe.status==="unavailable")},te=hf({mutationFn:async({bookingId:Q,updates:pe})=>{const Fe=e==="hall"?"hall_bookings":"service_bookings",{error:st}=await W.from(Fe).update({...pe,updated_at:new Date().toISOString()}).eq("id",Q);if(st)throw st},onSuccess:()=>{n.invalidateQueries({queryKey:[`${e}-bookings-calendar`]}),r({title:" ",description:"   "})},onError:()=>{r({title:"",description:"  ",variant:"destructive"})}}),Z=lA({start:or(a),end:Us(a)}),ne=Q=>B.filter(pe=>Gr(new Date(pe.booking_date),Q)),ee=o?ne(o):[],G=Q=>{switch(Q){case"pending":return"bg-amber-500";case"accepted":case"confirmed":return"bg-green-500";case"rejected":return"bg-red-500";case"cancelled":return"bg-gray-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},_e=Q=>{switch(Q){case"pending":return" ";case"accepted":case"confirmed":return"";case"rejected":return"";case"cancelled":return"";case"completed":return"";default:return Q}},ie=Q=>{const pe=ne(Q),Fe=Zi(Q,U),st=Y(Q);pe.length>0?(l(Q),u(!0)):(!Fe||st)&&($(Q),z(!0))},he=()=>{O&&(F({customerName:"",phone:"",bookingDate:fe(O,"yyyy-MM-dd"),totalPrice:"",notes:"",depositPaid:!1,guestCountMen:"",guestCountWomen:""}),C(!1),z(!1),S(!0))},ke=async()=>{if(!O||!(R!=null&&R.length))return;T(!0);const Q=R[0].id,pe=fe(O,"yyyy-MM-dd"),Fe=Y(O);try{e==="hall"?Fe?await W.from("hall_availability").delete().eq("hall_id",Q).eq("date",pe):await W.from("hall_availability").upsert({hall_id:Q,date:pe,status:"unavailable",notes:" "},{onConflict:"hall_id,date"}):Fe?await W.from("service_provider_availability").delete().eq("provider_id",Q).eq("date",pe):await W.from("service_provider_availability").upsert({provider_id:Q,date:pe,status:"unavailable",notes:" "},{onConflict:"provider_id,date"}),r({title:Fe?"  ":"  ",description:Fe?"     ":"      "}),n.invalidateQueries({queryKey:[`${e}-availability`]}),z(!1)}catch{r({title:"",description:"   ",variant:"destructive"})}finally{T(!1)}},Qe=Q=>{f(Q),w(e==="hall"&&Q.stripe_payment_id!==null),_(Q.notes||""),m(!0)},et=(Q,pe)=>{te.mutate({bookingId:Q,updates:{status:pe}}),m(!1),f(null)},Ve=()=>{d&&(te.mutate({bookingId:d.id,updates:{notes:j,stripe_payment_id:y?"manual_deposit":null}}),m(!1),f(null))},ht=async()=>{if(d){if(e==="hall"){const Q=d;await W.from("hall_availability").upsert({hall_id:Q.hall_id,date:d.booking_date,status:"resale",notes:`   ${x}%`,resale_discount:x},{onConflict:"hall_id,date"})}else{const Q=d;await W.from("service_provider_availability").upsert({provider_id:Q.provider_id,date:d.booking_date,status:"available",notes:`   ${x}%`},{onConflict:"provider_id,date"})}te.mutate({bookingId:d.id,updates:{status:"cancelled"}}),r({title:"   ",description:`    ${x}%`}),g(!1),m(!1),f(null),b(10)}},Rt=async()=>{if(!P.customerName||!P.bookingDate||!(R!=null&&R.length)){r({title:"",description:"    ",variant:"destructive"});return}const Q=R[0].id;try{if(e==="hall"){const{error:pe}=await W.from("hall_bookings").insert({hall_id:Q,user_id:t==null?void 0:t.id,booking_date:P.bookingDate,status:"accepted",total_price:parseInt(P.totalPrice)||0,notes:`  - ${P.customerName}${P.phone?` - ${P.phone}`:""}${P.notes?`
${P.notes}`:""}`,guest_count_men:parseInt(P.guestCountMen)||0,guest_count_women:parseInt(P.guestCountWomen)||0,stripe_payment_id:P.depositPaid?"external_deposit":null});if(pe)throw pe;await W.from("hall_availability").upsert({hall_id:Q,date:P.bookingDate,status:"booked",notes:`  - ${P.customerName}`},{onConflict:"hall_id,date"})}else{const{error:pe}=await W.from("service_bookings").insert({provider_id:Q,user_id:t==null?void 0:t.id,booking_date:P.bookingDate,status:"confirmed",total_price:parseInt(P.totalPrice)||0,notes:`  - ${P.customerName}${P.phone?` - ${P.phone}`:""}${P.notes?`
${P.notes}`:""}`});if(pe)throw pe;await W.from("service_provider_availability").upsert({provider_id:Q,date:P.bookingDate,status:"booked",notes:`  - ${P.customerName}`},{onConflict:"provider_id,date"})}r({title:" ",description:"    "}),S(!1),F({customerName:"",phone:"",bookingDate:"",totalPrice:"",notes:"",depositPaid:!1,guestCountMen:"",guestCountWomen:""}),q()}catch{r({title:"",description:"  ",variant:"destructive"})}},mt=Q=>{var pe;return((pe=Q.notes)==null?void 0:pe.includes("  -"))||!1},At=Q=>{var _r,Ee;const Fe=(Q.notes||"").split(`
`),pt=(Fe[0]||"").match(/  - ([^-]+)(?:\s*-\s*(.+))?/),ar=((_r=pt==null?void 0:pt[1])==null?void 0:_r.trim())||"",ot=((Ee=pt==null?void 0:pt[2])==null?void 0:Ee.trim())||"",Ze=Fe.slice(1).join(`
`).trim();return{customerName:ar,phone:ot,remainingNotes:Ze}},jr=Q=>{const{customerName:pe,phone:Fe,remainingNotes:st}=At(Q),pt=Q;F({customerName:pe,phone:Fe,bookingDate:Q.booking_date,totalPrice:String(Q.total_price||""),notes:st,depositPaid:e==="hall"&&pt.stripe_payment_id!==null,guestCountMen:String(pt.guest_count_men||""),guestCountWomen:String(pt.guest_count_women||"")}),C(!0),S(!0),m(!1)},Ir=async()=>{if(!d||!P.customerName||!P.bookingDate){r({title:"",description:"    ",variant:"destructive"});return}try{const Q=e==="hall"?"hall_bookings":"service_bookings",pe=`  - ${P.customerName}${P.phone?` - ${P.phone}`:""}${P.notes?`
${P.notes}`:""}`,Fe={booking_date:P.bookingDate,total_price:parseInt(P.totalPrice)||0,notes:pe,updated_at:new Date().toISOString()};e==="hall"&&(Fe.guest_count_men=parseInt(P.guestCountMen)||0,Fe.guest_count_women=parseInt(P.guestCountWomen)||0,Fe.stripe_payment_id=P.depositPaid?"external_deposit":null);const{error:st}=await W.from(Q).update(Fe).eq("id",d.id);if(st)throw st;r({title:" ",description:"    "}),Dt(),q()}catch{r({title:"",description:"  ",variant:"destructive"})}},Nt=async()=>{if(d)try{const Q=e==="hall"?"hall_bookings":"service_bookings",{error:pe}=await W.from(Q).delete().eq("id",d.id);if(pe)throw pe;if(e==="hall"){const Fe=d;await W.from("hall_availability").delete().eq("hall_id",Fe.hall_id).eq("date",d.booking_date)}else{const Fe=d;await W.from("service_provider_availability").delete().eq("provider_id",Fe.provider_id).eq("date",d.booking_date)}r({title:" ",description:"   "}),E(!1),m(!1),f(null),q()}catch{r({title:"",description:"  ",variant:"destructive"})}},Dt=()=>{S(!1),C(!1),f(null),F({customerName:"",phone:"",bookingDate:"",totalPrice:"",notes:"",depositPaid:!1,guestCountMen:"",guestCountWomen:""})},Jn=(Q,pe)=>{if(!Q)return;const Fe=encodeURIComponent(`  : ${pe}`);window.open(`https://wa.me/${Q.replace(/\D/g,"")}?text=${Fe}`,"_blank")},ea=or(a).getDay(),ja=["","","","","","",""],be=B.filter(Q=>Q.status==="pending").length,xt=B.filter(Q=>Q.status==="accepted"||Q.status==="confirmed").length,dr=B.filter(Q=>Q.stripe_payment_id!==null).length;return V?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs(Me,{className:"p-3 text-center bg-muted/50",children:[i.jsx("div",{className:"text-xl font-bold text-foreground",children:B.length}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]}),i.jsxs(Me,{className:"p-3 text-center bg-amber-500/10",children:[i.jsx("div",{className:"text-xl font-bold text-amber-600",children:be}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:" "})]}),i.jsxs(Me,{className:"p-3 text-center bg-green-500/10",children:[i.jsx("div",{className:"text-xl font-bold text-green-600",children:xt}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]}),i.jsxs(Me,{className:"p-3 text-center bg-primary/10",children:[i.jsx("div",{className:"text-xl font-bold text-primary",children:dr}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:" "})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(sn(a,1)),children:i.jsx(Vr,{className:"w-5 h-5"})}),i.jsxs(K,{size:"sm",onClick:()=>S(!0),className:"gap-1",children:[i.jsx(Sr,{className:"w-4 h-4"})," "]})]}),i.jsx("h2",{className:"font-display text-lg font-bold text-foreground",children:fe(a,"MMMM yyyy",{locale:Je})}),i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(vme(a)),children:i.jsx(Bs,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3 text-xs flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-500"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-400"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Om,{className:"w-2.5 h-2.5 text-red-500"}),i.jsx("span",{children:""})]})]}),i.jsx(Me,{children:i.jsxs(He,{className:"p-2",children:[i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:ja.map(Q=>i.jsx("div",{className:"text-center text-[10px] font-medium text-muted-foreground py-1",children:Q},Q))}),i.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:ea}).map((Q,pe)=>i.jsx("div",{className:"min-h-[70px]"},`empty-${pe}`)),Z.map((Q,pe)=>{var tt;const Fe=ne(Q),st=Fe.length>0,pt=Fe[0],ar=Zi(Q,U),ot=Y(Q),Ze=(tt=pt==null?void 0:pt.profiles)==null?void 0:tt.full_name,_r=pt==null?void 0:pt.notes,Ee=e==="hall"&&pt&&pt.stripe_payment_id!==null,Ue=pt==null?void 0:pt.status;return i.jsxs(X.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:pe*.003},onClick:()=>ie(Q),disabled:ar&&!st&&!ot,className:oe("min-h-[70px] rounded-lg flex flex-col items-stretch p-1 relative transition-all text-right",sy(Q)&&"ring-2 ring-primary",st&&"cursor-pointer hover:shadow-md",ot&&!st&&"cursor-pointer bg-red-100 dark:bg-red-950/30 hover:bg-red-200 dark:hover:bg-red-950/50",!st&&!ar&&!ot&&"cursor-pointer hover:bg-primary/10 bg-muted/30 hover:ring-1 hover:ring-primary/50",!st&&ar&&!ot&&"cursor-default bg-muted/30",st&&!ar&&"bg-muted/50",ar&&"opacity-50"),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:oe("text-xs font-medium w-5 h-5 flex items-center justify-center rounded-full",sy(Q)&&"bg-primary text-primary-foreground font-bold",ot&&!sy(Q)&&"text-red-600",!sy(Q)&&!ot&&"text-foreground"),children:fe(Q,"d")}),Fe.length>1&&i.jsxs("span",{className:"text-[9px] text-muted-foreground",children:["+",Fe.length-1]})]}),st?i.jsxs("div",{className:"flex-1 mt-1 space-y-0.5 overflow-hidden",children:[Ze&&i.jsx("p",{className:"text-[8px] font-medium text-foreground truncate",children:Ze.split(" ")[0]}),i.jsxs("div",{className:"flex items-center gap-0.5 flex-wrap",children:[i.jsx("div",{className:oe("w-1.5 h-1.5 rounded-full flex-shrink-0",Ue==="pending"&&"bg-amber-500",(Ue==="accepted"||Ue==="confirmed")&&"bg-green-500",Ue==="cancelled"&&"bg-gray-400",Ue==="rejected"&&"bg-red-500")}),e==="hall"&&i.jsx("span",{className:oe("text-[7px] px-1 rounded",Ee?"bg-green-500/20 text-green-700":"bg-red-500/20 text-red-600"),children:Ee?"":" "})]}),_r&&i.jsx("p",{className:"text-[7px] text-muted-foreground line-clamp-2 leading-tight",children:_r})]}):ot?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[i.jsx(Om,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-[7px] text-red-600 mt-0.5",children:""})]}):!ar&&i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(Sr,{className:"w-4 h-4 text-muted-foreground/50"})})]},Q.toISOString())})]})]})}),i.jsx(Mt,{open:c,onOpenChange:u,children:i.jsxs(kt,{side:"bottom",className:"h-[70vh] rounded-t-3xl",children:[i.jsxs(ur,{className:"text-right",children:[i.jsxs(Kt,{className:"flex items-center justify-end gap-2",children:[i.jsxs("span",{children:[""," ",o&&fe(o,"EEEE d MMMM yyyy",{locale:Je})]}),i.jsx(nu,{className:"w-5 h-5 text-primary"})]}),i.jsx(qx,{className:"text-right",children:"      "})]}),i.jsx("div",{className:"mt-4 space-y-3 overflow-y-auto max-h-[calc(70vh-120px)]",children:ee.map((Q,pe)=>{var pt,ar,ot;const st=e==="hall"&&Q.stripe_payment_id!==null;return i.jsx(X.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:pe*.05},onClick:()=>Qe(Q),className:"w-full text-right",children:i.jsx(Me,{className:"hover:shadow-md transition-shadow",children:i.jsxs(He,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ce,{className:oe("text-white",G(Q.status)),children:_e(Q.status)}),st&&i.jsxs(Ce,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:[i.jsx(W2,{className:"w-3 h-3 ml-1"}),""]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2 mb-1",children:[i.jsx("span",{className:"font-bold text-foreground",children:((pt=Q.profiles)==null?void 0:pt.full_name)||""}),i.jsx(ya,{className:"w-4 h-4 text-muted-foreground"})]}),e==="hall"&&i.jsx("p",{className:"text-sm text-muted-foreground",children:(ar=Q.halls)==null?void 0:ar.name_ar}),e==="service"&&Q.service_packages&&i.jsxs("div",{className:"flex items-center justify-end gap-1 text-sm text-muted-foreground",children:[i.jsx("span",{children:(ot=Q.service_packages)==null?void 0:ot.name_ar}),i.jsx(un,{className:"w-3 h-3"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ra,{className:"w-3 h-3"}),i.jsx("span",{children:fe(new Date(Q.created_at),"d MMM - HH:mm",{locale:Je})})]}),i.jsxs("span",{className:"font-bold text-primary",children:[(Q.total_price||0).toLocaleString()," ."]})]}),e==="hall"&&i.jsx("div",{className:"flex items-center justify-end gap-4 mt-2 text-sm text-muted-foreground",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ot,{className:"w-3 h-3"}),(Q.guest_count_men||0)+(Q.guest_count_women||0)," ",""]})})]})})},Q.id)})})]})}),i.jsx(Un,{open:h,onOpenChange:m,children:i.jsxs(Rn,{className:"max-w-md",dir:"rtl",children:[i.jsxs(Vn,{children:[i.jsxs(Hn,{className:"flex items-center gap-2",children:[i.jsx(Uy,{className:"w-5 h-5 text-primary"}),"  "]}),i.jsx(Cc,{children:"      "})]}),d&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ce,{className:oe("text-white",G(d.status)),children:_e(d.status)}),i.jsx("span",{className:"font-bold text-foreground",children:((We=d.profiles)==null?void 0:We.full_name)||""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"font-bold text-primary",children:[(d.total_price||0).toLocaleString()," ."]}),i.jsx("span",{className:"text-muted-foreground",children:fe(new Date(d.booking_date),"d MMMM yyyy",{locale:Je})})]}),(($r=d.profiles)==null?void 0:$r.phone)&&i.jsx("div",{className:"flex gap-2 pt-2",children:i.jsxs(K,{size:"sm",className:"flex-1 bg-[#25D366] hover:bg-[#128C7E] text-white",onClick:()=>{var Q;return Jn(((Q=d.profiles)==null?void 0:Q.phone)||null,fe(new Date(d.booking_date),"d/MM/yyyy"))},children:[i.jsx(Xr,{className:"w-4 h-4 ml-1"}),""]})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-xl",children:[i.jsx(Oa,{checked:y,onCheckedChange:w}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:" "}),i.jsx(of,{className:oe("w-5 h-5",y?"text-green-500":"text-muted-foreground")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:""}),i.jsx(Sn,{value:j,onChange:Q=>_(Q.target.value),placeholder:" ...",className:"text-right"})]}),d.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",className:"flex-1 border-red-500/30 text-red-600 hover:bg-red-500/10",onClick:()=>et(d.id,"rejected"),disabled:te.isPending,children:[i.jsx(Tt,{className:"w-4 h-4 ml-1"}),""]}),i.jsxs(K,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>et(d.id,e==="hall"?"accepted":"confirmed"),disabled:te.isPending,children:[i.jsx(It,{className:"w-4 h-4 ml-1"}),""]})]}),(d.status==="accepted"||d.status==="confirmed")&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-amber-500/30 text-amber-600 hover:bg-amber-500/10",onClick:()=>g(!0),children:[i.jsx(Ks,{className:"w-4 h-4 ml-1"})," "]}),i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-red-500/30 text-red-600 hover:bg-red-500/10",onClick:()=>et(d.id,"cancelled"),disabled:te.isPending,children:[i.jsx(fl,{className:"w-4 h-4 ml-1"}),""]})]}),e==="service"&&i.jsxs(K,{size:"sm",className:"w-full",onClick:()=>et(d.id,"completed"),disabled:te.isPending,children:[i.jsx(sf,{className:"w-4 h-4 ml-1"})," "]})]}),d.status==="cancelled"&&i.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>et(d.id,"pending"),disabled:te.isPending,children:[i.jsx(Vg,{className:"w-4 h-4 ml-1"})," "]}),mt(d)&&i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>jr(d),children:[i.jsx(Uy,{className:"w-4 h-4 ml-1"})," "]}),i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-red-500/30 text-red-600 hover:bg-red-500/10",onClick:()=>E(!0),children:[i.jsx(ma,{className:"w-4 h-4 ml-1"}),""]})]}),mt(d)&&i.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm text-blue-600",children:[i.jsx(q2,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>m(!1),children:""}),i.jsx(K,{onClick:Ve,disabled:te.isPending,children:te.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):" "})]})]})}),i.jsx(Un,{open:v,onOpenChange:g,children:i.jsxs(Rn,{className:"max-w-sm",dir:"rtl",children:[i.jsxs(Vn,{children:[i.jsxs(Hn,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-amber-600"}),"  "]}),i.jsx(Cc,{children:"     "})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"  (%)"}),i.jsx(ge,{type:"number",min:5,max:50,value:x,onChange:Q=>b(Number(Q.target.value)),className:"text-center text-lg font-bold"}),i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"  5%  50%"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-500/10 rounded-lg text-sm text-amber-700",children:[i.jsx($b,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:"       "})]})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>g(!1),children:""}),i.jsx(K,{onClick:ht,className:"bg-amber-600 hover:bg-amber-700",disabled:te.isPending,children:te.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):"  "})]})]})}),i.jsx(Un,{open:N,onOpenChange:Q=>{Q?S(Q):Dt()},children:i.jsxs(Rn,{className:"max-w-md max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(Vn,{children:[i.jsx(Hn,{className:"flex items-center gap-2",children:k?i.jsxs(i.Fragment,{children:[i.jsx(Uy,{className:"w-5 h-5 text-primary"}),"  "]}):i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"w-5 h-5 text-primary"}),"  "]})}),i.jsx(Cc,{children:k?"    ":"     "})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"  *"}),i.jsx(ge,{value:P.customerName,onChange:Q=>F(pe=>({...pe,customerName:Q.target.value})),placeholder:"  ",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:" "}),i.jsx(ge,{value:P.phone,onChange:Q=>F(pe=>({...pe,phone:Q.target.value})),placeholder:"05xxxxxxxx",className:"text-right",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"  *"}),i.jsx(ge,{type:"date",value:P.bookingDate,onChange:Q=>F(pe=>({...pe,bookingDate:Q.target.value})),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:" "}),i.jsx(ge,{type:"number",value:P.totalPrice,onChange:Q=>F(pe=>({...pe,totalPrice:Q.target.value})),placeholder:"0",className:"text-right"})]}),e==="hall"&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:" "}),i.jsx(ge,{type:"number",value:P.guestCountMen,onChange:Q=>F(pe=>({...pe,guestCountMen:Q.target.value})),placeholder:"0",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:" "}),i.jsx(ge,{type:"number",value:P.guestCountWomen,onChange:Q=>F(pe=>({...pe,guestCountWomen:Q.target.value})),placeholder:"0",className:"text-right"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-xl",children:[i.jsx(Oa,{checked:P.depositPaid,onCheckedChange:Q=>F(pe=>({...pe,depositPaid:Q}))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:"  "}),i.jsx(of,{className:oe("w-5 h-5",P.depositPaid?"text-green-500":"text-muted-foreground")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:""}),i.jsx(Sn,{value:P.notes,onChange:Q=>F(pe=>({...pe,notes:Q.target.value})),placeholder:" ...",className:"text-right"})]})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:Dt,children:""}),i.jsx(K,{onClick:k?Ir:Rt,children:k?i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-4 h-4 ml-1"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"w-4 h-4 ml-1"})," "]})})]})]})}),i.jsx(Un,{open:A,onOpenChange:E,children:i.jsxs(Rn,{className:"max-w-sm",dir:"rtl",children:[i.jsxs(Vn,{children:[i.jsxs(Hn,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(ma,{className:"w-5 h-5"})," "]}),i.jsx(Cc,{children:"            ."})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>E(!1),children:""}),i.jsxs(K,{variant:"destructive",onClick:Nt,children:[i.jsx(ma,{className:"w-4 h-4 ml-1"})," "]})]})]})}),i.jsx(Mt,{open:I,onOpenChange:z,children:i.jsxs(kt,{side:"bottom",className:"rounded-t-3xl",children:[i.jsxs(ur,{className:"text-right",children:[i.jsxs(Kt,{className:"flex items-center justify-end gap-2",children:[i.jsx("span",{children:O&&fe(O,"EEEE d MMMM yyyy",{locale:Je})}),i.jsx(nu,{className:"w-5 h-5 text-primary"})]}),i.jsx(qx,{className:"text-right",children:"    "})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs(K,{className:"w-full h-14 justify-start gap-3",onClick:he,children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:i.jsx(Sr,{className:"w-5 h-5"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold",children:" "}),i.jsx("div",{className:"text-xs opacity-80",children:"    "})]})]}),i.jsxs(K,{variant:O&&Y(O)?"default":"outline",className:oe("w-full h-14 justify-start gap-3",O&&Y(O)?"bg-green-600 hover:bg-green-700":"border-red-200 hover:bg-red-50"),onClick:ke,disabled:D,children:[i.jsx("div",{className:oe("w-10 h-10 rounded-xl flex items-center justify-center",O&&Y(O)?"bg-white/20":"bg-red-100"),children:D?i.jsx(ve,{className:"w-5 h-5 animate-spin"}):O&&Y(O)?i.jsx(eee,{className:"w-5 h-5"}):i.jsx(Om,{className:"w-5 h-5 text-red-600"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:oe("font-bold",O&&Y(O)?"text-white":"text-red-600"),children:O&&Y(O)?" ":" "}),i.jsx("div",{className:oe("text-xs",O&&Y(O)?"text-white/80":"text-muted-foreground"),children:O&&Y(O)?"     ":"    "})]})]})]})]})})]})}function LH({hallIds:e,onNewBooking:t}){const{toast:r}=Ke(),{user:n,role:a}=at(),s=p.useRef(null);p.useEffect(()=>{if(!n||a!=="hall_owner"||e.length===0)return;const o=W.channel("hall-bookings-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"hall_bookings"},async l=>{const c=l.new;if(e.includes(c.hall_id)){const{data:u}=await W.from("halls").select("name_ar").eq("id",c.hall_id).maybeSingle();r({title:"   ",description:u!=null&&u.name_ar?`      ${u.name_ar}`:"    ",duration:8e3}),t==null||t()}}).subscribe();return s.current=o,()=>{s.current&&W.removeChannel(s.current)}},[n,a,e,r,t])}function zbe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bh(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function rP(e){return"nodeType"in e}function ba(e){var t,r;return e?bh(e)?e:rP(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function nP(e){const{Document:t}=ba(e);return e instanceof t}function hv(e){return bh(e)?!1:e instanceof ba(e).HTMLElement}function FH(e){return e instanceof ba(e).SVGElement}function wh(e){return e?bh(e)?e.document:rP(e)?nP(e)?e:hv(e)||FH(e)?e.ownerDocument:document:document:document}const Ei=_w?p.useLayoutEffect:p.useEffect;function aP(e){const t=p.useRef(e);return Ei(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function Ube(){const e=p.useRef(null),t=p.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function $p(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return Ei(()=>{r.current!==e&&(r.current=e)},t),r}function mv(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function n0(e){const t=aP(e),r=p.useRef(null),n=p.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function rC(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let Q1={};function pv(e,t){return p.useMemo(()=>{if(t)return t;const r=Q1[e]==null?0:Q1[e]+1;return Q1[e]=r,e+"-"+r},[e,t])}function BH(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((s,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+e*u)}return s},{...t})}}const Id=BH(1),Lp=BH(-1);function Vbe(e){return"clientX"in e&&"clientY"in e}function sP(e){if(!e)return!1;const{KeyboardEvent:t}=ba(e.target);return t&&e instanceof t}function Wbe(e){if(!e)return!1;const{TouchEvent:t}=ba(e.target);return t&&e instanceof t}function nC(e){if(Wbe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Vbe(e)?{x:e.clientX,y:e.clientY}:null}const bf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[bf.Translate.toString(e),bf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),qD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hbe(e){return e.matches(qD)?e:e.querySelector(qD)}const qbe={display:"none"};function Kbe(e){let{id:t,value:r}=e;return L.createElement("div",{id:t,style:qbe},r)}function Gbe(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function Ybe(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const zH=p.createContext(null);function Xbe(e){const t=p.useContext(zH);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Zbe(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:a,event:s}=n;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,s)})},[e]),t]}const Qbe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Jbe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ewe(e){let{announcements:t=Jbe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=Qbe}=e;const{announce:s,announcement:o}=Ybe(),l=pv("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),Xbe(p.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;s(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;s(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!c)return null;const d=L.createElement(L.Fragment,null,L.createElement(Kbe,{id:n,value:a.draggable}),L.createElement(Gbe,{id:l,announcement:o}));return r?ns.createPortal(d,r):d}var Wr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Wr||(Wr={}));function a0(){}function s0(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function UH(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Zs=Object.freeze({x:0,y:0});function VH(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function WH(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function twe(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function KD(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function HH(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function GD(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const qH=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=GD(t,t.left,t.top),s=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=VH(GD(c),a);s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(WH)},rwe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=KD(t),s=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=KD(c),d=a.reduce((h,m,v)=>h+VH(u[v],m),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:f}})}}return s.sort(WH)};function nwe(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=a-n,l=s-r;if(n<a&&r<s){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const awe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const s of n){const{id:o}=s,l=r.get(o);if(l){const c=nwe(l,t);c>0&&a.push({id:o,data:{droppableContainer:s,value:c}})}}return a.sort(twe)};function swe(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function KH(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Zs}function iwe(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const owe=iwe(1);function lwe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function cwe(e,t,r){const n=lwe(t);if(!n)return e;const{scaleX:a,scaleY:s,x:o,y:l}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const uwe={ignoreTransform:!1};function jh(e,t){t===void 0&&(t=uwe);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=ba(e).getComputedStyle(e);u&&(r=cwe(r,u,d))}const{top:n,left:a,width:s,height:o,bottom:l,right:c}=r;return{top:n,left:a,width:s,height:o,bottom:l,right:c}}function YD(e){return jh(e,{ignoreTransform:!0})}function dwe(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function fwe(e,t){return t===void 0&&(t=ba(e).getComputedStyle(e)),t.position==="fixed"}function hwe(e,t){t===void 0&&(t=ba(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const s=t[a];return typeof s=="string"?r.test(s):!1})}function Nw(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(nP(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!hv(a)||FH(a)||r.includes(a))return r;const s=ba(e).getComputedStyle(a);return a!==e&&hwe(a,s)&&r.push(a),fwe(a,s)?r:n(a.parentNode)}return e?n(e):r}function GH(e){const[t]=Nw(e,1);return t??null}function J1(e){return!_w||!e?null:bh(e)?e:rP(e)?nP(e)||e===wh(e).scrollingElement?window:hv(e)?e:null:null}function YH(e){return bh(e)?e.scrollX:e.scrollLeft}function XH(e){return bh(e)?e.scrollY:e.scrollTop}function aC(e){return{x:YH(e),y:XH(e)}}var nn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(nn||(nn={}));function ZH(e){return!_w||!e?!1:e===document.scrollingElement}function QH(e){const t={x:0,y:0},r=ZH(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:s,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const mwe={x:.2,y:.2};function pwe(e,t,r,n,a){let{top:s,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=mwe);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=QH(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!u&&s<=t.top+g.height?(m.y=nn.Backward,v.y=n*Math.abs((t.top+g.height-s)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=nn.Forward,v.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!h&&l>=t.right-g.width?(m.x=nn.Forward,v.x=n*Math.abs((t.right-g.width-l)/g.width)):!f&&o<=t.left+g.width&&(m.x=nn.Backward,v.x=n*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:v}}function gwe(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function JH(e){return e.reduce((t,r)=>Id(t,aC(r)),Zs)}function vwe(e){return e.reduce((t,r)=>t+YH(r),0)}function ywe(e){return e.reduce((t,r)=>t+XH(r),0)}function xwe(e,t){if(t===void 0&&(t=jh),!e)return;const{top:r,left:n,bottom:a,right:s}=t(e);GH(e)&&(a<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const bwe=[["x",["left","right"],vwe],["y",["top","bottom"],ywe]];class iP{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Nw(r),a=JH(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,l]of bwe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=a[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bm{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function wwe(e){const{EventTarget:t}=ba(e);return e instanceof t?e:wh(e)}function e_(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Qa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Qa||(Qa={}));function XD(e){e.preventDefault()}function jwe(e){e.stopPropagation()}var ft;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ft||(ft={}));const e7={start:[ft.Space,ft.Enter],cancel:[ft.Esc],end:[ft.Space,ft.Enter,ft.Tab]},_we=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case ft.Right:return{...r,x:r.x+25};case ft.Left:return{...r,x:r.x-25};case ft.Down:return{...r,y:r.y+25};case ft.Up:return{...r,y:r.y-25}}};class Sw{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Bm(wh(r)),this.windowListeners=new Bm(ba(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Qa.Resize,this.handleCancel),this.windowListeners.add(Qa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Qa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&xwe(n),r(Zs)}handleKeyDown(t){if(sP(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:s=e7,coordinateGetter:o=_we,scrollBehavior:l="smooth"}=a,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Zs;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=Lp(f,d),m={x:0,y:0},{scrollableAncestors:v}=n.current;for(const g of v){const x=t.code,{isTop:b,isRight:y,isLeft:w,isBottom:j,maxScroll:_,minScroll:N}=QH(g),S=gwe(g),k={x:Math.min(x===ft.Right?S.right-S.width/2:S.right,Math.max(x===ft.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(x===ft.Down?S.bottom-S.height/2:S.bottom,Math.max(x===ft.Down?S.top:S.top+S.height/2,f.y))},C=x===ft.Right&&!y||x===ft.Left&&!w,A=x===ft.Down&&!j||x===ft.Up&&!b;if(C&&k.x!==f.x){const E=g.scrollLeft+h.x,P=x===ft.Right&&E<=_.x||x===ft.Left&&E>=N.x;if(P&&!h.y){g.scrollTo({left:E,behavior:l});return}P?m.x=g.scrollLeft-E:m.x=x===ft.Right?g.scrollLeft-_.x:g.scrollLeft-N.x,m.x&&g.scrollBy({left:-m.x,behavior:l});break}else if(A&&k.y!==f.y){const E=g.scrollTop+h.y,P=x===ft.Down&&E<=_.y||x===ft.Up&&E>=N.y;if(P&&!h.x){g.scrollTo({top:E,behavior:l});return}P?m.y=g.scrollTop-E:m.y=x===ft.Down?g.scrollTop-_.y:g.scrollTop-N.y,m.y&&g.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Id(Lp(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sw.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=e7,onActivation:a}=t,{active:s}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function ZD(e){return!!(e&&"distance"in e)}function QD(e){return!!(e&&"delay"in e)}class oP{constructor(t,r,n){var a;n===void 0&&(n=wwe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:s}=t,{target:o}=s;this.props=t,this.events=r,this.document=wh(o),this.documentListeners=new Bm(this.document),this.listeners=new Bm(n),this.windowListeners=new Bm(ba(o)),this.initialCoordinates=(a=nC(s))!=null?a:Zs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Qa.Resize,this.handleCancel),this.windowListeners.add(Qa.DragStart,XD),this.windowListeners.add(Qa.VisibilityChange,this.handleCancel),this.windowListeners.add(Qa.ContextMenu,XD),this.documentListeners.add(Qa.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(QD(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(ZD(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Qa.Click,jwe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Qa.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!a)return;const c=(r=nC(t))!=null?r:Zs,u=Lp(a,c);if(!n&&l){if(ZD(l)){if(l.tolerance!=null&&e_(u,l.tolerance))return this.handleCancel();if(e_(u,l.distance))return this.handleStart()}if(QD(l)&&e_(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===ft.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Nwe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Cw extends oP{constructor(t){const{event:r}=t,n=wh(r.target);super(t,Nwe,n)}}Cw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Swe={move:{name:"mousemove"},end:{name:"mouseup"}};var sC;(function(e){e[e.RightClick=2]="RightClick"})(sC||(sC={}));class Cwe extends oP{constructor(t){super(t,Swe,wh(t.event.target))}}Cwe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===sC.RightClick?!1:(n==null||n({event:r}),!0)}}];const t_={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kwe extends oP{constructor(t){super(t,t_)}static setup(){return window.addEventListener(t_.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(t_.move.name,t)};function t(){}}}kwe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var zm;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zm||(zm={}));var i0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(i0||(i0={}));function Ewe(e){let{acceleration:t,activator:r=zm.Pointer,canScroll:n,draggingRect:a,enabled:s,interval:o=5,order:l=i0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=Pwe({delta:f,disabled:!s}),[v,g]=Ube(),x=p.useRef({x:0,y:0}),b=p.useRef({x:0,y:0}),y=p.useMemo(()=>{switch(r){case zm.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case zm.DraggableRect:return a}},[r,a,c]),w=p.useRef(null),j=p.useCallback(()=>{const N=w.current;if(!N)return;const S=x.current.x*b.current.x,k=x.current.y*b.current.y;N.scrollBy(S,k)},[]),_=p.useMemo(()=>l===i0.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!s||!u.length||!y){g();return}for(const N of _){if((n==null?void 0:n(N))===!1)continue;const S=u.indexOf(N),k=d[S];if(!k)continue;const{direction:C,speed:A}=pwe(N,k,y,t,h);for(const E of["x","y"])m[E][C[E]]||(A[E]=0,C[E]=0);if(A.x>0||A.y>0){g(),w.current=N,v(j,o),x.current=A,b.current=C;return}}x.current={x:0,y:0},b.current={x:0,y:0},g()},[t,j,n,g,s,o,JSON.stringify(y),JSON.stringify(m),v,u,_,d,JSON.stringify(h)])}const Awe={x:{[nn.Backward]:!1,[nn.Forward]:!1},y:{[nn.Backward]:!1,[nn.Forward]:!1}};function Pwe(e){let{delta:t,disabled:r}=e;const n=rC(t);return mv(a=>{if(r||!n||!a)return Awe;const s={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[nn.Backward]:a.x[nn.Backward]||s.x===-1,[nn.Forward]:a.x[nn.Forward]||s.x===1},y:{[nn.Backward]:a.y[nn.Backward]||s.y===-1,[nn.Forward]:a.y[nn.Forward]||s.y===1}}},[r,t,n])}function Owe(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return mv(a=>{var s;return t==null?null:(s=n??a)!=null?s:null},[n,t])}function Twe(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,s=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...s]},[]),[e,t])}var Fp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fp||(Fp={}));var iC;(function(e){e.Optimized="optimized"})(iC||(iC={}));const JD=new Map;function Mwe(e,t){let{dragging:r,dependencies:n,config:a}=t;const[s,o]=p.useState(null),{frequency:l,measure:c,strategy:u}=a,d=p.useRef(e),f=x(),h=$p(f),m=p.useCallback(function(b){b===void 0&&(b=[]),!h.current&&o(y=>y===null?b:y.concat(b.filter(w=>!y.includes(w))))},[h]),v=p.useRef(null),g=mv(b=>{if(f&&!r)return JD;if(!b||b===JD||d.current!==e||s!=null){const y=new Map;for(let w of e){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const j=w.node.current,_=j?new iP(c(j),j):null;w.rect.current=_,_&&y.set(w.id,_)}return y}return b},[e,s,r,f,c]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[r,f]),p.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),p.useEffect(()=>{f||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},l))},[l,f,m,...n]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:s!=null};function x(){switch(u){case Fp.Always:return!1;case Fp.BeforeDragging:return r;default:return!r}}}function t7(e,t){return mv(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Rwe(e,t){return t7(e,t)}function Dwe(e){let{callback:t,disabled:r}=e;const n=aP(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function kw(e){let{callback:t,disabled:r}=e;const n=aP(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Iwe(e){return new iP(jh(e),e)}function eI(e,t,r){t===void 0&&(t=Iwe);const[n,a]=p.useState(null);function s(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=Dwe({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),l=kw({callback:s});return Ei(()=>{s(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function $we(e){const t=t7(e);return KH(e,t)}const tI=[];function Lwe(e){const t=p.useRef(e),r=mv(n=>e?n&&n!==tI&&e&&t.current&&e.parentNode===t.current.parentNode?n:Nw(e):tI,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function Fwe(e){const[t,r]=p.useState(null),n=p.useRef(e),a=p.useCallback(s=>{const o=J1(s.target);o&&r(l=>l?(l.set(o,aC(o)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=n.current;if(e!==s){o(s);const l=e.map(c=>{const u=J1(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,aC(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(s)};function o(l){l.forEach(c=>{const u=J1(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>Id(s,o),Zs):JH(e):Zs,[e,t])}function rI(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==Zs;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Lp(e,r.current):Zs}function Bwe(e){p.useEffect(()=>{if(!_w)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function zwe(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:s}=n;return r[a]=o=>{s(o,t)},r},{}),[e,t])}function r7(e){return p.useMemo(()=>e?dwe(e):null,[e])}const nI=[];function Uwe(e,t){t===void 0&&(t=jh);const[r]=e,n=r7(r?ba(r):null),[a,s]=p.useState(nI);function o(){s(()=>e.length?e.map(c=>ZH(c)?n:new iP(t(c),c)):nI)}const l=kw({callback:o});return Ei(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function Vwe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return hv(t)?t:e}function Wwe(e){let{measure:t}=e;const[r,n]=p.useState(null),a=p.useCallback(u=>{for(const{target:d}of u)if(hv(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=kw({callback:a}),o=p.useCallback(u=>{const d=Vwe(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),n(d?t(d):null)},[t,s]),[l,c]=n0(o);return p.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Hwe=[{sensor:Cw,options:{}},{sensor:Sw,options:{}}],qwe={current:{}},tx={draggable:{measure:YD},droppable:{measure:YD,strategy:Fp.WhileDragging,frequency:iC.Optimized},dragOverlay:{measure:jh}};class Um extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Kwe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Um,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:a0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tx,measureDroppableContainers:a0,windowRect:null,measuringScheduled:!1},Gwe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:a0,draggableNodes:new Map,over:null,measureDroppableContainers:a0},Ew=p.createContext(Gwe),n7=p.createContext(Kwe);function Ywe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Um}}}function Xwe(e,t){switch(t.type){case Wr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Wr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Wr.DragEnd:case Wr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wr.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Um(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case Wr.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const o=new Um(e.droppable.containers);return o.set(r,{...s,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Wr.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const s=new Um(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Zwe(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=p.useContext(Ew),s=rC(n),o=rC(r==null?void 0:r.id);return p.useEffect(()=>{if(!t&&!n&&s&&o!=null){if(!sP(s)||document.activeElement===s.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=Hbe(d);if(f){f.focus();break}}})}},[n,t,a,o,s]),null}function Qwe(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,s)=>s({transform:a,...n}),r):r}function Jwe(e){return p.useMemo(()=>({draggable:{...tx.draggable,...e==null?void 0:e.draggable},droppable:{...tx.droppable,...e==null?void 0:e.droppable},dragOverlay:{...tx.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function eje(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const s=p.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ei(()=>{if(!o&&!l||!t){s.current=!1;return}if(s.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=KH(d,n);if(o||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=GH(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,r])}const a7=p.createContext({...Zs,scaleX:1,scaleY:1});var Ko;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ko||(Ko={}));const s7=p.memo(function(t){var r,n,a,s;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Hwe,collisionDetection:f=awe,measuring:h,modifiers:m,...v}=t;const g=p.useReducer(Xwe,void 0,Ywe),[x,b]=g,[y,w]=Zbe(),[j,_]=p.useState(Ko.Uninitialized),N=j===Ko.Initialized,{draggable:{active:S,nodes:k,translate:C},droppable:{containers:A}}=x,E=S!=null?k.get(S):null,P=p.useRef({initial:null,translated:null}),F=p.useMemo(()=>{var ot;return S!=null?{id:S,data:(ot=E==null?void 0:E.data)!=null?ot:qwe,rect:P}:null},[S,E]),I=p.useRef(null),[z,O]=p.useState(null),[$,D]=p.useState(null),T=$p(v,Object.values(v)),U=pv("DndDescribedBy",o),R=p.useMemo(()=>A.getEnabled(),[A]),M=Jwe(h),{droppableRects:B,measureDroppableContainers:V,measuringScheduled:q}=Mwe(R,{dragging:N,dependencies:[C.x,C.y],config:M.droppable}),J=Owe(k,S),Y=p.useMemo(()=>$?nC($):null,[$]),te=ar(),Z=Rwe(J,M.draggable.measure);eje({activeNode:S!=null?k.get(S):null,config:te.layoutShiftCompensation,initialRect:Z,measure:M.draggable.measure});const ne=eI(J,M.draggable.measure,Z),ee=eI(J?J.parentElement:null),G=p.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=A.getNodeFor((r=G.current.over)==null?void 0:r.id),ie=Wwe({measure:M.dragOverlay.measure}),he=(n=ie.nodeRef.current)!=null?n:J,ke=N?(a=ie.rect)!=null?a:ne:null,Qe=!!(ie.nodeRef.current&&ie.rect),et=$we(Qe?null:ne),Ve=r7(he?ba(he):null),ht=Lwe(N?_e??J:null),Rt=Uwe(ht),mt=Qwe(m,{transform:{x:C.x-et.x,y:C.y-et.y,scaleX:1,scaleY:1},activatorEvent:$,active:F,activeNodeRect:ne,containerNodeRect:ee,draggingNodeRect:ke,over:G.current.over,overlayNodeRect:ie.rect,scrollableAncestors:ht,scrollableAncestorRects:Rt,windowRect:Ve}),At=Y?Id(Y,C):null,jr=Fwe(ht),Ir=rI(jr),Nt=rI(jr,[ne]),Dt=Id(mt,Ir),Jn=ke?owe(ke,mt):null,ea=F&&Jn?f({active:F,collisionRect:Jn,droppableRects:B,droppableContainers:R,pointerCoordinates:At}):null,ja=HH(ea,"id"),[be,xt]=p.useState(null),dr=Qe?mt:Id(mt,Nt),We=swe(dr,(s=be==null?void 0:be.rect)!=null?s:null,ne),$r=p.useRef(null),Q=p.useCallback((ot,Ze)=>{let{sensor:_r,options:Ee}=Ze;if(I.current==null)return;const Ue=k.get(I.current);if(!Ue)return;const tt=ot.nativeEvent,fr=new _r({active:I.current,activeNode:Ue,event:tt,options:Ee,context:G,onAbort(Ft){if(!k.get(Ft))return;const{onDragAbort:hr}=T.current,en={id:Ft};hr==null||hr(en),y({type:"onDragAbort",event:en})},onPending(Ft,Cn,hr,en){if(!k.get(Ft))return;const{onDragPending:$h}=T.current,Do={id:Ft,constraint:Cn,initialCoordinates:hr,offset:en};$h==null||$h(Do),y({type:"onDragPending",event:Do})},onStart(Ft){const Cn=I.current;if(Cn==null)return;const hr=k.get(Cn);if(!hr)return;const{onDragStart:en}=T.current,Ih={activatorEvent:tt,active:{id:Cn,data:hr.data,rect:P}};ns.unstable_batchedUpdates(()=>{en==null||en(Ih),_(Ko.Initializing),b({type:Wr.DragStart,initialCoordinates:Ft,active:Cn}),y({type:"onDragStart",event:Ih}),O($r.current),D(tt)})},onMove(Ft){b({type:Wr.DragMove,coordinates:Ft})},onEnd:Jr(Wr.DragEnd),onCancel:Jr(Wr.DragCancel)});$r.current=fr;function Jr(Ft){return async function(){const{active:hr,collisions:en,over:Ih,scrollAdjustedTranslate:$h}=G.current;let Do=null;if(hr&&$h){const{cancelDrop:Lh}=T.current;Do={activatorEvent:tt,active:hr,collisions:en,delta:$h,over:Ih},Ft===Wr.DragEnd&&typeof Lh=="function"&&await Promise.resolve(Lh(Do))&&(Ft=Wr.DragCancel)}I.current=null,ns.unstable_batchedUpdates(()=>{b({type:Ft}),_(Ko.Uninitialized),xt(null),O(null),D(null),$r.current=null;const Lh=Ft===Wr.DragEnd?"onDragEnd":"onDragCancel";if(Do){const kj=T.current[Lh];kj==null||kj(Do),y({type:Lh,event:Do})}})}}},[k]),pe=p.useCallback((ot,Ze)=>(_r,Ee)=>{const Ue=_r.nativeEvent,tt=k.get(Ee);if(I.current!==null||!tt||Ue.dndKit||Ue.defaultPrevented)return;const fr={active:tt};ot(_r,Ze.options,fr)===!0&&(Ue.dndKit={capturedBy:Ze.sensor},I.current=Ee,Q(_r,Ze))},[k,Q]),Fe=Twe(d,pe);Bwe(d),Ei(()=>{ne&&j===Ko.Initializing&&_(Ko.Initialized)},[ne,j]),p.useEffect(()=>{const{onDragMove:ot}=T.current,{active:Ze,activatorEvent:_r,collisions:Ee,over:Ue}=G.current;if(!Ze||!_r)return;const tt={active:Ze,activatorEvent:_r,collisions:Ee,delta:{x:Dt.x,y:Dt.y},over:Ue};ns.unstable_batchedUpdates(()=>{ot==null||ot(tt),y({type:"onDragMove",event:tt})})},[Dt.x,Dt.y]),p.useEffect(()=>{const{active:ot,activatorEvent:Ze,collisions:_r,droppableContainers:Ee,scrollAdjustedTranslate:Ue}=G.current;if(!ot||I.current==null||!Ze||!Ue)return;const{onDragOver:tt}=T.current,fr=Ee.get(ja),Jr=fr&&fr.rect.current?{id:fr.id,rect:fr.rect.current,data:fr.data,disabled:fr.disabled}:null,Ft={active:ot,activatorEvent:Ze,collisions:_r,delta:{x:Ue.x,y:Ue.y},over:Jr};ns.unstable_batchedUpdates(()=>{xt(Jr),tt==null||tt(Ft),y({type:"onDragOver",event:Ft})})},[ja]),Ei(()=>{G.current={activatorEvent:$,active:F,activeNode:J,collisionRect:Jn,collisions:ea,droppableRects:B,draggableNodes:k,draggingNode:he,draggingNodeRect:ke,droppableContainers:A,over:be,scrollableAncestors:ht,scrollAdjustedTranslate:Dt},P.current={initial:ke,translated:Jn}},[F,J,ea,Jn,k,he,ke,B,A,be,ht,Dt]),Ewe({...te,delta:C,draggingRect:Jn,pointerCoordinates:At,scrollableAncestors:ht,scrollableAncestorRects:Rt});const st=p.useMemo(()=>({active:F,activeNode:J,activeNodeRect:ne,activatorEvent:$,collisions:ea,containerNodeRect:ee,dragOverlay:ie,draggableNodes:k,droppableContainers:A,droppableRects:B,over:be,measureDroppableContainers:V,scrollableAncestors:ht,scrollableAncestorRects:Rt,measuringConfiguration:M,measuringScheduled:q,windowRect:Ve}),[F,J,ne,$,ea,ee,ie,k,A,B,be,V,ht,Rt,M,q,Ve]),pt=p.useMemo(()=>({activatorEvent:$,activators:Fe,active:F,activeNodeRect:ne,ariaDescribedById:{draggable:U},dispatch:b,draggableNodes:k,over:be,measureDroppableContainers:V}),[$,Fe,F,ne,b,U,k,be,V]);return L.createElement(zH.Provider,{value:w},L.createElement(Ew.Provider,{value:pt},L.createElement(n7.Provider,{value:st},L.createElement(a7.Provider,{value:We},u)),L.createElement(Zwe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),L.createElement(ewe,{...l,hiddenTextDescribedById:U}));function ar(){const ot=(z==null?void 0:z.autoScrollEnabled)===!1,Ze=typeof c=="object"?c.enabled===!1:c===!1,_r=N&&!ot&&!Ze;return typeof c=="object"?{...c,enabled:_r}:{enabled:_r}}}),tje=p.createContext(null),aI="button",rje="Draggable";function nje(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const s=pv(rje),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(Ew),{role:m=aI,roleDescription:v="draggable",tabIndex:g=0}=a??{},x=(c==null?void 0:c.id)===t,b=p.useContext(x?a7:tje),[y,w]=n0(),[j,_]=n0(),N=zwe(o,t),S=$p(r);Ei(()=>(f.set(t,{id:t,key:s,node:y,activatorNode:j,data:S}),()=>{const C=f.get(t);C&&C.key===s&&f.delete(t)}),[f,t]);const k=p.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":n,"aria-pressed":x&&m===aI?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,m,g,x,v,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:x,listeners:n?void 0:N,node:y,over:h,setNodeRef:w,setActivatorNodeRef:_,transform:b}}function aje(){return p.useContext(n7)}const sje="Droppable",ije={timeout:25};function oje(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const s=pv(sje),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=p.useContext(Ew),d=p.useRef({disabled:r}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:x}={...ije,...a},b=$p(g??n),y=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),m.current=null},x)},[x]),w=kw({callback:y,disabled:v||!o}),j=p.useCallback((k,C)=>{w&&(C&&(w.unobserve(C),f.current=!1),k&&w.observe(k))},[w]),[_,N]=n0(j),S=$p(t);return p.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),p.useEffect(()=>(l({type:Wr.RegisterDroppable,element:{id:n,key:s,disabled:r,node:_,rect:h,data:S}}),()=>l({type:Wr.UnregisterDroppable,key:s,id:n})),[n]),p.useEffect(()=>{r!==d.current.disabled&&(l({type:Wr.SetDroppableDisabled,id:n,key:s,disabled:r}),d.current.disabled=r)},[n,s,r,l]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:_,over:c,setNodeRef:N}}function Aw(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function lje(e,t){return e.reduce((r,n,a)=>{const s=t.get(n);return s&&(r[a]=s),r},Array(e.length))}function dy(e){return e!==null&&e>=0}function cje(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function uje(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const fy={scaleX:1,scaleY:1},dje=e=>{var t;let{rects:r,activeNodeRect:n,activeIndex:a,overIndex:s,index:o}=e;const l=(t=r[a])!=null?t:n;if(!l)return null;const c=fje(r,o,a);if(o===a){const u=r[s];return u?{x:a<s?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...fy}:null}return o>a&&o<=s?{x:-l.width-c,y:0,...fy}:o<a&&o>=s?{x:l.width+c,y:0,...fy}:{x:0,y:0,...fy}};function fje(e,t,r){const n=e[t],a=e[t-1],s=e[t+1];return!n||!a&&!s?0:r<t?a?n.left-(a.left+a.width):s.left-(n.left+n.width):s?s.left-(n.left+n.width):n.left-(a.left+a.width)}const i7=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const s=Aw(t,n,r),o=t[a],l=s[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},hy={scaleX:1,scaleY:1},hje=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:s,overIndex:o}=e;const l=(t=s[r])!=null?t:n;if(!l)return null;if(a===r){const u=s[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...hy}:null}const c=mje(s,a,r);return a>r&&a<=o?{x:0,y:-l.height-c,...hy}:a<r&&a>=o?{x:0,y:l.height+c,...hy}:{x:0,y:0,...hy}};function mje(e,t,r){const n=e[t],a=e[t-1],s=e[t+1];return n?r<t?a?n.top-(a.top+a.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const o7="Sortable",l7=L.createContext({activeIndex:-1,containerId:o7,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:i7,disabled:{draggable:!1,droppable:!1}});function c7(e){let{children:t,id:r,items:n,strategy:a=i7,disabled:s=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=aje(),f=pv(o7,r),h=l.rect!==null,m=p.useMemo(()=>n.map(N=>typeof N=="object"&&"id"in N?N.id:N),[n]),v=o!=null,g=o?m.indexOf(o.id):-1,x=u?m.indexOf(u.id):-1,b=p.useRef(m),y=!cje(m,b.current),w=x!==-1&&g===-1||y,j=uje(s);Ei(()=>{y&&v&&d(m)},[y,m,v,d]),p.useEffect(()=>{b.current=m},[m]);const _=p.useMemo(()=>({activeIndex:g,containerId:f,disabled:j,disableTransforms:w,items:m,overIndex:x,useDragOverlay:h,sortedRects:lje(m,c),strategy:a}),[g,f,j.draggable,j.droppable,w,m,x,c,h,a]);return L.createElement(l7.Provider,{value:_},t)}const pje=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return Aw(r,n,a).indexOf(t)},gje=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:s,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==s&&a===o?!1:r?!0:o!==a&&t===c},vje={duration:200,easing:"ease"},u7="transform",yje=bf.Transition.toString({property:u7,duration:0,easing:"linear"}),xje={roleDescription:"sortable"};function bje(e){let{disabled:t,index:r,node:n,rect:a}=e;const[s,o]=p.useState(null),l=p.useRef(r);return Ei(()=>{if(!t&&r!==l.current&&n.current){const c=a.current;if(c){const u=jh(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[t,r,n,a]),p.useEffect(()=>{s&&o(null)},[s]),s}function d7(e){let{animateLayoutChanges:t=gje,attributes:r,disabled:n,data:a,getNewIndex:s=pje,id:o,strategy:l,resizeObserverConfig:c,transition:u=vje}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:v,sortedRects:g,overIndex:x,useDragOverlay:b,strategy:y}=p.useContext(l7),w=wje(n,m),j=d.indexOf(o),_=p.useMemo(()=>({sortable:{containerId:f,index:j,items:d},...a}),[f,a,j,d]),N=p.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:S,node:k,isOver:C,setNodeRef:A}=oje({id:o,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:E,activatorEvent:P,activeNodeRect:F,attributes:I,setNodeRef:z,listeners:O,isDragging:$,over:D,setActivatorNodeRef:T,transform:U}=nje({id:o,data:_,attributes:{...xje,...r},disabled:w.draggable}),R=zbe(A,z),M=!!E,B=M&&!v&&dy(h)&&dy(x),V=!b&&$,q=V&&B?U:null,Y=B?q??(l??y)({rects:g,activeNodeRect:F,activeIndex:h,overIndex:x,index:j}):null,te=dy(h)&&dy(x)?s({id:o,items:d,activeIndex:h,overIndex:x}):j,Z=E==null?void 0:E.id,ne=p.useRef({activeId:Z,items:d,newIndex:te,containerId:f}),ee=d!==ne.current.items,G=t({active:E,containerId:f,isDragging:$,isSorting:M,id:o,index:j,items:d,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:u,wasDragging:ne.current.activeId!=null}),_e=bje({disabled:!G,index:j,node:k,rect:S});return p.useEffect(()=>{M&&ne.current.newIndex!==te&&(ne.current.newIndex=te),f!==ne.current.containerId&&(ne.current.containerId=f),d!==ne.current.items&&(ne.current.items=d)},[M,te,f,d]),p.useEffect(()=>{if(Z===ne.current.activeId)return;if(Z!=null&&ne.current.activeId==null){ne.current.activeId=Z;return}const he=setTimeout(()=>{ne.current.activeId=Z},50);return()=>clearTimeout(he)},[Z]),{active:E,activeIndex:h,attributes:I,data:_,rect:S,index:j,newIndex:te,items:d,isOver:C,isSorting:M,isDragging:$,listeners:O,node:k,overIndex:x,over:D,setNodeRef:R,setActivatorNodeRef:T,setDroppableNodeRef:A,setDraggableNodeRef:z,transform:_e??Y,transition:ie()};function ie(){if(_e||ee&&ne.current.newIndex===j)return yje;if(!(V&&!sP(P)||!u)&&(M||G))return bf.Transition.toString({...u,property:u7})}}function wje(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function o0(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const jje=[ft.Down,ft.Right,ft.Up,ft.Left],f7=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:a,droppableContainers:s,over:o,scrollableAncestors:l}}=t;if(jje.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=a.get(f.id);if(h)switch(e.code){case ft.Down:n.top<h.top&&c.push(f);break;case ft.Up:n.top>h.top&&c.push(f);break;case ft.Left:n.left>h.left&&c.push(f);break;case ft.Right:n.left<h.left&&c.push(f);break}});const u=rwe({collisionRect:n,droppableRects:a,droppableContainers:c});let d=HH(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(r.id),h=s.get(d),m=h?a.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&m&&f&&h){const x=Nw(v).some((N,S)=>l[S]!==N),b=h7(f,h),y=_je(f,h),w=x||!b?{x:0,y:0}:{x:y?n.width-m.width:0,y:y?n.height-m.height:0},j={x:m.left,y:m.top};return w.x&&w.y?j:Lp(j,w)}}}};function h7(e,t){return!o0(e)||!o0(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function _je(e,t){return!o0(e)||!o0(t)||!h7(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Nje({images:e,currentIndex:t,open:r,onOpenChange:n,onIndexChange:a}){const[s,o]=p.useState(1),[l,c]=p.useState(t),u=()=>{const v=l>0?l-1:e.length-1;c(v),a==null||a(v),o(1)},d=()=>{const v=l<e.length-1?l+1:0;c(v),a==null||a(v),o(1)},f=()=>{o(v=>Math.min(v+.5,3))},h=()=>{o(v=>Math.max(v-.5,.5))},m=v=>{v&&(c(t),o(1)),n(v)};return e.length===0?null:i.jsx(Un,{open:r,onOpenChange:m,children:i.jsxs(Rn,{className:"max-w-[95vw] max-h-[95vh] p-0 bg-black/95 border-none",children:[i.jsx(K,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-50 text-white hover:bg-white/20",onClick:()=>n(!1),children:i.jsx(Tt,{className:"w-6 h-6"})}),i.jsxs("div",{className:"absolute top-2 left-2 z-50 flex gap-1",children:[i.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:h,disabled:s<=.5,children:i.jsx(xee,{className:"w-5 h-5"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:f,disabled:s>=3,children:i.jsx(yee,{className:"w-5 h-5"})}),i.jsxs("span",{className:"text-white text-sm flex items-center px-2",children:[Math.round(s*100),"%"]})]}),e.length>1&&i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-50 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[l+1," / ",e.length]}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(K,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 z-50 text-white hover:bg-white/20 w-12 h-12",onClick:d,children:i.jsx(Bs,{className:"w-8 h-8"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 z-50 text-white hover:bg-white/20 w-12 h-12",onClick:u,children:i.jsx(Vr,{className:"w-8 h-8"})})]}),i.jsx("div",{className:"w-full h-[90vh] flex items-center justify-center overflow-auto p-4",children:i.jsx("img",{src:e[l],alt:"",className:"max-w-full max-h-full object-contain transition-transform duration-200",style:{transform:`scale(${s})`}})}),e.length>1&&i.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-50 flex gap-2 bg-black/60 p-2 rounded-lg max-w-[80vw] overflow-x-auto",children:e.map((v,g)=>i.jsx("button",{onClick:()=>{c(g),a==null||a(g),o(1)},className:`w-12 h-12 flex-shrink-0 rounded overflow-hidden border-2 transition-all ${g===l?"border-primary opacity-100":"border-transparent opacity-60 hover:opacity-100"}`,children:i.jsx("img",{src:v,alt:"",className:"w-full h-full object-cover"})},g))})]})})}function Sje({id:e,url:t,index:r,onRemove:n,onSetAsCover:a,onPreview:s}){const{attributes:o,listeners:l,setNodeRef:c,transform:u,transition:d,isDragging:f}=d7({id:e}),h={transform:bf.Transform.toString(u),transition:d,zIndex:f?10:1};return i.jsxs("div",{ref:c,style:h,className:`relative w-20 h-20 flex-shrink-0 group ${f?"opacity-70 scale-105":""}`,children:[i.jsx("img",{src:t,alt:"",className:"w-full h-full object-cover rounded-lg cursor-pointer",onClick:()=>s(r)}),i.jsx("button",{type:"button",onClick:()=>s(r),className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black/60 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",title:" ",children:i.jsx(tee,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",className:"absolute top-1 left-1 bg-black/50 text-white rounded p-0.5 cursor-grab active:cursor-grabbing touch-none opacity-0 group-hover:opacity-100 transition-opacity",...o,...l,children:i.jsx(Lb,{className:"w-3 h-3"})}),i.jsx("button",{type:"button",onClick:()=>n(r),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5",children:i.jsx(Tt,{className:"w-3 h-3"})}),a&&i.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute bottom-1 left-1 bg-primary text-primary-foreground rounded p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",title:"  ",children:i.jsx(Vl,{className:"w-3 h-3"})}),i.jsx("span",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[10px] rounded px-1",children:r+1})]})}function Pw({images:e,setImages:t,onRemove:r,onUploadClick:n,isUploading:a,maxImages:s=10,onSetAsCover:o}){const[l,c]=p.useState(!1),[u,d]=p.useState(0),f=UH(s0(Cw,{activationConstraint:{distance:8}}),s0(Sw,{coordinateGetter:f7})),h=g=>{const{active:x,over:b}=g;if(b&&x.id!==b.id){const y=e.findIndex((j,_)=>`image-${_}`===x.id),w=e.findIndex((j,_)=>`image-${_}`===b.id);t(Aw(e,y,w))}},m=g=>{d(g),c(!0)},v=e.map((g,x)=>`image-${x}`);return i.jsxs("div",{className:"space-y-2",children:[i.jsx(s7,{sensors:f,collisionDetection:qH,onDragEnd:h,children:i.jsx(c7,{items:v,strategy:dje,children:i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.map((g,x)=>i.jsx(Sje,{id:`image-${x}`,url:g,index:x,onRemove:r,onSetAsCover:o,onPreview:m},`image-${x}`)),e.length<s&&i.jsx("button",{type:"button",onClick:n,disabled:a,className:"w-20 h-20 flex-shrink-0 border-2 border-dashed border-border rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors disabled:opacity-50",children:a?i.jsx(ve,{className:"w-6 h-6 text-primary animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Hg,{className:"w-5 h-5 text-muted-foreground mb-1"}),i.jsx("span",{className:"text-[10px] text-muted-foreground font-arabic",children:""})]})})]})})}),e.length>1&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 font-arabic",children:[i.jsx(Lb,{className:"w-3 h-3"}),"   "]}),i.jsx(Nje,{images:e,currentIndex:u,open:l,onOpenChange:c,onIndexChange:d})]})}var lP="Radio",[Cje,m7]=Dr(lP),[kje,Eje]=Cje(lP),p7=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=p.useState(null),m=Oe(t,x=>h(x)),v=p.useRef(!1),g=f?u||!!f.closest("form"):!0;return i.jsxs(kje,{scope:r,checked:a,disabled:o,children:[i.jsx(me.button,{type:"button",role:"radio","aria-checked":a,"data-state":x7(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:le(e.onClick,x=>{a||c==null||c(),g&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),g&&i.jsx(y7,{control:f,bubbles:!v.current,name:n,value:l,checked:a,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});p7.displayName=lP;var g7="RadioIndicator",v7=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,s=Eje(g7,r);return i.jsx(hn,{present:n||s.checked,children:i.jsx(me.span,{"data-state":x7(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});v7.displayName=g7;var Aje="RadioBubbleInput",y7=p.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=p.useRef(null),l=Oe(o,s),c=lv(r),u=Kg(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),i.jsx(me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});y7.displayName=Aje;function x7(e){return e?"checked":"unchecked"}var Pje=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ow="RadioGroup",[Oje]=Dr(Ow,[yh,m7]),b7=yh(),w7=m7(),[Tje,Mje]=Oje(Ow),j7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=b7(r),v=Hl(u),[g,x]=va({prop:s,defaultProp:a??null,onChange:f,caller:Ow});return i.jsx(Tje,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:x,children:i.jsx(LA,{asChild:!0,...m,orientation:c,dir:v,loop:d,children:i.jsx(me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});j7.displayName=Ow;var _7="RadioGroupItem",N7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,s=Mje(_7,r),o=s.disabled||n,l=b7(r),c=w7(r),u=p.useRef(null),d=Oe(t,u),f=s.value===a.value,h=p.useRef(!1);return p.useEffect(()=>{const m=g=>{Pje.includes(g.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),i.jsx(FA,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(p7,{disabled:o,required:s.required,checked:f,...c,...a,name:s.name,ref:d,onCheck:()=>s.onValueChange(a.value),onKeyDown:le(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:le(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});N7.displayName=_7;var Rje="RadioGroupIndicator",S7=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=w7(r);return i.jsx(v7,{...a,...n,ref:t})});S7.displayName=Rje;var C7=j7,k7=N7,Dje=S7;const cP=p.forwardRef(({className:e,...t},r)=>i.jsx(C7,{className:oe("grid gap-2",e),...t,ref:r}));cP.displayName=C7.displayName;const Bp=p.forwardRef(({className:e,...t},r)=>i.jsx(k7,{ref:r,className:oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(Dje,{className:"flex items-center justify-center",children:i.jsx(OB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Bp.displayName=k7.displayName;function E7({latitude:e,longitude:t,onLocationChange:r}){const[n,a]=p.useState(!1),[s,o]=p.useState(""),[l,c]=p.useState(null);p.useEffect(()=>{o(e&&t?`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&q=${e},${t}&zoom=15&maptype=roadmap`:"")},[e,t]);const u=p.useCallback(()=>{if(!navigator.geolocation){c("    ");return}a(!0),c(null),navigator.geolocation.getCurrentPosition(f=>{r(f.coords.latitude,f.coords.longitude),a(!1)},f=>{c("    "),a(!1),console.error("Geolocation error:",f)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},[r]),d=()=>{r(null,null),c(null)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs(re,{className:"font-arabic flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4"}),"   "]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(K,{type:"button",variant:"outline",onClick:u,disabled:n,className:"flex-1",children:[n?i.jsx(ve,{className:"w-4 h-4 animate-spin ml-2"}):i.jsx(Ug,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground font-arabic",children:"  (Latitude)"}),i.jsx("input",{type:"number",step:"any",value:e||"",onChange:f=>r(f.target.value?parseFloat(f.target.value):null,t),placeholder:"24.7136",className:"w-full px-3 py-2 text-sm border border-input rounded-lg bg-background text-left",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground font-arabic",children:"  (Longitude)"}),i.jsx("input",{type:"number",step:"any",value:t||"",onChange:f=>r(e,f.target.value?parseFloat(f.target.value):null),placeholder:"46.6753",className:"w-full px-3 py-2 text-sm border border-input rounded-lg bg-background text-left",dir:"ltr"})]})]}),l&&i.jsx("p",{className:"text-xs text-destructive font-arabic",children:l}),e&&t&&i.jsxs("div",{className:"flex items-center justify-between bg-green-50 dark:bg-green-950/30 rounded-lg p-3",children:[i.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:d,className:"text-destructive text-xs",children:""}),i.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400",children:[i.jsx(It,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-arabic",children:"  "})]})]}),s&&i.jsx("div",{className:"w-full h-40 rounded-xl overflow-hidden border border-border",children:i.jsx("iframe",{src:s,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:" "})}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic text-center",children:'   " "    '})]})}var Tw="Checkbox",[Ije]=Dr(Tw),[$je,uP]=Ije(Tw);function Lje(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=va({prop:r,defaultProp:a??!1,onChange:c,caller:Tw}),[v,g]=p.useState(null),[x,b]=p.useState(null),y=p.useRef(!1),w=v?!!o||!!v.closest("form"):!0,j={checked:h,disabled:s,setChecked:m,control:v,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:El(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:b};return i.jsx($je,{scope:t,...j,children:Fje(f)?f(j):n})}var A7="CheckboxTrigger",P7=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=uP(A7,e),g=Oe(a,d),x=p.useRef(c);return p.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const y=()=>f(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[s,f]),i.jsx(me.button,{type:"button",role:"checkbox","aria-checked":El(c)?"mixed":c,"aria-required":u,"data-state":D7(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:le(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:le(r,b=>{f(y=>El(y)?!0:!y),v&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});P7.displayName=A7;var dP=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(Lje,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(P7,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(R7,{__scopeCheckbox:r})]})})});dP.displayName=Tw;var O7="CheckboxIndicator",T7=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=uP(O7,r);return i.jsx(hn,{present:n||El(s.checked)||s.checked===!0,children:i.jsx(me.span,{"data-state":D7(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});T7.displayName=O7;var M7="CheckboxBubbleInput",R7=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=uP(M7,e),v=Oe(r,m),g=lv(s),x=Kg(n);p.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(g!==s&&_){const S=new Event("click",{bubbles:N});y.indeterminate=El(s),_.call(y,El(s)?!1:s),y.dispatchEvent(S)}},[h,g,s,a]);const b=p.useRef(El(s)?!1:s);return i.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});R7.displayName=M7;function Fje(e){return typeof e=="function"}function El(e){return e==="indeterminate"}function D7(e){return El(e)?"indeterminate":e?"checked":"unchecked"}const I7=p.forwardRef(({className:e,...t},r)=>i.jsx(dP,{ref:r,className:oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(T7,{className:oe("flex items-center justify-center text-current"),children:i.jsx(It,{className:"h-4 w-4"})})}));I7.displayName=dP.displayName;function Bje({id:e,feature:t,onRemove:r,isCustom:n}){const{attributes:a,listeners:s,setNodeRef:o,transform:l,transition:c,isDragging:u}=d7({id:e}),d={transform:bf.Transform.toString(l),transition:c};return i.jsxs("div",{ref:o,style:d,className:`flex items-center gap-2 p-2 rounded-lg border bg-background ${u?"opacity-50 shadow-lg":""}`,children:[i.jsx("button",{type:"button",className:"cursor-grab active:cursor-grabbing touch-none",...a,...s,children:i.jsx(Lb,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx("span",{className:"flex-1 font-arabic text-sm",children:t}),n&&i.jsx("button",{type:"button",onClick:()=>r(t),className:"hover:text-destructive",children:i.jsx(Tt,{className:"w-4 h-4"})})]})}function $7({selectedFeatures:e,setSelectedFeatures:t,noFeatures:r,setNoFeatures:n,availableFeatures:a}){const[s,o]=p.useState(""),l=UH(s0(Cw,{activationConstraint:{distance:8}}),s0(Sw,{coordinateGetter:f7})),c=m=>{const{active:v,over:g}=m;if(g&&v.id!==g.id){const x=e.indexOf(v.id),b=e.indexOf(g.id);t(Aw(e,x,b))}},u=m=>{e.includes(m)?t(e.filter(v=>v!==m)):t([...e,m])},d=m=>{n(m),m&&(t([]),o(""))},f=()=>{const m=s.trim();m&&!e.includes(m)&&(t([...e,m]),o(""))},h=m=>{t(e.filter(v=>v!==m))};return i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"font-arabic font-semibold",children:""}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(I7,{id:"noFeatures",checked:r,onCheckedChange:m=>d(m)}),i.jsx(re,{htmlFor:"noFeatures",className:"font-arabic text-sm cursor-pointer",children:"  "})]}),!r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(m=>i.jsx("button",{type:"button",onClick:()=>u(m),className:`p-2 text-sm rounded-lg border transition-colors font-arabic ${e.includes(m)?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:border-primary"}`,children:m},m))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{value:s,onChange:m=>o(m.target.value),placeholder:"  ...",className:"text-right font-arabic",dir:"rtl",onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),f())}}),i.jsx(K,{type:"button",variant:"outline",size:"icon",onClick:f,disabled:!s.trim(),children:i.jsx(Sr,{className:"w-4 h-4"})})]})]}),e.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"font-arabic text-sm flex items-center gap-2",children:[i.jsx(Lb,{className:"w-4 h-4"}),"  ( )"]}),i.jsx(s7,{sensors:l,collisionDetection:qH,onDragEnd:c,children:i.jsx(c7,{items:e,strategy:hje,children:i.jsx("div",{className:"space-y-2",children:e.map(m=>i.jsx(Bje,{id:m,feature:m,onRemove:h,isCustom:!a.includes(m)},m))})})})]})]})]})}async function fP(e,t=1920,r=1920,n=.8){return!e.type.startsWith("image/")||e.size<500*1024||e.type==="image/gif"?e:new Promise((a,s)=>{const o=new FileReader;o.onload=l=>{var u;const c=new Image;c.onload=()=>{let{width:d,height:f}=c;if(d>t||f>r){const v=Math.min(t/d,r/f);d=Math.round(d*v),f=Math.round(f*v)}const h=document.createElement("canvas");h.width=d,h.height=f;const m=h.getContext("2d");if(!m){a(e);return}m.imageSmoothingEnabled=!0,m.imageSmoothingQuality="high",m.drawImage(c,0,0,d,f),h.toBlob(v=>{if(!v){a(e);return}if(v.size<e.size){const g=new File([v],e.name,{type:"image/jpeg",lastModified:Date.now()});a(g)}else a(e)},"image/jpeg",n)},c.onerror=()=>{a(e)},c.src=(u=l.target)==null?void 0:u.result},o.onerror=()=>{s(new Error("   "))},o.readAsDataURL(e)})}async function Mw(e,t){const{maxWidth:r=1920,maxHeight:n=1920,quality:a=.8}={},s=e.map(o=>fP(o,r,n,a));return Promise.all(s)}function zje({open:e,onOpenChange:t,onSuccess:r}){const{user:n}=at(),{toast:a}=Ke(),s=p.useRef(null),o=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,v]=p.useState(null),[g,x]=p.useState([]),[b,y]=p.useState(null),[w,j]=p.useState(null),[_,N]=p.useState([]),[S,k]=p.useState(!1),C=[" "," VIP","","",""," ","  "," ","  "," "," "," "," ","  "," "],[A,E]=p.useState({name_ar:"",name_en:"",city:"",address:"",description:"",capacity_men:"",capacity_women:"",min_capacity_men:"",min_capacity_women:"",pricing_type:"total",price_weekday:"",price_weekend:"",price_per_chair_weekday:"",price_per_chair_weekend:"",phone:"",whatsapp_enabled:!0}),P=(R,M)=>{E(B=>({...B,[R]:M}))},F=(R,M)=>{y(R),j(M)},I=async(R,M)=>{if(!n)return null;if(!R.type.startsWith("image/"))throw new Error("     ");if(R.size>5*1024*1024)throw new Error("      5 ");const B=R.name.split(".").pop(),V=`${n.id}/${M}/${Date.now()}-${Math.random().toString(36).substring(7)}.${B}`,{error:q}=await W.storage.from("hall-images").upload(V,R);if(q)throw q;const{data:{publicUrl:J}}=W.storage.from("hall-images").getPublicUrl(V);return J},z=async R=>{var B;const M=(B=R.target.files)==null?void 0:B[0];if(!(!M||!n)){d(!0);try{const V=M.size,q=await fP(M),J=q.size,Y=await I(q,"covers");if(Y){v(Y);const te=V>J?Math.round((1-J/V)*100):0;a({title:" ",description:te>0?`     (  ${te}%)`:"    "})}}catch(V){a({title:"  ",description:V.message||"    ",variant:"destructive"})}finally{d(!1),s.current&&(s.current.value="")}}},O=async R=>{const M=R.target.files;if(!M||!n)return;const B=10-g.length,V=Array.from(M).slice(0,B);if(V.length===0){a({title:"",description:"  10  ",variant:"destructive"});return}h(!0);try{const J=(await Mw(V)).map(Z=>I(Z,"gallery")),te=(await Promise.all(J)).filter(Z=>Z!==null);x(Z=>[...Z,...te]),a({title:" ",description:`   ${te.length}  `})}catch(q){a({title:"  ",description:q.message||"    ",variant:"destructive"})}finally{h(!1),o.current&&(o.current.value="")}},$=async()=>{if(m!=null&&m.includes("hall-images"))try{const R=m.split("hall-images/")[1];R&&await W.storage.from("hall-images").remove([R])}catch(R){console.log("Could not delete from storage:",R)}v(null)},D=async R=>{const M=g[R];if(M!=null&&M.includes("hall-images"))try{const B=M.split("hall-images/")[1];B&&await W.storage.from("hall-images").remove([B])}catch(B){console.log("Could not delete from storage:",B)}x(B=>B.filter((V,q)=>q!==R))},T=()=>{E({name_ar:"",name_en:"",city:"",address:"",description:"",capacity_men:"",capacity_women:"",min_capacity_men:"",min_capacity_women:"",pricing_type:"total",price_weekday:"",price_weekend:"",price_per_chair_weekday:"",price_per_chair_weekend:"",phone:"",whatsapp_enabled:!0}),v(null),x([]),y(null),j(null),N([]),k(!1)},U=async R=>{if(R.preventDefault(),!!n){c(!0);try{const M={owner_id:n.id,name_ar:A.name_ar,name_en:A.name_en||null,city:A.city,address:A.address||null,description:A.description||null,capacity_men:parseInt(A.capacity_men)||0,capacity_women:parseInt(A.capacity_women)||0,min_capacity_men:parseInt(A.min_capacity_men)||0,min_capacity_women:parseInt(A.min_capacity_women)||0,pricing_type:A.pricing_type,price_weekday:A.pricing_type==="total"&&parseInt(A.price_weekday)||0,price_weekend:A.pricing_type==="total"&&parseInt(A.price_weekend)||0,price_per_chair_weekday:A.pricing_type==="per_chair"&&parseInt(A.price_per_chair_weekday)||null,price_per_chair_weekend:A.pricing_type==="per_chair"&&parseInt(A.price_per_chair_weekend)||null,cover_image:m,gallery_images:g.length>0?g:null,features:S?null:_.length>0?_:null,phone:A.phone||null,whatsapp_enabled:A.whatsapp_enabled,latitude:b,longitude:w},{error:B}=await W.from("halls").insert(M);if(B)throw B;a({title:" !",description:"   "}),r(),t(!1),T()}catch{a({title:"",description:"  ",variant:"destructive"})}finally{c(!1)}}};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-6",children:i.jsx(Kt,{className:"font-display text-2xl",children:"  "})}),i.jsxs("form",{onSubmit:U,className:"space-y-5 pb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),m?i.jsxs("div",{className:"relative w-full h-40 rounded-xl overflow-hidden",children:[i.jsx("img",{src:m,alt:"Cover",className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:$,className:"absolute top-2 left-2 bg-destructive text-destructive-foreground rounded-full p-1",children:i.jsx(Tt,{className:"w-4 h-4"})})]}):i.jsx("button",{type:"button",onClick:()=>{var R;return(R=s.current)==null?void 0:R.click()},disabled:u,className:"w-full h-32 border-2 border-dashed border-border rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors disabled:opacity-50",children:u?i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Hg,{className:"w-8 h-8 text-muted-foreground mb-2"}),i.jsx("span",{className:"text-sm text-muted-foreground font-arabic",children:"   "})]})}),i.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:z,className:"hidden"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  ( 10 )"}),i.jsx(Pw,{images:g,setImages:x,onRemove:D,onUploadClick:()=>{var R;return(R=o.current)==null?void 0:R.click()},isUploading:f,maxImages:10,onSetAsCover:R=>{v(R),a({title:" ",description:"    "})}}),i.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:O,className:"hidden"}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Vl,{className:"w-3 h-3"}),"  5   "]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:A.name_en,onChange:R=>P("name_en",R.target.value),placeholder:"Hall Name",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{value:A.name_ar,onChange:R=>P("name_ar",R.target.value),placeholder:" ",className:"text-right font-arabic",required:!0,dir:"rtl"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:A.city,onValueChange:R=>P("city",R),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:hw.map(R=>i.jsx(ut,{value:R,className:"font-arabic",children:R},R))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:""}),i.jsx(ge,{value:A.address,onChange:R=>P("address",R.target.value),placeholder:" ",className:"text-right font-arabic",dir:"rtl"})]}),i.jsx(E7,{latitude:b,longitude:w,onLocationChange:F}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(Sn,{value:A.description,onChange:R=>P("description",R.target.value),placeholder:"     ",className:"text-right font-arabic min-h-[100px]",dir:"rtl"})]}),i.jsx($7,{selectedFeatures:_,setSelectedFeatures:N,noFeatures:S,setNoFeatures:k,availableFeatures:C}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"font-arabic font-semibold",children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"   *"}),i.jsx(ge,{type:"number",value:A.capacity_women,onChange:R=>P("capacity_women",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"   *"}),i.jsx(ge,{type:"number",value:A.capacity_men,onChange:R=>P("capacity_men",R.target.value),placeholder:"0",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  "}),i.jsx(ge,{type:"number",value:A.min_capacity_women,onChange:R=>P("min_capacity_women",R.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  "}),i.jsx(ge,{type:"number",value:A.min_capacity_men,onChange:R=>P("min_capacity_men",R.target.value),placeholder:"0"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"font-arabic font-semibold",children:" "}),i.jsxs(cP,{value:A.pricing_type,onValueChange:R=>P("pricing_type",R),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Bp,{value:"total",id:"add-total"}),i.jsx(re,{htmlFor:"add-total",className:"font-arabic cursor-pointer",children:" "})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Bp,{value:"per_chair",id:"add-per_chair"}),i.jsx(re,{htmlFor:"add-per_chair",className:"font-arabic cursor-pointer",children:" "})]})]})]}),A.pricing_type==="total"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"   (.) *"}),i.jsx(ge,{type:"number",value:A.price_weekend,onChange:R=>P("price_weekend",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"   (.) *"}),i.jsx(ge,{type:"number",value:A.price_weekday,onChange:R=>P("price_weekday",R.target.value),placeholder:"0",required:!0})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"    (.) *"}),i.jsx(ge,{type:"number",value:A.price_per_chair_weekend,onChange:R=>P("price_per_chair_weekend",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"    (.) *"}),i.jsx(ge,{type:"number",value:A.price_per_chair_weekday,onChange:R=>P("price_per_chair_weekday",R.target.value),placeholder:"0",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"font-arabic flex items-center gap-2",children:[i.jsx(G2,{className:"w-4 h-4"}),"  ()"]}),i.jsx(ge,{type:"tel",value:A.phone,onChange:R=>P("phone",R.target.value),placeholder:"966512345678",dir:"ltr",className:"text-left"}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:"     (: 966512345678)"})]}),i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsx(re,{className:"font-arabic",children:"   "}),i.jsx(Oa,{checked:A.whatsapp_enabled,onCheckedChange:R=>P("whatsapp_enabled",R.toString())})]}),i.jsx(K,{type:"submit",disabled:l||!A.name_ar||!A.city||u||f,className:"w-full gold-gradient text-white py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:l?" ...":" "})})]})]})})}function Uje({open:e,onOpenChange:t,onSuccess:r,hall:n}){const{user:a}=at(),{toast:s}=Ke(),o=p.useRef(null),l=p.useRef(null),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(null),[x,b]=p.useState([]),[y,w]=p.useState(null),[j,_]=p.useState(null),[N,S]=p.useState([]),[k,C]=p.useState(!1),A=[" "," VIP",""," "," "," "," "," ",""," "],[E,P]=p.useState({name_ar:"",name_en:"",city:"",address:"",description:"",capacity_men:"",capacity_women:"",min_capacity_men:"",min_capacity_women:"",pricing_type:"total",price_weekday:"",price_weekend:"",price_per_chair_weekday:"",price_per_chair_weekend:"",phone:"",whatsapp_enabled:!0});p.useEffect(()=>{var R,M,B,V,q,J,Y,te;n&&e&&(P({name_ar:n.name_ar||"",name_en:n.name_en||"",city:n.city||"",address:n.address||"",description:n.description||"",capacity_men:((R=n.capacity_men)==null?void 0:R.toString())||"",capacity_women:((M=n.capacity_women)==null?void 0:M.toString())||"",min_capacity_men:((B=n.min_capacity_men)==null?void 0:B.toString())||"",min_capacity_women:((V=n.min_capacity_women)==null?void 0:V.toString())||"",pricing_type:n.pricing_type||"total",price_weekday:((q=n.price_weekday)==null?void 0:q.toString())||"",price_weekend:((J=n.price_weekend)==null?void 0:J.toString())||"",price_per_chair_weekday:((Y=n.price_per_chair_weekday)==null?void 0:Y.toString())||"",price_per_chair_weekend:((te=n.price_per_chair_weekend)==null?void 0:te.toString())||"",phone:n.phone||"",whatsapp_enabled:n.whatsapp_enabled??!0}),g(n.cover_image||null),b(n.gallery_images||[]),w(n.latitude?Number(n.latitude):null),_(n.longitude?Number(n.longitude):null),n.features&&n.features.length>0?(S(n.features),C(!1)):(S([]),C(!0)))},[n,e]);const F=(R,M)=>{P(B=>({...B,[R]:M}))},I=(R,M)=>{w(R),_(M)},z=async(R,M)=>{if(!a)return null;if(!R.type.startsWith("image/"))throw new Error("     ");if(R.size>5*1024*1024)throw new Error("      5 ");const B=R.name.split(".").pop(),V=`${a.id}/${M}/${Date.now()}-${Math.random().toString(36).substring(7)}.${B}`,{error:q}=await W.storage.from("hall-images").upload(V,R);if(q)throw q;const{data:{publicUrl:J}}=W.storage.from("hall-images").getPublicUrl(V);return J},O=async R=>{var B;const M=(B=R.target.files)==null?void 0:B[0];if(!(!M||!a)){f(!0);try{const V=M.size,q=await fP(M),J=q.size,Y=await z(q,"covers");if(Y){g(Y);const te=V>J?Math.round((1-J/V)*100):0;s({title:" ",description:te>0?`     (  ${te}%)`:"    "})}}catch(V){s({title:"  ",description:V.message||"    ",variant:"destructive"})}finally{f(!1),o.current&&(o.current.value="")}}},$=async R=>{const M=R.target.files;if(!M||!a)return;const B=10-x.length,V=Array.from(M).slice(0,B);if(V.length===0){s({title:"",description:"  10  ",variant:"destructive"});return}m(!0);try{const J=(await Mw(V)).map(Z=>z(Z,"gallery")),te=(await Promise.all(J)).filter(Z=>Z!==null);b(Z=>[...Z,...te]),s({title:" ",description:`   ${te.length}  `})}catch(q){s({title:"  ",description:q.message||"    ",variant:"destructive"})}finally{m(!1),l.current&&(l.current.value="")}},D=async()=>{if(v!=null&&v.includes("hall-images"))try{const R=v.split("hall-images/")[1];R&&await W.storage.from("hall-images").remove([R])}catch(R){console.log("Could not delete from storage:",R)}g(null)},T=async R=>{const M=x[R];if(M!=null&&M.includes("hall-images"))try{const B=M.split("hall-images/")[1];B&&await W.storage.from("hall-images").remove([B])}catch(B){console.log("Could not delete from storage:",B)}b(B=>B.filter((V,q)=>q!==R))},U=async R=>{if(R.preventDefault(),!!a){u(!0);try{const M={name_ar:E.name_ar,name_en:E.name_en||null,city:E.city,address:E.address||null,description:E.description||null,capacity_men:parseInt(E.capacity_men)||0,capacity_women:parseInt(E.capacity_women)||0,min_capacity_men:parseInt(E.min_capacity_men)||0,min_capacity_women:parseInt(E.min_capacity_women)||0,pricing_type:E.pricing_type,price_weekday:E.pricing_type==="total"&&parseInt(E.price_weekday)||0,price_weekend:E.pricing_type==="total"&&parseInt(E.price_weekend)||0,price_per_chair_weekday:E.pricing_type==="per_chair"&&parseInt(E.price_per_chair_weekday)||null,price_per_chair_weekend:E.pricing_type==="per_chair"&&parseInt(E.price_per_chair_weekend)||null,cover_image:v,gallery_images:x.length>0?x:null,features:k?null:N.length>0?N:null,phone:E.phone||null,whatsapp_enabled:E.whatsapp_enabled,latitude:y,longitude:j},{error:B}=await W.from("halls").update(M).eq("id",n.id);if(B)throw B;s({title:" !",description:"    "}),r(),t(!1)}catch{s({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}}};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-6",children:i.jsx(Kt,{className:"font-display text-2xl",children:" "})}),i.jsxs("form",{onSubmit:U,className:"space-y-5 pb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),v?i.jsxs("div",{className:"relative w-full h-40 rounded-xl overflow-hidden",children:[i.jsx("img",{src:v,alt:"Cover",className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:D,className:"absolute top-2 left-2 bg-destructive text-destructive-foreground rounded-full p-1",children:i.jsx(Tt,{className:"w-4 h-4"})})]}):i.jsx("button",{type:"button",onClick:()=>{var R;return(R=o.current)==null?void 0:R.click()},disabled:d,className:"w-full h-32 border-2 border-dashed border-border rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors disabled:opacity-50",children:d?i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Hg,{className:"w-8 h-8 text-muted-foreground mb-2"}),i.jsx("span",{className:"text-sm text-muted-foreground font-arabic",children:"   "})]})}),i.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  ( 10 )"}),i.jsx(Pw,{images:x,setImages:b,onRemove:T,onUploadClick:()=>{var R;return(R=l.current)==null?void 0:R.click()},isUploading:h,maxImages:10,onSetAsCover:R=>{g(R),s({title:" ",description:"    "})}}),i.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:$,className:"hidden"}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Vl,{className:"w-3 h-3"}),"  5   "]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:E.name_en,onChange:R=>F("name_en",R.target.value),placeholder:"Hall Name",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{value:E.name_ar,onChange:R=>F("name_ar",R.target.value),placeholder:" ",className:"text-right font-arabic",required:!0,dir:"rtl"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:E.city,onValueChange:R=>F("city",R),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:hw.map(R=>i.jsx(ut,{value:R,className:"font-arabic",children:R},R))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:""}),i.jsx(ge,{value:E.address,onChange:R=>F("address",R.target.value),placeholder:" ",className:"text-right font-arabic",dir:"rtl"})]}),i.jsx(E7,{latitude:y,longitude:j,onLocationChange:I}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(Sn,{value:E.description,onChange:R=>F("description",R.target.value),placeholder:"     ",className:"text-right font-arabic min-h-[100px]",dir:"rtl"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"font-arabic font-semibold",children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"   *"}),i.jsx(ge,{type:"number",value:E.capacity_women,onChange:R=>F("capacity_women",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"   *"}),i.jsx(ge,{type:"number",value:E.capacity_men,onChange:R=>F("capacity_men",R.target.value),placeholder:"0",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  "}),i.jsx(ge,{type:"number",value:E.min_capacity_women,onChange:R=>F("min_capacity_women",R.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  "}),i.jsx(ge,{type:"number",value:E.min_capacity_men,onChange:R=>F("min_capacity_men",R.target.value),placeholder:"0"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"font-arabic font-semibold",children:" "}),i.jsxs(cP,{value:E.pricing_type,onValueChange:R=>F("pricing_type",R),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Bp,{value:"total",id:"total"}),i.jsx(re,{htmlFor:"total",className:"font-arabic cursor-pointer",children:" "})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Bp,{value:"per_chair",id:"per_chair"}),i.jsx(re,{htmlFor:"per_chair",className:"font-arabic cursor-pointer",children:" "})]})]})]}),E.pricing_type==="total"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"   (.) *"}),i.jsx(ge,{type:"number",value:E.price_weekend,onChange:R=>F("price_weekend",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"   (.) *"}),i.jsx(ge,{type:"number",value:E.price_weekday,onChange:R=>F("price_weekday",R.target.value),placeholder:"0",required:!0})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"    (.) *"}),i.jsx(ge,{type:"number",value:E.price_per_chair_weekend,onChange:R=>F("price_per_chair_weekend",R.target.value),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"    (.) *"}),i.jsx(ge,{type:"number",value:E.price_per_chair_weekday,onChange:R=>F("price_per_chair_weekday",R.target.value),placeholder:"0",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"font-arabic flex items-center gap-2",children:[i.jsx(G2,{className:"w-4 h-4"}),"  ()"]}),i.jsx(ge,{type:"tel",value:E.phone,onChange:R=>F("phone",R.target.value),placeholder:"966512345678",dir:"ltr",className:"text-left"}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:"     (: 966512345678)"})]}),i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsx(re,{className:"font-arabic",children:"   "}),i.jsx(Oa,{checked:E.whatsapp_enabled,onCheckedChange:R=>F("whatsapp_enabled",R)})]}),i.jsx($7,{selectedFeatures:N,setSelectedFeatures:S,noFeatures:k,setNoFeatures:C,availableFeatures:A}),i.jsx(K,{type:"submit",disabled:c||!E.name_ar||!E.city||d||h,className:"w-full gold-gradient text-white py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:c?" ...":" "})})]})]})})}const r_={available:"bg-available",booked:"bg-booked",resale:"bg-resale",unavailable:"bg-gray-500"},sI={available:"",booked:"",resale:" ",unavailable:" "},n_={pending:"bg-yellow-500",accepted:"bg-green-500",rejected:"bg-red-500",cancelled:"bg-gray-500"},a_={pending:" ",accepted:"",rejected:"",cancelled:""};function Vje({open:e,onOpenChange:t,hall:r}){var R,M;const{toast:n}=Ke(),[a,s]=p.useState(new Date),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(null),[v,g]=p.useState("booked"),[x,b]=p.useState(!1),[y,w]=p.useState(null),[j,_]=p.useState(!1),N=or(a),S=Us(a),k=lA({start:N,end:S}),C=ki(new Date);sn(C,12),p.useEffect(()=>{e&&r&&A()},[e,r,a]);const A=async()=>{f(!0),await Promise.all([E(),P()]),f(!1)},E=async()=>{const B=fe(N,"yyyy-MM-dd"),V=fe(S,"yyyy-MM-dd"),{data:q,error:J}=await W.from("hall_availability").select("*").eq("hall_id",r.id).gte("date",B).lte("date",V);!J&&q&&l(q)},P=async()=>{const B=fe(N,"yyyy-MM-dd"),V=fe(S,"yyyy-MM-dd"),{data:q,error:J}=await W.from("hall_bookings").select("*").eq("hall_id",r.id).gte("booking_date",B).lte("booking_date",V).order("booking_date",{ascending:!0});if(!J&&q){const Y=await Promise.all(q.map(async te=>{const{data:Z}=await W.from("profiles").select("full_name, phone").eq("id",te.user_id).maybeSingle();return{...te,profiles:Z}}));u(Y)}},F=B=>{const V=fe(B,"yyyy-MM-dd"),q=o.find(J=>J.date===V);return(q==null?void 0:q.status)??null},I=B=>{const V=fe(B,"yyyy-MM-dd");return c.find(q=>q.booking_date===V)},z=B=>{const V=I(B);V?(w(V),b(!0),m(null)):Zi(B,C)||(m(B),b(!1),w(null))},O=async()=>{if(!h)return;f(!0);const B=fe(h,"yyyy-MM-dd");try{const V=o.find(q=>q.date===B);V?v==="available"?await W.from("hall_availability").delete().eq("id",V.id):await W.from("hall_availability").update({status:v}).eq("id",V.id):v!=="available"&&await W.from("hall_availability").insert({hall_id:r.id,date:B,status:v}),n({title:" ",description:`   ${fe(h,"d MMMM yyyy",{locale:Je})}`}),A(),m(null)}catch{n({title:"",description:"  ",variant:"destructive"})}finally{f(!1)}},$=async B=>{if(y){_(!0);try{const{error:V}=await W.from("hall_bookings").update({status:B}).eq("id",y.id);if(V)throw V;if(B==="accepted"){const q=o.find(J=>J.date===y.booking_date);q?await W.from("hall_availability").update({status:"booked"}).eq("id",q.id):await W.from("hall_availability").insert({hall_id:r.id,date:y.booking_date,status:"booked"})}n({title:" ",description:`     ${a_[B]}`}),b(!1),w(null),A()}catch{n({title:"",description:"  ",variant:"destructive"})}finally{_(!1)}}},D=!Zi(sn(a,-1),or(C)),T=Zi(a,sn(C,11)),U={pending:c.filter(B=>B.status==="pending").length,accepted:c.filter(B=>B.status==="accepted").length,total:c.length};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-4",children:i.jsxs(Kt,{className:"font-display text-2xl flex items-center gap-2 justify-end",children:[r.name_ar,i.jsx(qt,{className:"w-6 h-6 text-primary"})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:U.total}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:" "})]}),i.jsxs("div",{className:"bg-yellow-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:U.pending}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:" "})]}),i.jsxs("div",{className:"bg-green-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.accepted}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:""})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4 flex-wrap",children:[["available","booked","resale"].map(B=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-arabic text-xs text-muted-foreground",children:sI[B]}),i.jsx("div",{className:`w-3 h-3 rounded-full ${r_[B]}`})]},B)),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-arabic text-xs text-muted-foreground",children:"  "}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 ring-2 ring-yellow-500/30"})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(sn(a,-1)),disabled:!D,children:i.jsx(Bs,{className:"w-5 h-5"})}),i.jsx("h3",{className:"font-display text-lg font-bold",children:fe(a,"MMMM yyyy",{locale:Je})}),i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(sn(a,1)),disabled:!T,children:i.jsx(Vr,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["","","","","","",""].map(B=>i.jsx("div",{className:"text-center text-xs font-arabic text-muted-foreground py-2",children:B},B))}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[Array.from({length:N.getDay()}).map((B,V)=>i.jsx("div",{className:"aspect-square"},`empty-${V}`)),k.map(B=>{const V=F(B),q=I(B),J=Zi(B,C),Y=h&&Gr(B,h),te=Gr(B,C),Z=!!q,ne=(q==null?void 0:q.status)==="pending";return i.jsxs("button",{onClick:()=>z(B),disabled:J&&!Z,className:`
                  aspect-square rounded-lg flex flex-col items-center justify-center text-sm font-medium transition-all relative
                  ${J&&!Z?"opacity-30 cursor-not-allowed":"hover:ring-2 hover:ring-primary cursor-pointer"}
                  ${Y?"ring-2 ring-primary":""}
                  ${te?"font-bold":""}
                  ${Z?`${n_[q.status]} text-white`:V?`${r_[V]} text-white`:"bg-muted text-foreground"}
                  ${rhe(B)&&!V&&!Z?"bg-muted/50":""}
                `,children:[fe(B,"d"),ne&&i.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-white rounded-full animate-pulse"})]},B.toISOString())})]}),i.jsx(Lt,{children:h&&!x&&i.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border pt-4 space-y-4",children:[i.jsx("p",{className:"font-arabic text-center text-muted-foreground",children:fe(h,"EEEE d MMMM yyyy",{locale:Je})}),i.jsx("div",{className:"flex items-center justify-center gap-3",children:["available","booked","resale"].map(B=>i.jsx("button",{onClick:()=>g(B),className:`
                      px-4 py-2 rounded-lg font-arabic text-sm transition-all
                      ${v===B?r_[B]+" text-white shadow-lg":"bg-muted text-muted-foreground hover:bg-muted/80"}
                    `,children:sI[B]},B))}),i.jsx(K,{onClick:O,disabled:d,className:"w-full gold-gradient text-white",children:i.jsx("span",{className:"font-arabic",children:d?" ...":""})})]})}),i.jsx(Lt,{children:x&&y&&i.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border pt-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{b(!1),w(null)},children:i.jsx(Tt,{className:"w-4 h-4"})}),i.jsx("h4",{className:"font-display text-lg font-bold",children:" "})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ce,{className:`${n_[y.status]} text-white`,children:a_[y.status]}),i.jsx("p",{className:"font-arabic text-sm text-muted-foreground",children:fe(new Date(y.booking_date),"EEEE d MMMM yyyy",{locale:Je})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-background rounded-lg p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:y.guest_count_men||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:""})]}),i.jsxs("div",{className:"bg-background rounded-lg p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:y.guest_count_women||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:""})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-lg text-primary",children:[(y.total_price||0).toLocaleString()," ."]}),i.jsx("span",{className:"text-sm text-muted-foreground font-arabic",children:""})]}),((R=y.profiles)==null?void 0:R.full_name)&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-foreground",children:y.profiles.full_name}),i.jsx("span",{className:"text-sm text-muted-foreground font-arabic",children:""})]}),((M=y.profiles)==null?void 0:M.phone)&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-foreground",dir:"ltr",children:y.profiles.phone}),i.jsx("span",{className:"text-sm text-muted-foreground font-arabic",children:""})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:fe(new Date(y.created_at),"d MMM yyyy - HH:mm",{locale:Je})}),i.jsxs("span",{className:"font-arabic flex items-center gap-1",children:[i.jsx(Ra,{className:"w-3 h-3"})," "]})]})]}),y.status==="pending"&&i.jsxs("div",{className:"flex gap-3",children:[i.jsx(K,{onClick:()=>$("accepted"),disabled:j,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:j?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:""})]})}),i.jsx(K,{onClick:()=>$("rejected"),disabled:j,variant:"destructive",className:"flex-1",children:j?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(fl,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:""})]})})]})]})}),c.length>0&&i.jsxs("div",{className:"border-t border-border pt-4 mt-4",children:[i.jsx("h4",{className:"font-display text-lg font-bold mb-3 text-right",children:"  "}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(B=>i.jsxs("button",{onClick:()=>{w(B),b(!0),m(null)},className:"w-full bg-muted/50 hover:bg-muted rounded-xl p-3 flex items-center justify-between transition-colors",children:[i.jsx(Ce,{className:`${n_[B.status]} text-white text-xs`,children:a_[B.status]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-arabic text-sm text-foreground",children:fe(new Date(B.booking_date),"d MMMM",{locale:Je})}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.total_price||0).toLocaleString()," ."]})]})]},B.id))})]})]})})}function Wje({refreshKey:e}){var I,z;const{user:t}=at(),{toast:r}=Ke(),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState("all"),[m,v]=p.useState(!1),[g,x]=p.useState(!1),[b,y]=p.useState(null),[w,j]=p.useState(10);p.useEffect(()=>{t&&_()},[t,e]);const _=async()=>{if(!t)return;const{data:O}=await W.from("halls").select("id").eq("owner_id",t.id);if(!O||O.length===0){a([]),o(!1);return}const $=O.map(U=>U.id),{data:D,error:T}=await W.from("hall_bookings").select(`
        *,
        halls (*),
        profiles (*)
      `).in("hall_id",$).order("created_at",{ascending:!1});!T&&D&&a(D),o(!1)},N=async(O,$)=>{c(O);const{error:D}=await W.from("hall_bookings").update({status:$,updated_at:new Date().toISOString()}).eq("id",O);D?r({title:"",description:"   ",variant:"destructive"}):(r({accepted:{title:"  ",description:"   "},rejected:{title:"  ",description:"   "},cancelled:{title:"  ",description:"   "},pending:{title:" ",description:"   "}}[$]),_()),c(null)},S=async()=>{b&&(await N(b.id,"cancelled"),b.hall_id&&await W.from("hall_availability").upsert({hall_id:b.hall_id,date:b.booking_date,status:"available",notes:"   "},{onConflict:"hall_id,date"}),v(!1),y(null))},k=async()=>{if(b){if(c(b.id),b.hall_id){const{error:O}=await W.from("hall_availability").upsert({hall_id:b.hall_id,date:b.booking_date,status:"resale",resale_discount:w,notes:`   ${w}%`},{onConflict:"hall_id,date"});O?r({title:"",description:"    ",variant:"destructive"}):(await W.from("hall_bookings").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",b.id),r({title:"   ",description:`    ${w}%`}),_())}c(null),x(!1),y(null),j(10)}},C=(O,$)=>{if(!O)return;const D=encodeURIComponent(`  : ${$}`);window.open(`https://wa.me/${O.replace(/\D/g,"")}?text=${D}`,"_blank")},A=O=>{switch(O){case"pending":return i.jsx(Ce,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:" "});case"accepted":return i.jsx(Ce,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/30",children:""});case"rejected":return i.jsx(Ce,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:""});case"cancelled":return i.jsx(Ce,{variant:"outline",className:"bg-gray-500/10 text-gray-600 border-gray-500/30",children:""});default:return null}},E=f==="all"?n:n.filter(O=>O.status===f),P=n.filter(O=>O.status==="pending").length,F=n.filter(O=>O.status==="accepted").length;return s?i.jsx("div",{className:"p-4 flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-amber-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:P}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"bg-green-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:F}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs("div",{className:"bg-blue-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:_,children:i.jsx(Y2,{className:"w-5 h-5"})}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:" "})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:""},{value:"pending",label:" "},{value:"accepted",label:""},{value:"cancelled",label:""}].map(O=>i.jsx("button",{onClick:()=>h(O.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${f===O.value?"gold-gradient text-white":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:O.label},O.value))}),E.length>0?i.jsx("div",{className:"space-y-4",children:E.map((O,$)=>{var D,T,U,R;return i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"card-luxe rounded-xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>d(u===O.id?null:O.id),className:"w-full p-4 text-right",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[A(O.status),i.jsx(Ml,{className:`w-5 h-5 text-muted-foreground transition-transform ${u===O.id?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-foreground mb-1",children:((D=O.halls)==null?void 0:D.name_ar)||"  "}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-arabic",children:fe(new Date(O.booking_date),"d MMMM yyyy",{locale:Je})}),i.jsx(qt,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/50",children:[i.jsxs("span",{className:"font-bold text-primary",children:["SAR ",(T=O.total_price)==null?void 0:T.toLocaleString()]}),i.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),(O.guest_count_men||0)+(O.guest_count_women||0)," "]})})]})]}),i.jsx(Lt,{children:u===O.id&&i.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[i.jsx("div",{className:"h-px bg-border"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:O.guest_count_men||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:O.guest_count_women||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[i.jsx("h4",{className:"font-semibold text-foreground text-right",children:" "}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{children:((U=O.profiles)==null?void 0:U.full_name)||" "}),i.jsx(Ot,{className:"w-4 h-4"})]}),((R=O.profiles)==null?void 0:R.phone)&&i.jsx("div",{className:"flex gap-2 pt-2",children:i.jsxs(K,{size:"sm",className:"flex-1 bg-[#25D366] hover:bg-[#128C7E] text-white",onClick:M=>{var B,V;M.stopPropagation(),C(((B=O.profiles)==null?void 0:B.phone)||null,`${(V=O.halls)==null?void 0:V.name_ar} - ${fe(new Date(O.booking_date),"dd/MM/yyyy")}`)},children:[i.jsx(Xr,{className:"w-4 h-4 ml-1"}),""]})})]}),O.notes&&i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4",children:[i.jsx("h4",{className:"font-semibold text-foreground text-right mb-2",children:""}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:O.notes})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[" : ",fe(new Date(O.created_at||""),"d MMM yyyy - h:mm a",{locale:Je})]}),i.jsx(Ra,{className:"w-3 h-3"})]}),O.status==="pending"&&i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(K,{className:"flex-1 bg-red-500/10 text-red-600 hover:bg-red-500/20 border border-red-500/30",variant:"outline",disabled:l===O.id,onClick:()=>N(O.id,"rejected"),children:l===O.id?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"w-4 h-4 ml-2"}),""]})}),i.jsx(K,{className:"flex-1 bg-green-500/10 text-green-600 hover:bg-green-500/20 border border-green-500/30",variant:"outline",disabled:l===O.id,onClick:()=>N(O.id,"accepted"),children:l===O.id?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-4 h-4 ml-2"}),""]})})]}),O.status==="accepted"&&i.jsxs("div",{className:"space-y-3 pt-2",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(K,{variant:"outline",className:"flex-1 border-amber-500/30 text-amber-600 hover:bg-amber-500/10",onClick:()=>{y(O),x(!0)},children:[i.jsx(Ks,{className:"w-4 h-4 ml-2"})," "]}),i.jsxs(K,{variant:"outline",className:"flex-1 border-red-500/30 text-red-600 hover:bg-red-500/10",onClick:()=>{y(O),v(!0)},children:[i.jsx(fl,{className:"w-4 h-4 ml-2"}),""]})]}),i.jsxs(K,{className:"w-full",variant:"outline",onClick:()=>N(O.id,"pending"),disabled:l===O.id,children:[i.jsx(Vg,{className:"w-4 h-4 ml-2"})," "]})]})]})})})]},O.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(qt,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:f==="all"?"    ":"    "})]}),i.jsx(ql,{open:m,onOpenChange:v,children:i.jsxs(No,{dir:"rtl",children:[i.jsxs(So,{children:[i.jsx(ko,{children:"  "}),i.jsx(Eo,{children:"                ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{className:"bg-red-500 hover:bg-red-600",onClick:S,children:" "})]})]})}),i.jsx(Un,{open:g,onOpenChange:x,children:i.jsxs(Rn,{dir:"rtl",className:"sm:max-w-md",children:[i.jsxs(Vn,{children:[i.jsxs(Hn,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-primary"}),"  "]}),i.jsx(Cc,{children:"        "})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold",children:(I=b==null?void 0:b.halls)==null?void 0:I.name_ar}),i.jsx(cn,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:fe(new Date((b==null?void 0:b.booking_date)||new Date),"d MMMM yyyy",{locale:Je})}),i.jsx(qt,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-primary",children:["SAR ",(z=b==null?void 0:b.total_price)==null?void 0:z.toLocaleString()]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"discount",className:"text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"discount",type:"number",min:5,max:50,value:w,onChange:O=>j(Number(O.target.value)),className:"pl-10 text-right"}),i.jsx(DB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:["  : SAR ",(((b==null?void 0:b.total_price)||0)*(1-w/100)).toLocaleString()]})]})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>x(!1),children:""}),i.jsx(K,{onClick:k,disabled:l===(b==null?void 0:b.id),className:"gold-gradient",children:l===(b==null?void 0:b.id)?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(sf,{className:"w-4 h-4 ml-2"})," "]})})]})]})})]})}function iI({initialTab:e="halls"}){const{user:t}=at(),{toast:r}=Ke(),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(!1),[m,v]=p.useState(!1),[g,x]=p.useState(null),[b,y]=p.useState(0),[w,j]=p.useState(0),[_,N]=p.useState(!1),[S,k]=p.useState(null),[C,A]=p.useState(e),E=n.map(T=>T.id),P=p.useCallback(()=>{I(),j(T=>T+1)},[]);LH({hallIds:E,onNewBooking:P}),p.useEffect(()=>{t&&(F(),I())},[t]);const F=async()=>{if(!t)return;const{data:T,error:U}=await W.from("halls").select("*").eq("owner_id",t.id).order("created_at",{ascending:!1});!U&&T&&a(T),o(!1)},I=async()=>{if(!t)return;const{data:T}=await W.from("halls").select("id").eq("owner_id",t.id);if(!T||T.length===0){y(0);return}const U=T.map(M=>M.id),{count:R}=await W.from("hall_bookings").select("*",{count:"exact",head:!0}).in("hall_id",U).eq("status","pending");y(R||0)},z=T=>{k(T),N(!0)},O=async()=>{if(!S)return;const{error:T}=await W.from("halls").delete().eq("id",S);T?r({title:"",description:"  ",variant:"destructive"}):(r({title:" ",description:"   "}),F()),N(!1),k(null)},$=T=>{d(T),h(!0)},D=T=>{x(T),v(!0)};return s?i.jsx("div",{className:"p-4 space-y-4",children:[1,2].map(T=>i.jsx("div",{className:"h-40 bg-muted animate-pulse rounded-xl"},T))}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(fv,{value:C,onValueChange:T=>A(T),className:"w-full",dir:"rtl",children:[i.jsxs(xh,{className:"grid w-full grid-cols-3 mx-4 max-w-[calc(100%-2rem)]",children:[i.jsxs(pa,{value:"halls",className:"flex items-center gap-1.5 text-xs",children:[i.jsx(wr,{className:"w-4 h-4"}),""]}),i.jsxs(pa,{value:"calendar",className:"flex items-center gap-1.5 text-xs",children:[i.jsx(qt,{className:"w-4 h-4"}),""]}),i.jsxs(pa,{value:"bookings",className:"flex items-center gap-1.5 text-xs relative",children:[i.jsx($J,{className:"w-4 h-4"}),"",b>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs rounded-full flex items-center justify-center",children:b})]})]}),i.jsx(ga,{value:"halls",className:"mt-4",children:i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{onClick:()=>c(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:""})]}),n.length>0?i.jsx("div",{className:"space-y-4",children:n.map((T,U)=>{var R,M;return i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"card-luxe rounded-xl overflow-hidden",children:[T.cover_image&&i.jsx("div",{className:"h-32 bg-cover bg-center",style:{backgroundImage:`url(${T.cover_image})`}}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>$(T),children:i.jsx(qt,{className:"w-4 h-4"})}),i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>D(T),children:i.jsx(RB,{className:"w-4 h-4"})}),i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>z(T.id),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:T.name_ar}),i.jsxs("div",{className:"flex items-center gap-1 justify-end text-muted-foreground text-sm",children:[i.jsx("span",{className:"font-arabic",children:T.city}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("span",{className:"text-muted-foreground font-arabic",children:[" : ",(R=T.price_weekday)==null?void 0:R.toLocaleString()," ."]}),i.jsxs("span",{className:"text-muted-foreground font-arabic",children:[" : ",(M=T.price_weekend)==null?void 0:M.toLocaleString()," ."]})]}),i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx("span",{className:"font-arabic",children:(T.capacity_men??0)+(T.capacity_women??0)}),i.jsx(Ot,{className:"w-4 h-4"})]})]})]})]},T.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(Sr,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-4",children:"      "}),i.jsxs(K,{onClick:()=>c(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]})]})]})}),i.jsx(ga,{value:"calendar",className:"mt-4 px-4",children:i.jsx(tC,{type:"hall"})}),i.jsx(ga,{value:"bookings",className:"mt-4",children:i.jsx(Wje,{refreshKey:w})})]}),i.jsx(zje,{open:l,onOpenChange:c,onSuccess:F}),g&&i.jsx(Uje,{open:m,onOpenChange:v,onSuccess:F,hall:g}),u&&i.jsx(Vje,{open:f,onOpenChange:h,hall:u}),i.jsx(ql,{open:_,onOpenChange:N,children:i.jsxs(No,{dir:"rtl",children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right",children:" "}),i.jsx(Eo,{className:"text-right",children:"             ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})})]})}const oI=[...dw.map(e=>({id:e.id,label:e.nameAr,type:"women"})),...fw.map(e=>({id:e.id,label:e.nameAr,type:"men"}))];function Hje({open:e,onOpenChange:t,onSuccess:r}){const{user:n}=at(),{toast:a}=Ke(),s=p.useRef(null),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState([]),[h,m]=p.useState({name_ar:"",name_en:"",category_id:"",city:"",phone:"",description:"",whatsapp_enabled:!0}),v=(j,_)=>{m(N=>({...N,[j]:_}))},g=async j=>{if(!n)return null;if(!j.type.startsWith("image/"))throw new Error("     ");if(j.size>5*1024*1024)throw new Error("      5 ");const _=j.name.split(".").pop(),N=`${n.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${_}`,{error:S}=await W.storage.from("service-images").upload(N,j);if(S)throw S;const{data:{publicUrl:k}}=W.storage.from("service-images").getPublicUrl(N);return k},x=async j=>{const _=j.target.files;if(!_||!n)return;const N=10-d.length,S=Array.from(_).slice(0,N);if(S.length===0){a({title:"",description:"  10  ",variant:"destructive"});return}u(!0);try{const C=(await Mw(S)).map(P=>g(P)),E=(await Promise.all(C)).filter(P=>P!==null);f(P=>[...P,...E]),a({title:" ",description:`   ${E.length}  `})}catch(k){a({title:"  ",description:k.message||"    ",variant:"destructive"})}finally{u(!1),s.current&&(s.current.value="")}},b=async j=>{const _=d[j];if(_!=null&&_.includes("service-images"))try{const N=_.split("service-images/")[1];N&&await W.storage.from("service-images").remove([N])}catch(N){console.log("Could not delete from storage:",N)}f(N=>N.filter((S,k)=>k!==j))},y=()=>{m({name_ar:"",name_en:"",category_id:"",city:"",phone:"",description:"",whatsapp_enabled:!0}),f([])},w=async j=>{if(j.preventDefault(),!!n){l(!0);try{const{error:_}=await W.from("service_providers").insert({owner_id:n.id,name_ar:h.name_ar,name_en:h.name_en||null,category_id:h.category_id,city:h.city,phone:h.phone||null,description:h.description||null,whatsapp_enabled:h.whatsapp_enabled,portfolio_images:d.length>0?d:null});if(_)throw _;a({title:" !",description:"   "}),r(),t(!1),y()}catch{a({title:"",description:"  ",variant:"destructive"})}finally{l(!1)}}};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-6",children:i.jsx(Kt,{className:"font-display text-2xl",children:"  "})}),i.jsxs("form",{onSubmit:w,className:"space-y-5 pb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  ( 10 )"}),i.jsx(Pw,{images:d,setImages:f,onRemove:b,onUploadClick:()=>{var j;return(j=s.current)==null?void 0:j.click()},isUploading:c,maxImages:10}),i.jsx("input",{ref:s,type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden"}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Vl,{className:"w-3 h-3"}),"     (  5   )"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:h.name_en,onChange:j=>v("name_en",j.target.value),placeholder:"Service Name",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{value:h.name_ar,onChange:j=>v("name_ar",j.target.value),placeholder:" ",className:"text-right font-arabic",required:!0,dir:"rtl"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsxs(jn,{value:h.category_id,onValueChange:j=>v("category_id",j),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:"  "})}),i.jsxs(fn,{className:"max-h-[300px]",children:[i.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold text-muted-foreground font-arabic",children:" "}),oI.filter(j=>j.type==="women").map(j=>i.jsx(ut,{value:j.id,className:"font-arabic",children:j.label},j.id)),i.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold text-muted-foreground font-arabic mt-2",children:" "}),oI.filter(j=>j.type==="men").map(j=>i.jsx(ut,{value:j.id,className:"font-arabic",children:j.label},j.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:h.city,onValueChange:j=>v("city",j),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:hw.map(j=>i.jsx(ut,{value:j,className:"font-arabic",children:j},j))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:h.phone,onChange:j=>v("phone",j.target.value),placeholder:"966501234567",dir:"ltr",type:"tel"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(Sn,{value:h.description,onChange:j=>v("description",j.target.value),placeholder:"     ",className:"text-right font-arabic min-h-[100px]",dir:"rtl"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-xl",children:[i.jsx(Oa,{checked:h.whatsapp_enabled,onCheckedChange:j=>v("whatsapp_enabled",j)}),i.jsxs("div",{className:"text-right",children:[i.jsx(re,{className:"font-arabic",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:"    "})]})]}),i.jsx(K,{type:"submit",disabled:o||!h.name_ar||!h.city||!h.category_id||c,className:"w-full gold-gradient text-white py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:o?" ...":" "})})]})]})})}const lI=[...dw.map(e=>({id:e.id,label:e.nameAr,type:"women"})),...fw.map(e=>({id:e.id,label:e.nameAr,type:"men"}))];function qje({open:e,onOpenChange:t,onSuccess:r,provider:n}){const{user:a}=at(),{toast:s}=Ke(),o=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState([]),[m,v]=p.useState({name_ar:"",name_en:"",category_id:"",city:"",phone:"",description:"",whatsapp_enabled:!0});p.useEffect(()=>{n&&e&&(v({name_ar:n.name_ar||"",name_en:n.name_en||"",category_id:n.category_id||"",city:n.city||"",phone:n.phone||"",description:n.description||"",whatsapp_enabled:n.whatsapp_enabled??!0}),h(n.portfolio_images||[]))},[n,e]);const g=(j,_)=>{v(N=>({...N,[j]:_}))},x=async j=>{if(!a)return null;if(!j.type.startsWith("image/"))throw new Error("     ");if(j.size>5*1024*1024)throw new Error("      5 ");const _=j.name.split(".").pop(),N=`${a.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${_}`,{error:S}=await W.storage.from("service-images").upload(N,j);if(S)throw S;const{data:{publicUrl:k}}=W.storage.from("service-images").getPublicUrl(N);return k},b=async j=>{const _=j.target.files;if(!_||!a)return;const N=10-f.length,S=Array.from(_).slice(0,N);if(S.length===0){s({title:"",description:"  10  ",variant:"destructive"});return}d(!0);try{const C=(await Mw(S)).map(P=>x(P)),E=(await Promise.all(C)).filter(P=>P!==null);h(P=>[...P,...E]),s({title:" ",description:`   ${E.length}  `})}catch(k){s({title:"  ",description:k.message||"    ",variant:"destructive"})}finally{d(!1),o.current&&(o.current.value="")}},y=async j=>{const _=f[j];if(_!=null&&_.includes("service-images"))try{const N=_.split("service-images/")[1];N&&await W.storage.from("service-images").remove([N])}catch(N){console.log("Could not delete from storage:",N)}h(N=>N.filter((S,k)=>k!==j))},w=async j=>{if(j.preventDefault(),!(!a||!n)){c(!0);try{const{error:_}=await W.from("service_providers").update({name_ar:m.name_ar,name_en:m.name_en||null,category_id:m.category_id,city:m.city,phone:m.phone||null,description:m.description||null,whatsapp_enabled:m.whatsapp_enabled,portfolio_images:f.length>0?f:null}).eq("id",n.id);if(_)throw _;s({title:" !",description:"    "}),r(),t(!1)}catch{s({title:"",description:"  ",variant:"destructive"})}finally{c(!1)}}};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-6",children:i.jsx(Kt,{className:"font-display text-2xl",children:" "})}),i.jsxs("form",{onSubmit:w,className:"space-y-5 pb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  ( 10 )"}),i.jsx(Pw,{images:f,setImages:h,onRemove:y,onUploadClick:()=>{var j;return(j=o.current)==null?void 0:j.click()},isUploading:u,maxImages:10}),i.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:b,className:"hidden"}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Vl,{className:"w-3 h-3"}),"     (  5   )"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:m.name_en,onChange:j=>g("name_en",j.target.value),placeholder:"Service Name",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{value:m.name_ar,onChange:j=>g("name_ar",j.target.value),placeholder:" ",className:"text-right font-arabic",required:!0,dir:"rtl"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsxs(jn,{value:m.category_id,onValueChange:j=>g("category_id",j),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:"  "})}),i.jsxs(fn,{className:"max-h-[300px]",children:[i.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold text-muted-foreground font-arabic",children:" "}),lI.filter(j=>j.type==="women").map(j=>i.jsx(ut,{value:j.id,className:"font-arabic",children:j.label},j.id)),i.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold text-muted-foreground font-arabic mt-2",children:" "}),lI.filter(j=>j.type==="men").map(j=>i.jsx(ut,{value:j.id,className:"font-arabic",children:j.label},j.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:m.city,onValueChange:j=>g("city",j),children:[i.jsx(dn,{className:"text-right font-arabic",children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:hw.map(j=>i.jsx(ut,{value:j,className:"font-arabic",children:j},j))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(ge,{value:m.phone,onChange:j=>g("phone",j.target.value),placeholder:"966501234567",dir:"ltr",type:"tel"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" "}),i.jsx(Sn,{value:m.description,onChange:j=>g("description",j.target.value),placeholder:"     ",className:"text-right font-arabic min-h-[100px]",dir:"rtl"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-xl",children:[i.jsx(Oa,{checked:m.whatsapp_enabled,onCheckedChange:j=>g("whatsapp_enabled",j)}),i.jsxs("div",{className:"text-right",children:[i.jsx(re,{className:"font-arabic",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:"    "})]})]}),i.jsx(K,{type:"submit",disabled:l||!m.name_ar||!m.city||!m.category_id||u,className:"w-full gold-gradient text-white py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:l?" ...":" "})})]})]})})}function Kje({open:e,onOpenChange:t,provider:r}){const{toast:n}=Ke(),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState({name_ar:"",name_en:"",description:"",price:""});p.useEffect(()=>{e&&r&&v()},[e,r]);const v=async()=>{const{data:j,error:_}=await W.from("service_packages").select("*").eq("provider_id",r.id).order("price",{ascending:!0});!_&&j&&s(j),l(!1)},g=()=>{m({name_ar:"",name_en:"",description:"",price:""}),u(!1),f(null)},x=async()=>{if(!(!h.name_ar||!h.price))try{const{error:j}=await W.from("service_packages").insert({provider_id:r.id,name_ar:h.name_ar,name_en:h.name_en||null,description:h.description||null,price:parseInt(h.price)});if(j)throw j;n({title:" !",description:"   "}),v(),g()}catch{n({title:"",description:"  ",variant:"destructive"})}},b=async j=>{if(!(!h.name_ar||!h.price))try{const{error:_}=await W.from("service_packages").update({name_ar:h.name_ar,name_en:h.name_en||null,description:h.description||null,price:parseInt(h.price)}).eq("id",j);if(_)throw _;n({title:" !",description:"   "}),v(),g()}catch{n({title:"",description:"  ",variant:"destructive"})}},y=async j=>{try{const{error:_}=await W.from("service_packages").delete().eq("id",j);if(_)throw _;n({title:" ",description:"   "}),v()}catch{n({title:"",description:"  ",variant:"destructive"})}},w=j=>{m({name_ar:j.name_ar,name_en:j.name_en||"",description:j.description||"",price:j.price.toString()}),f(j.id),u(!1)};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl overflow-y-auto",dir:"rtl",children:[i.jsx(ur,{className:"text-right mb-4",children:i.jsxs(Kt,{className:"font-display text-2xl",children:[" ",r.name_ar]})}),!c&&!d&&i.jsxs(K,{onClick:()=>u(!0),className:"w-full gold-gradient text-white mb-4",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:"  "})]}),(c||d)&&i.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card-luxe rounded-xl p-4 mb-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:g,children:i.jsx(Tt,{className:"w-5 h-5"})}),i.jsx("h4",{className:"font-display font-bold text-foreground",children:d?" ":"  "})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:" "}),i.jsx(ge,{value:h.name_en,onChange:j=>m(_=>({..._,name_en:j.target.value})),placeholder:"Package Name",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:"  *"}),i.jsx(ge,{value:h.name_ar,onChange:j=>m(_=>({..._,name_ar:j.target.value})),placeholder:" ",className:"text-right font-arabic",dir:"rtl"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:" (.) *"}),i.jsx(ge,{type:"number",value:h.price,onChange:j=>m(_=>({..._,price:j.target.value})),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic text-sm",children:" "}),i.jsx(Sn,{value:h.description,onChange:j=>m(_=>({..._,description:j.target.value})),placeholder:"    ",className:"text-right font-arabic min-h-[80px]",dir:"rtl"})]}),i.jsxs(K,{onClick:()=>d?b(d):x(),disabled:!h.name_ar||!h.price,className:"w-full gold-gradient text-white",children:[i.jsx(It,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:d?" ":" "})]})]}),i.jsx("div",{className:"space-y-3",children:o?[1,2,3].map(j=>i.jsx("div",{className:"h-24 bg-muted animate-pulse rounded-xl"},j)):a.length>0?a.map((j,_)=>i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_*.05},className:`card-luxe rounded-xl p-4 ${d===j.id?"ring-2 ring-primary":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>w(j),children:i.jsx(K2,{className:"w-4 h-4"})}),i.jsx(K,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>y(j.id),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-display font-bold text-foreground",children:j.name_ar}),j.name_en&&i.jsx("p",{className:"text-sm text-muted-foreground",children:j.name_en})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-primary text-lg",children:[j.price.toLocaleString()," ."]}),j.description&&i.jsx("p",{className:"text-muted-foreground font-arabic text-sm text-right flex-1 mr-4 line-clamp-1",children:j.description})]})]},j.id)):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(Sr,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h4",{className:"font-display font-bold text-foreground mb-1",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"   "})]})})]})})}function Gje(){const{user:e}=at(),{toast:t}=Ke(),[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(null),[v,g]=p.useState(!1),[x,b]=p.useState(!1),[y,w]=p.useState(null);p.useEffect(()=>{e&&j()},[e]);const j=async()=>{if(!e)return;const{data:C,error:A}=await W.from("service_providers").select("*").eq("owner_id",e.id).order("created_at",{ascending:!1});!A&&C&&n(C),s(!1)},_=C=>{w(C),b(!0)},N=async()=>{if(!y)return;const{error:C}=await W.from("service_providers").delete().eq("id",y);C?t({title:"",description:"  ",variant:"destructive"}):(t({title:" ",description:"   "}),j()),b(!1),w(null)},S=C=>{u(C),f(!0)},k=C=>({hair:"",makeup:"",coordinator:" ",kosha:" ","coffee-corner":" ",favors:"","photographer-w":" ","photographer-m":" ",henna:" ",dj:" ",singers:"",buffet:"",sabbabeen:" ",incense:" ",ardah:" "})[C]||C;return a?i.jsx("div",{className:"p-4 space-y-4",children:[1,2].map(C=>i.jsx("div",{className:"h-40 bg-muted animate-pulse rounded-xl"},C))}):i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{onClick:()=>l(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:""})]}),r.length>0?i.jsx("div",{className:"space-y-4",children:r.map((C,A)=>i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"card-luxe rounded-xl overflow-hidden",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>S(C),children:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>{m(C),g(!0)},children:i.jsx(RB,{className:"w-4 h-4"})}),i.jsx(K,{size:"icon",variant:"outline",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>_(C.id),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:C.name_ar}),i.jsxs("div",{className:"flex items-center gap-2 justify-end text-muted-foreground text-sm",children:[i.jsx("span",{className:"font-arabic",children:C.city}),i.jsx(wr,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:C.rating}),i.jsx(Zr,{className:"w-4 h-4 text-primary fill-primary"})]}),i.jsxs("span",{className:"text-sm text-muted-foreground font-arabic",children:["(",C.reviews_count," )"]})]}),i.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-arabic",children:k(C.category_id)})]}),C.description&&i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mt-3 text-right line-clamp-2",children:C.description})]})},C.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(Sr,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-4",children:"      "}),i.jsxs(K,{onClick:()=>l(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]})]}),i.jsx(Hje,{open:o,onOpenChange:l,onSuccess:j}),c&&i.jsx(Kje,{open:d,onOpenChange:f,provider:c}),h&&i.jsx(qje,{open:v,onOpenChange:g,provider:h,onSuccess:j}),i.jsx(ql,{open:x,onOpenChange:b,children:i.jsxs(No,{dir:"rtl",children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right",children:" "}),i.jsx(Eo,{className:"text-right",children:"             ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})})]})}const Yje=["","","","","",""],Xje=["XS","S","M","L","XL","XXL"],Zje=[{value:"new",label:" "},{value:"like_new",label:" "},{value:"used",label:""}];function Qje({open:e,onOpenChange:t,editingDress:r,onSuccess:n}){const{user:a}=at(),{toast:s}=Ke(),o=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState([]),[m,v]=p.useState({title:"",price:"",size:"",city:"",condition:"used",description:"",whatsapp_enabled:!0});p.useEffect(()=>{r?(v({title:r.title,price:r.price.toString(),size:r.size,city:r.city,condition:r.condition||"used",description:r.description||"",whatsapp_enabled:r.whatsapp_enabled??!0}),h(r.images||[])):g()},[r,e]);const g=()=>{v({title:"",price:"",size:"",city:"",condition:"used",description:"",whatsapp_enabled:!0}),h([])},x=async w=>{const j=w.target.files;if(!j||!a)return;const _=5-f.length,N=Array.from(j).slice(0,_);if(N.length===0){s({title:"",description:"  5 ",variant:"destructive"});return}d(!0);try{const S=N.map(async C=>{if(!C.type.startsWith("image/"))throw new Error("     ");if(C.size>5242880)throw new Error("      5 ");const A=C.name.split(".").pop(),E=`${a.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${A}`,{error:P}=await W.storage.from("dress-images").upload(E,C);if(P)throw P;const{data:{publicUrl:F}}=W.storage.from("dress-images").getPublicUrl(E);return F}),k=await Promise.all(S);h(C=>[...C,...k]),s({title:" ",description:`  ${k.length}  `})}catch(S){s({title:"  ",description:S.message||"    ",variant:"destructive"})}finally{d(!1),o.current&&(o.current.value="")}},b=async w=>{const j=f[w];if(j.includes("dress-images"))try{const _=j.split("dress-images/")[1];_&&await W.storage.from("dress-images").remove([_])}catch(_){console.log("Could not delete from storage:",_)}h(_=>_.filter((N,S)=>S!==w))},y=async w=>{if(w.preventDefault(),!!a){if(!m.title||!m.price||!m.size||!m.city){s({title:"",description:"    ",variant:"destructive"});return}c(!0);try{const j={title:m.title,price:parseInt(m.price),size:m.size,city:m.city,condition:m.condition,description:m.description,whatsapp_enabled:m.whatsapp_enabled,images:f.length>0?f:null,seller_id:a.id};if(r){const{error:_}=await W.from("dresses").update(j).eq("id",r.id);if(_)throw _;s({title:" ",description:"    "})}else{const{error:_}=await W.from("dresses").insert(j);if(_)throw _;s({title:" ",description:"    "})}n(),t(!1),g()}catch(j){s({title:"",description:j.message||"    ",variant:"destructive"})}finally{c(!1)}}};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsx(kt,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden",dir:"rtl",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx(ur,{className:"text-right pb-4 border-b border-border",children:i.jsx(Kt,{className:"font-arabic text-xl",children:r?" ":"  "})}),i.jsxs("form",{onSubmit:y,className:"flex-1 overflow-y-auto py-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  ( 5 )"}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[f.map((w,j)=>i.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[i.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover rounded-lg",onError:_=>{_.target.src="https://placehold.co/80x80?text=Error"}}),i.jsx("button",{type:"button",onClick:()=>b(j),className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground rounded-full p-0.5",children:i.jsx(Tt,{className:"w-3 h-3"})})]},j)),f.length<5&&i.jsx("button",{type:"button",onClick:()=>{var w;return(w=o.current)==null?void 0:w.click()},disabled:u,className:"w-20 h-20 flex-shrink-0 border-2 border-dashed border-border rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors disabled:opacity-50",children:u?i.jsx(ve,{className:"w-6 h-6 text-primary animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Hg,{className:"w-5 h-5 text-muted-foreground mb-1"}),i.jsx("span",{className:"text-[10px] text-muted-foreground font-arabic",children:" "})]})})]}),i.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden"}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Vl,{className:"w-3 h-3"}),"   (  5   )"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:"  *"}),i.jsx(ge,{placeholder:":      ",value:m.title,onChange:w=>v({...m,title:w.target.value}),className:"text-right",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" (.) *"}),i.jsx(ge,{type:"number",placeholder:"0",value:m.price,onChange:w=>v({...m,price:w.target.value}),className:"text-right",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:m.size,onValueChange:w=>v({...m,size:w}),children:[i.jsx(dn,{children:i.jsx(_n,{placeholder:""})}),i.jsx(fn,{className:"bg-background",children:Xje.map(w=>i.jsx(ut,{value:w,children:w},w))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:" *"}),i.jsxs(jn,{value:m.city,onValueChange:w=>v({...m,city:w}),children:[i.jsx(dn,{children:i.jsx(_n,{placeholder:""})}),i.jsx(fn,{className:"bg-background",children:Yje.map(w=>i.jsx(ut,{value:w,children:w},w))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:""}),i.jsxs(jn,{value:m.condition,onValueChange:w=>v({...m,condition:w}),children:[i.jsx(dn,{children:i.jsx(_n,{placeholder:""})}),i.jsx(fn,{className:"bg-background",children:Zje.map(w=>i.jsx(ut,{value:w.value,children:w.label},w.value))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"font-arabic",children:""}),i.jsx(Sn,{placeholder:"   ...",value:m.description,onChange:w=>v({...m,description:w.target.value}),className:"text-right min-h-[100px]"})]}),i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded-xl p-4",children:[i.jsx(Oa,{checked:m.whatsapp_enabled,onCheckedChange:w=>v({...m,whatsapp_enabled:w})}),i.jsxs("div",{className:"text-right",children:[i.jsx(re,{className:"font-arabic",children:"  "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"     "})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-border",children:i.jsx(K,{type:"submit",onClick:y,disabled:l||u,className:"w-full py-6 text-lg font-arabic gold-gradient text-white rounded-xl",children:l?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ve,{className:"w-5 h-5 animate-spin"})," ..."]}):r?" ":" "})})]})})})}function Jje(){const{user:e}=at(),{toast:t}=Ke(),[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(null);p.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(!e)return;const{data:_,error:N}=await W.from("dresses").select("*").eq("seller_id",e.id).order("created_at",{ascending:!1});!N&&_&&n(_),s(!1)},g=_=>{m(_),f(!0)},x=async()=>{if(!h)return;const{error:_}=await W.from("dresses").delete().eq("id",h);_?t({title:"",description:"  ",variant:"destructive"}):(t({title:" ",description:"   "}),v()),f(!1),m(null)},b=async _=>{const{error:N}=await W.from("dresses").update({is_active:!_.is_active}).eq("id",_.id);N?t({title:"",description:"   ",variant:"destructive"}):(t({title:_.is_active?"  ":"  ",description:_.is_active?"   ":"   "}),v())},y=async _=>{const{error:N}=await W.from("dresses").update({is_sold:!0,is_active:!1}).eq("id",_.id);N?t({title:"",description:"   ",variant:"destructive"}):(t({title:"! ",description:"      "}),v())},w=_=>{u(_),l(!0)},j=()=>{l(!1),u(null)};return a?i.jsx("div",{className:"p-4 flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{onClick:()=>l(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]}),i.jsx("h2",{className:"font-display text-xl font-bold text-foreground",children:""})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs("div",{className:"bg-green-500/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(_=>_.is_active&&!_.is_sold).length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs("div",{className:"bg-primary/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-primary",children:r.filter(_=>_.is_sold).length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),r.length>0?i.jsx("div",{className:"space-y-4",children:r.map((_,N)=>i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:`card-luxe rounded-xl overflow-hidden ${_.is_sold?"opacity-60":""}`,children:[i.jsxs("div",{className:"flex gap-4 p-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-muted flex-shrink-0",children:_.images&&_.images[0]?i.jsx("img",{src:_.images[0],alt:_.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(hs,{className:"w-8 h-8 text-muted-foreground"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsx("div",{className:"flex gap-1 flex-wrap",children:_.is_sold?i.jsxs(Ce,{className:"bg-primary/10 text-primary border-0",children:[i.jsx(ha,{className:"w-3 h-3 ml-1"})," "]}):_.is_active?i.jsx(Ce,{className:"bg-green-500/10 text-green-600 border-0",children:""}):i.jsx(Ce,{className:"bg-gray-500/10 text-gray-600 border-0",children:""})}),i.jsx("h3",{className:"font-display font-bold text-foreground text-right truncate",children:_.title})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ks,{className:"w-3 h-3"}),_.size]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(wr,{className:"w-3 h-3"}),_.city]})]}),i.jsxs("p",{className:"font-bold text-primary",children:["SAR ",_.price.toLocaleString()]})]})]}),!_.is_sold&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-t border-border/50",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{size:"sm",variant:"outline",className:"h-8",onClick:()=>g(_.id),children:i.jsx(ma,{className:"w-3 h-3 text-destructive"})}),i.jsx(K,{size:"sm",variant:"outline",className:"h-8",onClick:()=>w(_),children:i.jsx(K2,{className:"w-3 h-3"})}),i.jsx(K,{size:"sm",variant:"outline",className:"h-8",onClick:()=>b(_),children:_.is_active?i.jsx(Rl,{className:"w-3 h-3"}):i.jsx(uo,{className:"w-3 h-3"})})]}),i.jsxs(K,{size:"sm",className:"h-8 gold-gradient text-white",onClick:()=>y(_),children:[i.jsx(ha,{className:"w-3 h-3 ml-1"})," "]})]})]},_.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(hs,{className:"w-10 h-10 text-muted-foreground"})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-4",children:"     "}),i.jsxs(K,{onClick:()=>l(!0),className:"gold-gradient text-white",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]})]}),i.jsx(Qje,{open:o,onOpenChange:j,editingDress:c,onSuccess:v}),i.jsx(ql,{open:d,onOpenChange:f,children:i.jsxs(No,{dir:"rtl",children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right",children:" "}),i.jsx(Eo,{className:"text-right",children:"            ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})})]})}var e1e=Array.isArray,wa=e1e,t1e=typeof Cv=="object"&&Cv&&Cv.Object===Object&&Cv,L7=t1e,r1e=L7,n1e=typeof self=="object"&&self&&self.Object===Object&&self,a1e=r1e||n1e||Function("return this")(),Di=a1e,s1e=Di,i1e=s1e.Symbol,gv=i1e,cI=gv,F7=Object.prototype,o1e=F7.hasOwnProperty,l1e=F7.toString,Qh=cI?cI.toStringTag:void 0;function c1e(e){var t=o1e.call(e,Qh),r=e[Qh];try{e[Qh]=void 0;var n=!0}catch{}var a=l1e.call(e);return n&&(t?e[Qh]=r:delete e[Qh]),a}var u1e=c1e,d1e=Object.prototype,f1e=d1e.toString;function h1e(e){return f1e.call(e)}var m1e=h1e,uI=gv,p1e=u1e,g1e=m1e,v1e="[object Null]",y1e="[object Undefined]",dI=uI?uI.toStringTag:void 0;function x1e(e){return e==null?e===void 0?y1e:v1e:dI&&dI in Object(e)?p1e(e):g1e(e)}var Oo=x1e;function b1e(e){return e!=null&&typeof e=="object"}var To=b1e,w1e=Oo,j1e=To,_1e="[object Symbol]";function N1e(e){return typeof e=="symbol"||j1e(e)&&w1e(e)==_1e}var _h=N1e,S1e=wa,C1e=_h,k1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E1e=/^\w*$/;function A1e(e,t){if(S1e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||C1e(e)?!0:E1e.test(e)||!k1e.test(e)||t!=null&&e in Object(t)}var hP=A1e;function P1e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yl=P1e;const Nh=vt(Yl);var O1e=Oo,T1e=Yl,M1e="[object AsyncFunction]",R1e="[object Function]",D1e="[object GeneratorFunction]",I1e="[object Proxy]";function $1e(e){if(!T1e(e))return!1;var t=O1e(e);return t==R1e||t==D1e||t==M1e||t==I1e}var mP=$1e;const $e=vt(mP);var L1e=Di,F1e=L1e["__core-js_shared__"],B1e=F1e,s_=B1e,fI=function(){var e=/[^.]+$/.exec(s_&&s_.keys&&s_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function z1e(e){return!!fI&&fI in e}var U1e=z1e,V1e=Function.prototype,W1e=V1e.toString;function H1e(e){if(e!=null){try{return W1e.call(e)}catch{}try{return e+""}catch{}}return""}var B7=H1e,q1e=mP,K1e=U1e,G1e=Yl,Y1e=B7,X1e=/[\\^$.*+?()[\]{}|]/g,Z1e=/^\[object .+?Constructor\]$/,Q1e=Function.prototype,J1e=Object.prototype,e_e=Q1e.toString,t_e=J1e.hasOwnProperty,r_e=RegExp("^"+e_e.call(t_e).replace(X1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n_e(e){if(!G1e(e)||K1e(e))return!1;var t=q1e(e)?r_e:Z1e;return t.test(Y1e(e))}var a_e=n_e;function s_e(e,t){return e==null?void 0:e[t]}var i_e=s_e,o_e=a_e,l_e=i_e;function c_e(e,t){var r=l_e(e,t);return o_e(r)?r:void 0}var Cu=c_e,u_e=Cu,d_e=u_e(Object,"create"),Rw=d_e,hI=Rw;function f_e(){this.__data__=hI?hI(null):{},this.size=0}var h_e=f_e;function m_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var p_e=m_e,g_e=Rw,v_e="__lodash_hash_undefined__",y_e=Object.prototype,x_e=y_e.hasOwnProperty;function b_e(e){var t=this.__data__;if(g_e){var r=t[e];return r===v_e?void 0:r}return x_e.call(t,e)?t[e]:void 0}var w_e=b_e,j_e=Rw,__e=Object.prototype,N_e=__e.hasOwnProperty;function S_e(e){var t=this.__data__;return j_e?t[e]!==void 0:N_e.call(t,e)}var C_e=S_e,k_e=Rw,E_e="__lodash_hash_undefined__";function A_e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=k_e&&t===void 0?E_e:t,this}var P_e=A_e,O_e=h_e,T_e=p_e,M_e=w_e,R_e=C_e,D_e=P_e;function Sh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sh.prototype.clear=O_e;Sh.prototype.delete=T_e;Sh.prototype.get=M_e;Sh.prototype.has=R_e;Sh.prototype.set=D_e;var I_e=Sh;function $_e(){this.__data__=[],this.size=0}var L_e=$_e;function F_e(e,t){return e===t||e!==e&&t!==t}var pP=F_e,B_e=pP;function z_e(e,t){for(var r=e.length;r--;)if(B_e(e[r][0],t))return r;return-1}var Dw=z_e,U_e=Dw,V_e=Array.prototype,W_e=V_e.splice;function H_e(e){var t=this.__data__,r=U_e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():W_e.call(t,r,1),--this.size,!0}var q_e=H_e,K_e=Dw;function G_e(e){var t=this.__data__,r=K_e(t,e);return r<0?void 0:t[r][1]}var Y_e=G_e,X_e=Dw;function Z_e(e){return X_e(this.__data__,e)>-1}var Q_e=Z_e,J_e=Dw;function eNe(e,t){var r=this.__data__,n=J_e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var tNe=eNe,rNe=L_e,nNe=q_e,aNe=Y_e,sNe=Q_e,iNe=tNe;function Ch(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ch.prototype.clear=rNe;Ch.prototype.delete=nNe;Ch.prototype.get=aNe;Ch.prototype.has=sNe;Ch.prototype.set=iNe;var Iw=Ch,oNe=Cu,lNe=Di,cNe=oNe(lNe,"Map"),gP=cNe,mI=I_e,uNe=Iw,dNe=gP;function fNe(){this.size=0,this.__data__={hash:new mI,map:new(dNe||uNe),string:new mI}}var hNe=fNe;function mNe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pNe=mNe,gNe=pNe;function vNe(e,t){var r=e.__data__;return gNe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $w=vNe,yNe=$w;function xNe(e){var t=yNe(this,e).delete(e);return this.size-=t?1:0,t}var bNe=xNe,wNe=$w;function jNe(e){return wNe(this,e).get(e)}var _Ne=jNe,NNe=$w;function SNe(e){return NNe(this,e).has(e)}var CNe=SNe,kNe=$w;function ENe(e,t){var r=kNe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ANe=ENe,PNe=hNe,ONe=bNe,TNe=_Ne,MNe=CNe,RNe=ANe;function kh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kh.prototype.clear=PNe;kh.prototype.delete=ONe;kh.prototype.get=TNe;kh.prototype.has=MNe;kh.prototype.set=RNe;var vP=kh,z7=vP,DNe="Expected a function";function yP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(DNe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(yP.Cache||z7),r}yP.Cache=z7;var U7=yP;const INe=vt(U7);var $Ne=U7,LNe=500;function FNe(e){var t=$Ne(e,function(n){return r.size===LNe&&r.clear(),n}),r=t.cache;return t}var BNe=FNe,zNe=BNe,UNe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VNe=/\\(\\)?/g,WNe=zNe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UNe,function(r,n,a,s){t.push(a?s.replace(VNe,"$1"):n||r)}),t}),HNe=WNe;function qNe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xP=qNe,pI=gv,KNe=xP,GNe=wa,YNe=_h,gI=pI?pI.prototype:void 0,vI=gI?gI.toString:void 0;function V7(e){if(typeof e=="string")return e;if(GNe(e))return KNe(e,V7)+"";if(YNe(e))return vI?vI.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var XNe=V7,ZNe=XNe;function QNe(e){return e==null?"":ZNe(e)}var W7=QNe,JNe=wa,eSe=hP,tSe=HNe,rSe=W7;function nSe(e,t){return JNe(e)?e:eSe(e,t)?[e]:tSe(rSe(e))}var H7=nSe,aSe=_h;function sSe(e){if(typeof e=="string"||aSe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Lw=sSe,iSe=H7,oSe=Lw;function lSe(e,t){t=iSe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[oSe(t[r++])];return r&&r==n?e:void 0}var bP=lSe,cSe=bP;function uSe(e,t,r){var n=e==null?void 0:cSe(e,t);return n===void 0?r:n}var q7=uSe;const $a=vt(q7);function dSe(e){return e==null}var fSe=dSe;const qe=vt(fSe);var hSe=Oo,mSe=wa,pSe=To,gSe="[object String]";function vSe(e){return typeof e=="string"||!mSe(e)&&pSe(e)&&hSe(e)==gSe}var ySe=vSe;const fu=vt(ySe);var K7={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=Symbol.for("react.element"),jP=Symbol.for("react.portal"),Fw=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),xSe=Symbol.for("react.server_context"),Ww=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),qw=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),bSe=Symbol.for("react.offscreen"),G7;G7=Symbol.for("react.module.reference");function gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wP:switch(e=e.type,e){case Fw:case zw:case Bw:case Hw:case qw:return e;default:switch(e=e&&e.$$typeof,e){case xSe:case Vw:case Ww:case Gw:case Kw:case Uw:return e;default:return t}}case jP:return t}}}Et.ContextConsumer=Vw;Et.ContextProvider=Uw;Et.Element=wP;Et.ForwardRef=Ww;Et.Fragment=Fw;Et.Lazy=Gw;Et.Memo=Kw;Et.Portal=jP;Et.Profiler=zw;Et.StrictMode=Bw;Et.Suspense=Hw;Et.SuspenseList=qw;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(e){return gs(e)===Vw};Et.isContextProvider=function(e){return gs(e)===Uw};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wP};Et.isForwardRef=function(e){return gs(e)===Ww};Et.isFragment=function(e){return gs(e)===Fw};Et.isLazy=function(e){return gs(e)===Gw};Et.isMemo=function(e){return gs(e)===Kw};Et.isPortal=function(e){return gs(e)===jP};Et.isProfiler=function(e){return gs(e)===zw};Et.isStrictMode=function(e){return gs(e)===Bw};Et.isSuspense=function(e){return gs(e)===Hw};Et.isSuspenseList=function(e){return gs(e)===qw};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fw||e===zw||e===Bw||e===Hw||e===qw||e===bSe||typeof e=="object"&&e!==null&&(e.$$typeof===Gw||e.$$typeof===Kw||e.$$typeof===Uw||e.$$typeof===Vw||e.$$typeof===Ww||e.$$typeof===G7||e.getModuleId!==void 0)};Et.typeOf=gs;K7.exports=Et;var wSe=K7.exports,jSe=Oo,_Se=To,NSe="[object Number]";function SSe(e){return typeof e=="number"||_Se(e)&&jSe(e)==NSe}var Y7=SSe;const CSe=vt(Y7);var kSe=Y7;function ESe(e){return kSe(e)&&e!=+e}var ASe=ESe;const Eh=vt(ASe);var qn=function(t){return t===0?0:t>0?1:-1},kc=function(t){return fu(t)&&t.indexOf("%")===t.length-1},ce=function(t){return CSe(t)&&!Eh(t)},PSe=function(t){return qe(t)},Yr=function(t){return ce(t)||fu(t)},OSe=0,ku=function(t){var r=++OSe;return"".concat(t||"").concat(r)},Kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&!fu(t))return n;var s;if(kc(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Eh(s)&&(s=n),a&&s>r&&(s=r),s},Jo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},TSe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},qr=function(t,r){return ce(t)&&ce(r)?function(n){return t+n*(r-t)}:function(){return r}};function l0(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$a(n,t))===r})}var MSe=function(t,r){return ce(t)&&ce(r)?t-r:fu(t)&&fu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $d(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function oC(e){"@babel/helpers - typeof";return oC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oC(e)}var RSe=["viewBox","children"],DSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yI=["points","pathLength"],i_={svg:RSe,polygon:yI,polyline:yI},_P=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],c0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!Nh(n))return null;var a={};return Object.keys(n).forEach(function(s){_P.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},ISe=function(t,r,n){return function(a){return t(r,n,a),null}},hu=function(t,r,n){if(!Nh(t)||oC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];_P.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=ISe(o,r,n))}),a},$Se=["children"],LSe=["children"];function xI(e,t){if(e==null)return{};var r=FSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lC(e){"@babel/helpers - typeof";return lC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lC(e)}var bI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},no=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},wI=null,o_=null,NP=function e(t){if(t===wI&&Array.isArray(o_))return o_;var r=[];return p.Children.forEach(t,function(n){qe(n)||(wSe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),o_=r,wI=t,r};function La(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return no(a)}):n=[no(t)],NP(e).forEach(function(a){var s=$a(a,"type.displayName")||$a(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function ka(e,t){var r=La(e,t);return r&&r[0]}var jI=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ce(n)||n<=0||!ce(a)||a<=0)},BSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zSe=function(t){return t&&t.type&&fu(t.type)&&BSe.indexOf(t.type)>=0},X7=function(t){return t&&lC(t)==="object"&&"clipDot"in t},USe=function(t,r,n,a){var s,o=(s=i_==null?void 0:i_[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!$e(t)&&(a&&o.includes(r)||DSe.includes(r))||n&&_P.includes(r)},Pe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(p.isValidElement(t)&&(a=t.props),!Nh(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;USe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},cC=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return _I(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!_I(s,o))return!1}return!0},_I=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},a=n.children,s=xI(n,$Se),o=r.props||{},l=o.children,c=xI(o,LSe);return a&&l?$d(s,c)&&cC(a,l):!a&&!l?$d(s,c):!1}return!1},NI=function(t,r){var n=[],a={};return NP(t).forEach(function(s,o){if(zSe(s))n.push(s);else if(s){var l=no(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},VSe=function(t){var r=t&&t.type;return r&&bI[r]?bI[r]:null},WSe=function(t,r){return NP(r).indexOf(t)},HSe=["children","width","height","viewBox","className","style","title","desc"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}function qSe(e,t){if(e==null)return{};var r=KSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dC(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=qSe(e,HSe),d=a||{width:r,height:n,x:0,y:0},f=Ge("recharts-surface",s);return L.createElement("svg",uC({},Pe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var GSe=["children","className"];function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function YSe(e,t){if(e==null)return{};var r=XSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lt=L.forwardRef(function(e,t){var r=e.children,n=e.className,a=YSe(e,GSe),s=Ge("recharts-layer",n);return L.createElement("g",fC({className:s},Pe(a,!0),{ref:t}),r)}),Vs=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function ZSe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var QSe=ZSe,JSe=QSe;function eCe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:JSe(e,t,r)}var tCe=eCe,rCe="\\ud800-\\udfff",nCe="\\u0300-\\u036f",aCe="\\ufe20-\\ufe2f",sCe="\\u20d0-\\u20ff",iCe=nCe+aCe+sCe,oCe="\\ufe0e\\ufe0f",lCe="\\u200d",cCe=RegExp("["+lCe+rCe+iCe+oCe+"]");function uCe(e){return cCe.test(e)}var Z7=uCe;function dCe(e){return e.split("")}var fCe=dCe,Q7="\\ud800-\\udfff",hCe="\\u0300-\\u036f",mCe="\\ufe20-\\ufe2f",pCe="\\u20d0-\\u20ff",gCe=hCe+mCe+pCe,vCe="\\ufe0e\\ufe0f",yCe="["+Q7+"]",hC="["+gCe+"]",mC="\\ud83c[\\udffb-\\udfff]",xCe="(?:"+hC+"|"+mC+")",J7="[^"+Q7+"]",eq="(?:\\ud83c[\\udde6-\\uddff]){2}",tq="[\\ud800-\\udbff][\\udc00-\\udfff]",bCe="\\u200d",rq=xCe+"?",nq="["+vCe+"]?",wCe="(?:"+bCe+"(?:"+[J7,eq,tq].join("|")+")"+nq+rq+")*",jCe=nq+rq+wCe,_Ce="(?:"+[J7+hC+"?",hC,eq,tq,yCe].join("|")+")",NCe=RegExp(mC+"(?="+mC+")|"+_Ce+jCe,"g");function SCe(e){return e.match(NCe)||[]}var CCe=SCe,kCe=fCe,ECe=Z7,ACe=CCe;function PCe(e){return ECe(e)?ACe(e):kCe(e)}var OCe=PCe,TCe=tCe,MCe=Z7,RCe=OCe,DCe=W7;function ICe(e){return function(t){t=DCe(t);var r=MCe(t)?RCe(t):void 0,n=r?r[0]:t.charAt(0),a=r?TCe(r,1).join(""):t.slice(1);return n[e]()+a}}var $Ce=ICe,LCe=$Ce,FCe=LCe("toUpperCase"),BCe=FCe;const Yw=vt(BCe);function Ut(e){return function(){return e}}const aq=Math.cos,u0=Math.sin,ti=Math.sqrt,d0=Math.PI,Xw=2*d0,pC=Math.PI,gC=2*pC,hc=1e-6,zCe=gC-hc;function sq(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function UCe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sq;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class VCe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sq:UCe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hc)if(!(Math.abs(f*c-u*d)>hc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,g=c*c+u*u,x=m*m+v*v,b=Math.sqrt(g),y=Math.sqrt(h),w=s*Math.tan((pC-Math.acos((g+h-x)/(2*b*y)))/2),j=w/y,_=w/b;Math.abs(j-1)>hc&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hc||Math.abs(this._y1-d)>hc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%gC+gC),h>zCe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>hc&&this._append`A${n},${n},0,${+(h>=pC)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function SP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VCe(t)}function CP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iq(e){this._context=e}iq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zw(e){return new iq(e)}function oq(e){return e[0]}function lq(e){return e[1]}function cq(e,t){var r=Ut(!0),n=null,a=Zw,s=null,o=SP(l);e=typeof e=="function"?e:e===void 0?oq:Ut(e),t=typeof t=="function"?t:t===void 0?lq:Ut(t);function l(c){var u,d=(c=CP(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ut(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function my(e,t,r){var n=null,a=Ut(!0),s=null,o=Zw,l=null,c=SP(u);e=typeof e=="function"?e:e===void 0?oq:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lq:Ut(+r);function u(f){var h,m,v,g=(f=CP(f)).length,x,b=!1,y,w=new Array(g),j=new Array(g);for(s==null&&(l=o(y=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],j[v]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return cq().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ut(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ut(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ut(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class uq{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WCe(e){return new uq(e,!0)}function HCe(e){return new uq(e,!1)}const kP={draw(e,t){const r=ti(t/d0);e.moveTo(r,0),e.arc(0,0,r,0,Xw)}},qCe={draw(e,t){const r=ti(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dq=ti(1/3),KCe=dq*2,GCe={draw(e,t){const r=ti(t/KCe),n=r*dq;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YCe={draw(e,t){const r=ti(t),n=-r/2;e.rect(n,n,r,r)}},XCe=.8908130915292852,fq=u0(d0/10)/u0(7*d0/10),ZCe=u0(Xw/10)*fq,QCe=-aq(Xw/10)*fq,JCe={draw(e,t){const r=ti(t*XCe),n=ZCe*r,a=QCe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Xw*s/5,l=aq(o),c=u0(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},l_=ti(3),eke={draw(e,t){const r=-ti(t/(l_*3));e.moveTo(0,r*2),e.lineTo(-l_*r,-r),e.lineTo(l_*r,-r),e.closePath()}},Ha=-.5,qa=ti(3)/2,vC=1/ti(12),tke=(vC/2+1)*3,rke={draw(e,t){const r=ti(t/tke),n=r/2,a=r*vC,s=n,o=r*vC+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ha*n-qa*a,qa*n+Ha*a),e.lineTo(Ha*s-qa*o,qa*s+Ha*o),e.lineTo(Ha*l-qa*c,qa*l+Ha*c),e.lineTo(Ha*n+qa*a,Ha*a-qa*n),e.lineTo(Ha*s+qa*o,Ha*o-qa*s),e.lineTo(Ha*l+qa*c,Ha*c-qa*l),e.closePath()}};function nke(e,t){let r=null,n=SP(a);e=typeof e=="function"?e:Ut(e||kP),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function f0(){}function h0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function hq(e){this._context=e}hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ake(e){return new hq(e)}function mq(e){this._context=e}mq.prototype={areaStart:f0,areaEnd:f0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:h0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ske(e){return new mq(e)}function pq(e){this._context=e}pq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:h0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ike(e){return new pq(e)}function gq(e){this._context=e}gq.prototype={areaStart:f0,areaEnd:f0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oke(e){return new gq(e)}function SI(e){return e<0?-1:1}function CI(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(SI(s)+SI(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function kI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function c_(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function m0(e){this._context=e}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c_(this,this._t0,kI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c_(this,kI(this,r=CI(this,e,t)),r);break;default:c_(this,this._t0,r=CI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vq(e){this._context=new yq(e)}(vq.prototype=Object.create(m0.prototype)).point=function(e,t){m0.prototype.point.call(this,t,e)};function yq(e){this._context=e}yq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function lke(e){return new m0(e)}function cke(e){return new vq(e)}function xq(e){this._context=e}xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EI(e),a=EI(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EI(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function uke(e){return new xq(e)}function Qw(e,t){this._context=e,this._t=t}Qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dke(e){return new Qw(e,.5)}function fke(e){return new Qw(e,0)}function hke(e){return new Qw(e,1)}function wf(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function yC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mke(e,t){return e[t]}function pke(e){const t=[];return t.key=e,t}function gke(){var e=Ut([]),t=yC,r=wf,n=mke;function a(s){var o=Array.from(e.apply(this,arguments),pke),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=CP(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ut(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?yC:typeof s=="function"?s:Ut(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??wf,a):r},a}function vke(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}wf(e,t)}}function yke(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}wf(e,t)}}function xke(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var g=e[t[v]],x=g[n][1]||0,b=g[n-1][1]||0;m+=x-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,wf(e,t)}}function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}var bke=["type","size","sizeType"];function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xC.apply(this,arguments)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){wke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wke(e,t,r){return t=jke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=_ke(e,"string");return zp(t)=="symbol"?t:t+""}function _ke(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){if(e==null)return{};var r=Ske(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ske(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bq={symbolCircle:kP,symbolCross:qCe,symbolDiamond:GCe,symbolSquare:YCe,symbolStar:JCe,symbolTriangle:eke,symbolWye:rke},Cke=Math.PI/180,kke=function(t){var r="symbol".concat(Yw(t));return bq[r]||kP},Eke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Cke;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ake=function(t,r){bq["symbol".concat(Yw(t))]=r},EP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Nke(t,bke),u=PI(PI({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=kke(n),b=nke().type(x).size(Eke(s,l,n));return b()},f=u.className,h=u.cx,m=u.cy,v=Pe(u,!0);return h===+h&&m===+m&&s===+s?L.createElement("path",xC({},v,{className:Ge("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};EP.registerSymbol=Ake;function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){Up(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function Mke(e,t,r){return t&&Tke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rke(e,t,r){return t=p0(t),Dke(e,wq()?Reflect.construct(t,r||[],p0(e).constructor):t.apply(e,r))}function Dke(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ike(e)}function Ike(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(e)}function $ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function Up(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Lke(e,"string");return jf(t)=="symbol"?t:t+""}function Lke(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=32,AP=function(e){function t(){return Oke(this,t),Rke(this,t,arguments)}return $ke(t,e),Mke(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ka/2,o=Ka/6,l=Ka/3,c=n.inactive?a:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ka,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ka,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ka/8,"h").concat(Ka,"v").concat(Ka*3/4,"h").concat(-Ka,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=Pke({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(EP,{fill:c,cx:s,cy:s,size:Ka,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ka,height:Ka},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var g=m.formatter||c,x=Ge(Up(Up({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=$e(m.value)?null:m.value;Vs(!$e(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return L.createElement("li",bC({className:x,style:f,key:"legend-item-".concat(v)},hu(n.props,m,v)),L.createElement(dC,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,m,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);Up(AP,"displayName","Legend");Up(AP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Fke=Iw;function Bke(){this.__data__=new Fke,this.size=0}var zke=Bke;function Uke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Vke=Uke;function Wke(e){return this.__data__.get(e)}var Hke=Wke;function qke(e){return this.__data__.has(e)}var Kke=qke,Gke=Iw,Yke=gP,Xke=vP,Zke=200;function Qke(e,t){var r=this.__data__;if(r instanceof Gke){var n=r.__data__;if(!Yke||n.length<Zke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xke(n)}return r.set(e,t),this.size=r.size,this}var Jke=Qke,e2e=Iw,t2e=zke,r2e=Vke,n2e=Hke,a2e=Kke,s2e=Jke;function Ah(e){var t=this.__data__=new e2e(e);this.size=t.size}Ah.prototype.clear=t2e;Ah.prototype.delete=r2e;Ah.prototype.get=n2e;Ah.prototype.has=a2e;Ah.prototype.set=s2e;var _q=Ah,i2e="__lodash_hash_undefined__";function o2e(e){return this.__data__.set(e,i2e),this}var l2e=o2e;function c2e(e){return this.__data__.has(e)}var u2e=c2e,d2e=vP,f2e=l2e,h2e=u2e;function g0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new d2e;++t<r;)this.add(e[t])}g0.prototype.add=g0.prototype.push=f2e;g0.prototype.has=h2e;var Nq=g0;function m2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Sq=m2e;function p2e(e,t){return e.has(t)}var Cq=p2e,g2e=Nq,v2e=Sq,y2e=Cq,x2e=1,b2e=2;function w2e(e,t,r,n,a,s){var o=r&x2e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&b2e?new g2e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var v=e[f],g=t[f];if(n)var x=o?n(g,v,f,t,e,s):n(v,g,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!v2e(t,function(b,y){if(!y2e(m,y)&&(v===b||a(v,b,r,n,s)))return m.push(y)})){h=!1;break}}else if(!(v===g||a(v,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var kq=w2e,j2e=Di,_2e=j2e.Uint8Array,N2e=_2e;function S2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var C2e=S2e;function k2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var PP=k2e,TI=gv,MI=N2e,E2e=pP,A2e=kq,P2e=C2e,O2e=PP,T2e=1,M2e=2,R2e="[object Boolean]",D2e="[object Date]",I2e="[object Error]",$2e="[object Map]",L2e="[object Number]",F2e="[object RegExp]",B2e="[object Set]",z2e="[object String]",U2e="[object Symbol]",V2e="[object ArrayBuffer]",W2e="[object DataView]",RI=TI?TI.prototype:void 0,u_=RI?RI.valueOf:void 0;function H2e(e,t,r,n,a,s,o){switch(r){case W2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case V2e:return!(e.byteLength!=t.byteLength||!s(new MI(e),new MI(t)));case R2e:case D2e:case L2e:return E2e(+e,+t);case I2e:return e.name==t.name&&e.message==t.message;case F2e:case z2e:return e==t+"";case $2e:var l=P2e;case B2e:var c=n&T2e;if(l||(l=O2e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=M2e,o.set(e,t);var d=A2e(l(e),l(t),n,a,s,o);return o.delete(e),d;case U2e:if(u_)return u_.call(e)==u_.call(t)}return!1}var q2e=H2e;function K2e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Eq=K2e,G2e=Eq,Y2e=wa;function X2e(e,t,r){var n=t(e);return Y2e(e)?n:G2e(n,r(e))}var Z2e=X2e;function Q2e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var J2e=Q2e;function eEe(){return[]}var tEe=eEe,rEe=J2e,nEe=tEe,aEe=Object.prototype,sEe=aEe.propertyIsEnumerable,DI=Object.getOwnPropertySymbols,iEe=DI?function(e){return e==null?[]:(e=Object(e),rEe(DI(e),function(t){return sEe.call(e,t)}))}:nEe,oEe=iEe;function lEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cEe=lEe,uEe=Oo,dEe=To,fEe="[object Arguments]";function hEe(e){return dEe(e)&&uEe(e)==fEe}var mEe=hEe,II=mEe,pEe=To,Aq=Object.prototype,gEe=Aq.hasOwnProperty,vEe=Aq.propertyIsEnumerable,yEe=II(function(){return arguments}())?II:function(e){return pEe(e)&&gEe.call(e,"callee")&&!vEe.call(e,"callee")},OP=yEe,v0={exports:{}};function xEe(){return!1}var bEe=xEe;v0.exports;(function(e,t){var r=Di,n=bEe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(v0,v0.exports);var Pq=v0.exports,wEe=9007199254740991,jEe=/^(?:0|[1-9]\d*)$/;function _Ee(e,t){var r=typeof e;return t=t??wEe,!!t&&(r=="number"||r!="symbol"&&jEe.test(e))&&e>-1&&e%1==0&&e<t}var TP=_Ee,NEe=9007199254740991;function SEe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NEe}var MP=SEe,CEe=Oo,kEe=MP,EEe=To,AEe="[object Arguments]",PEe="[object Array]",OEe="[object Boolean]",TEe="[object Date]",MEe="[object Error]",REe="[object Function]",DEe="[object Map]",IEe="[object Number]",$Ee="[object Object]",LEe="[object RegExp]",FEe="[object Set]",BEe="[object String]",zEe="[object WeakMap]",UEe="[object ArrayBuffer]",VEe="[object DataView]",WEe="[object Float32Array]",HEe="[object Float64Array]",qEe="[object Int8Array]",KEe="[object Int16Array]",GEe="[object Int32Array]",YEe="[object Uint8Array]",XEe="[object Uint8ClampedArray]",ZEe="[object Uint16Array]",QEe="[object Uint32Array]",Zt={};Zt[WEe]=Zt[HEe]=Zt[qEe]=Zt[KEe]=Zt[GEe]=Zt[YEe]=Zt[XEe]=Zt[ZEe]=Zt[QEe]=!0;Zt[AEe]=Zt[PEe]=Zt[UEe]=Zt[OEe]=Zt[VEe]=Zt[TEe]=Zt[MEe]=Zt[REe]=Zt[DEe]=Zt[IEe]=Zt[$Ee]=Zt[LEe]=Zt[FEe]=Zt[BEe]=Zt[zEe]=!1;function JEe(e){return EEe(e)&&kEe(e.length)&&!!Zt[CEe(e)]}var eAe=JEe;function tAe(e){return function(t){return e(t)}}var Oq=tAe,y0={exports:{}};y0.exports;(function(e,t){var r=L7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(y0,y0.exports);var rAe=y0.exports,nAe=eAe,aAe=Oq,$I=rAe,LI=$I&&$I.isTypedArray,sAe=LI?aAe(LI):nAe,Tq=sAe,iAe=cEe,oAe=OP,lAe=wa,cAe=Pq,uAe=TP,dAe=Tq,fAe=Object.prototype,hAe=fAe.hasOwnProperty;function mAe(e,t){var r=lAe(e),n=!r&&oAe(e),a=!r&&!n&&cAe(e),s=!r&&!n&&!a&&dAe(e),o=r||n||a||s,l=o?iAe(e.length,String):[],c=l.length;for(var u in e)(t||hAe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uAe(u,c)))&&l.push(u);return l}var pAe=mAe,gAe=Object.prototype;function vAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gAe;return e===r}var yAe=vAe;function xAe(e,t){return function(r){return e(t(r))}}var Mq=xAe,bAe=Mq,wAe=bAe(Object.keys,Object),jAe=wAe,_Ae=yAe,NAe=jAe,SAe=Object.prototype,CAe=SAe.hasOwnProperty;function kAe(e){if(!_Ae(e))return NAe(e);var t=[];for(var r in Object(e))CAe.call(e,r)&&r!="constructor"&&t.push(r);return t}var EAe=kAe,AAe=mP,PAe=MP;function OAe(e){return e!=null&&PAe(e.length)&&!AAe(e)}var vv=OAe,TAe=pAe,MAe=EAe,RAe=vv;function DAe(e){return RAe(e)?TAe(e):MAe(e)}var Jw=DAe,IAe=Z2e,$Ae=oEe,LAe=Jw;function FAe(e){return IAe(e,LAe,$Ae)}var BAe=FAe,FI=BAe,zAe=1,UAe=Object.prototype,VAe=UAe.hasOwnProperty;function WAe(e,t,r,n,a,s){var o=r&zAe,l=FI(e),c=l.length,u=FI(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:VAe.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var g=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var w=o?n(y,b,h,t,e,s):n(b,y,h,e,t,s);if(!(w===void 0?b===y||a(b,y,r,n,s):w)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return s.delete(e),s.delete(t),g}var HAe=WAe,qAe=Cu,KAe=Di,GAe=qAe(KAe,"DataView"),YAe=GAe,XAe=Cu,ZAe=Di,QAe=XAe(ZAe,"Promise"),JAe=QAe,ePe=Cu,tPe=Di,rPe=ePe(tPe,"Set"),Rq=rPe,nPe=Cu,aPe=Di,sPe=nPe(aPe,"WeakMap"),iPe=sPe,jC=YAe,_C=gP,NC=JAe,SC=Rq,CC=iPe,Dq=Oo,Ph=B7,BI="[object Map]",oPe="[object Object]",zI="[object Promise]",UI="[object Set]",VI="[object WeakMap]",WI="[object DataView]",lPe=Ph(jC),cPe=Ph(_C),uPe=Ph(NC),dPe=Ph(SC),fPe=Ph(CC),mc=Dq;(jC&&mc(new jC(new ArrayBuffer(1)))!=WI||_C&&mc(new _C)!=BI||NC&&mc(NC.resolve())!=zI||SC&&mc(new SC)!=UI||CC&&mc(new CC)!=VI)&&(mc=function(e){var t=Dq(e),r=t==oPe?e.constructor:void 0,n=r?Ph(r):"";if(n)switch(n){case lPe:return WI;case cPe:return BI;case uPe:return zI;case dPe:return UI;case fPe:return VI}return t});var hPe=mc,d_=_q,mPe=kq,pPe=q2e,gPe=HAe,HI=hPe,qI=wa,KI=Pq,vPe=Tq,yPe=1,GI="[object Arguments]",YI="[object Array]",py="[object Object]",xPe=Object.prototype,XI=xPe.hasOwnProperty;function bPe(e,t,r,n,a,s){var o=qI(e),l=qI(t),c=o?YI:HI(e),u=l?YI:HI(t);c=c==GI?py:c,u=u==GI?py:u;var d=c==py,f=u==py,h=c==u;if(h&&KI(e)){if(!KI(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new d_),o||vPe(e)?mPe(e,t,r,n,a,s):pPe(e,t,c,r,n,a,s);if(!(r&yPe)){var m=d&&XI.call(e,"__wrapped__"),v=f&&XI.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,x=v?t.value():t;return s||(s=new d_),a(g,x,r,n,s)}}return h?(s||(s=new d_),gPe(e,t,r,n,a,s)):!1}var wPe=bPe,jPe=wPe,ZI=To;function Iq(e,t,r,n,a){return e===t?!0:e==null||t==null||!ZI(e)&&!ZI(t)?e!==e&&t!==t:jPe(e,t,r,n,Iq,a)}var RP=Iq,_Pe=_q,NPe=RP,SPe=1,CPe=2;function kPe(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new _Pe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?NPe(d,u,SPe|CPe,n,f):h))return!1}}return!0}var EPe=kPe,APe=Yl;function PPe(e){return e===e&&!APe(e)}var $q=PPe,OPe=$q,TPe=Jw;function MPe(e){for(var t=TPe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,OPe(a)]}return t}var RPe=MPe;function DPe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Lq=DPe,IPe=EPe,$Pe=RPe,LPe=Lq;function FPe(e){var t=$Pe(e);return t.length==1&&t[0][2]?LPe(t[0][0],t[0][1]):function(r){return r===e||IPe(r,e,t)}}var BPe=FPe;function zPe(e,t){return e!=null&&t in Object(e)}var UPe=zPe,VPe=H7,WPe=OP,HPe=wa,qPe=TP,KPe=MP,GPe=Lw;function YPe(e,t,r){t=VPe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=GPe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&KPe(a)&&qPe(o,a)&&(HPe(e)||WPe(e)))}var XPe=YPe,ZPe=UPe,QPe=XPe;function JPe(e,t){return e!=null&&QPe(e,t,ZPe)}var eOe=JPe,tOe=RP,rOe=q7,nOe=eOe,aOe=hP,sOe=$q,iOe=Lq,oOe=Lw,lOe=1,cOe=2;function uOe(e,t){return aOe(e)&&sOe(t)?iOe(oOe(e),t):function(r){var n=rOe(r,e);return n===void 0&&n===t?nOe(r,e):tOe(t,n,lOe|cOe)}}var dOe=uOe;function fOe(e){return e}var Oh=fOe;function hOe(e){return function(t){return t==null?void 0:t[e]}}var mOe=hOe,pOe=bP;function gOe(e){return function(t){return pOe(t,e)}}var vOe=gOe,yOe=mOe,xOe=vOe,bOe=hP,wOe=Lw;function jOe(e){return bOe(e)?yOe(wOe(e)):xOe(e)}var _Oe=jOe,NOe=BPe,SOe=dOe,COe=Oh,kOe=wa,EOe=_Oe;function AOe(e){return typeof e=="function"?e:e==null?COe:typeof e=="object"?kOe(e)?SOe(e[0],e[1]):NOe(e):EOe(e)}var Ii=AOe;function POe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Fq=POe;function OOe(e){return e!==e}var TOe=OOe;function MOe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ROe=MOe,DOe=Fq,IOe=TOe,$Oe=ROe;function LOe(e,t,r){return t===t?$Oe(e,t,r):DOe(e,IOe,r)}var FOe=LOe,BOe=FOe;function zOe(e,t){var r=e==null?0:e.length;return!!r&&BOe(e,t,0)>-1}var UOe=zOe;function VOe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var WOe=VOe;function HOe(){}var qOe=HOe,f_=Rq,KOe=qOe,GOe=PP,YOe=1/0,XOe=f_&&1/GOe(new f_([,-0]))[1]==YOe?function(e){return new f_(e)}:KOe,ZOe=XOe,QOe=Nq,JOe=UOe,eTe=WOe,tTe=Cq,rTe=ZOe,nTe=PP,aTe=200;function sTe(e,t,r){var n=-1,a=JOe,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=eTe;else if(s>=aTe){var u=t?null:rTe(e);if(u)return nTe(u);o=!1,a=tTe,c=new QOe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var iTe=sTe,oTe=Ii,lTe=iTe;function cTe(e,t){return e&&e.length?lTe(e,oTe(t)):[]}var uTe=cTe;const QI=vt(uTe);function Bq(e,t,r){return t===!0?QI(e,r):$e(t)?QI(e,t):e}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var dTe=["ref"];function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){ej(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function hTe(e,t,r){return t&&e$(e.prototype,t),r&&e$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mTe(e,t,r){return t=x0(t),pTe(e,zq()?Reflect.construct(t,r||[],x0(e).constructor):t.apply(e,r))}function pTe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gTe(e)}function gTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function x0(e){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(e)}function vTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function ej(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=yTe(e,"string");return _f(t)=="symbol"?t:t+""}function yTe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xTe(e,t){if(e==null)return{};var r=bTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wTe(e){return e.value}function jTe(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=xTe(t,dTe);return L.createElement(AP,r)}var t$=1,qc=function(e){function t(){var r;fTe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mTe(this,t,[].concat(a)),ej(r,"lastBoundingBox",{width:-1,height:-1}),r}return vTe(t,e),hTe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>t$||Math.abs(a.height-this.lastBoundingBox.height)>t$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bi(Bi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Bi(Bi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},jTe(s,Bi(Bi({},this.props),{},{payload:Bq(d,u,wTe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Bi(Bi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ce(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(p.PureComponent);ej(qc,"displayName","Legend");ej(qc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var r$=gv,_Te=OP,NTe=wa,n$=r$?r$.isConcatSpreadable:void 0;function STe(e){return NTe(e)||_Te(e)||!!(n$&&e&&e[n$])}var CTe=STe,kTe=Eq,ETe=CTe;function Vq(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=ETe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Vq(l,t-1,r,n,a):kTe(a,l):n||(a[a.length]=l)}return a}var Wq=Vq;function ATe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var PTe=ATe,OTe=PTe,TTe=OTe(),MTe=TTe,RTe=MTe,DTe=Jw;function ITe(e,t){return e&&RTe(e,t,DTe)}var Hq=ITe,$Te=vv;function LTe(e,t){return function(r,n){if(r==null)return r;if(!$Te(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var FTe=LTe,BTe=Hq,zTe=FTe,UTe=zTe(BTe),DP=UTe,VTe=DP,WTe=vv;function HTe(e,t){var r=-1,n=WTe(e)?Array(e.length):[];return VTe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var qq=HTe;function qTe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var KTe=qTe,a$=_h;function GTe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=a$(e),o=t!==void 0,l=t===null,c=t===t,u=a$(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var YTe=GTe,XTe=YTe;function ZTe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=XTe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var QTe=ZTe,h_=xP,JTe=bP,eMe=Ii,tMe=qq,rMe=KTe,nMe=Oq,aMe=QTe,sMe=Oh,iMe=wa;function oMe(e,t,r){t.length?t=h_(t,function(s){return iMe(s)?function(o){return JTe(o,s.length===1?s[0]:s)}:s}):t=[sMe];var n=-1;t=h_(t,nMe(eMe));var a=tMe(e,function(s,o,l){var c=h_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return rMe(a,function(s,o){return aMe(s,o,r)})}var lMe=oMe;function cMe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uMe=cMe,dMe=uMe,s$=Math.max;function fMe(e,t,r){return t=s$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=s$(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),dMe(e,this,l)}}var hMe=fMe;function mMe(e){return function(){return e}}var pMe=mMe,gMe=Cu,vMe=function(){try{var e=gMe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Kq=vMe,yMe=pMe,i$=Kq,xMe=Oh,bMe=i$?function(e,t){return i$(e,"toString",{configurable:!0,enumerable:!1,value:yMe(t),writable:!0})}:xMe,wMe=bMe,jMe=800,_Me=16,NMe=Date.now;function SMe(e){var t=0,r=0;return function(){var n=NMe(),a=_Me-(n-r);if(r=n,a>0){if(++t>=jMe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CMe=SMe,kMe=wMe,EMe=CMe,AMe=EMe(kMe),PMe=AMe,OMe=Oh,TMe=hMe,MMe=PMe;function RMe(e,t){return MMe(TMe(e,t,OMe),e+"")}var DMe=RMe,IMe=pP,$Me=vv,LMe=TP,FMe=Yl;function BMe(e,t,r){if(!FMe(r))return!1;var n=typeof t;return(n=="number"?$Me(r)&&LMe(t,r.length):n=="string"&&t in r)?IMe(r[t],e):!1}var tj=BMe,zMe=Wq,UMe=lMe,VMe=DMe,o$=tj,WMe=VMe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&o$(e,t[0],t[1])?t=[]:r>2&&o$(t[0],t[1],t[2])&&(t=[t[0]]),UMe(e,zMe(t,1),[])}),HMe=WMe;const IP=vt(HMe);function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(this,arguments)}function qMe(e,t){return XMe(e)||YMe(e,t)||GMe(e,t)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(e,t){if(e){if(typeof e=="string")return l$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l$(e,t)}}function l$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XMe(e){if(Array.isArray(e))return e}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){ZMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZMe(e,t,r){return t=QMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QMe(e){var t=JMe(e,"string");return Vp(t)=="symbol"?t:t+""}function JMe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eRe(e){return Array.isArray(e)&&Yr(e[0])&&Yr(e[1])?e.join(" ~ "):e}var tRe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,g=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var P={padding:0,margin:0},F=(h?IP(d,h):d).map(function(I,z){if(I.type==="none")return null;var O=m_({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),$=I.formatter||f||eRe,D=I.value,T=I.name,U=D,R=T;if($&&U!=null&&R!=null){var M=$(D,T,I,z,d);if(Array.isArray(M)){var B=qMe(M,2);U=B[0],R=B[1]}else U=M}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:O},Yr(R)?L.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Yr(R)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},U),L.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:P},F)}return null},j=m_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=m_({margin:0},u),N=!qe(g),S=N?g:"",k=Ge("recharts-default-tooltip",m),C=Ge("recharts-tooltip-label",v);N&&x&&d!==void 0&&d!==null&&(S=x(g,d));var A=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",EC({className:k,style:j},A),L.createElement("p",{className:C,style:_},L.isValidElement(S)?S:"".concat(S)),w())};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function gy(e,t,r){return t=rRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rRe(e){var t=nRe(e,"string");return Wp(t)=="symbol"?t:t+""}function nRe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh="recharts-tooltip-wrapper",aRe={visibility:"hidden"};function sRe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ge(Jh,gy(gy(gy(gy({},"".concat(Jh,"-right"),ce(r)&&t&&ce(t.x)&&r>=t.x),"".concat(Jh,"-left"),ce(r)&&t&&ce(t.x)&&r<t.x),"".concat(Jh,"-bottom"),ce(n)&&t&&ce(t.y)&&n>=t.y),"".concat(Jh,"-top"),ce(n)&&t&&ce(t.y)&&n<t.y))}function u$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&ce(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function iRe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oRe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=u$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=u$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=iRe({translateX:d,translateY:f,useTranslate3d:l})):u=aRe,{cssProperties:u,cssClasses:sRe({translateX:d,translateY:f,coordinate:r})}}function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(n){PC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function uRe(e,t,r){return t&&cRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dRe(e,t,r){return t=b0(t),fRe(e,Gq()?Reflect.construct(t,r||[],b0(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(e)}function hRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function b0(e){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(e)}function mRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AC(e,t)}function PC(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=pRe(e,"string");return Nf(t)=="symbol"?t:t+""}function pRe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h$=1,gRe=function(e){function t(){var r;lRe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dRe(this,t,[].concat(a)),PC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mRe(t,e),uRe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>h$||Math.abs(n.height-this.state.lastBoundingBox.height)>h$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,g=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,w=oRe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),j=w.cssClasses,_=w.cssProperties,N=f$(f$({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(p.PureComponent),vRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:vRe()};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){$P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function bRe(e,t,r){return t&&xRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wRe(e,t,r){return t=w0(t),jRe(e,Xq()?Reflect.construct(t,r||[],w0(e).constructor):t.apply(e,r))}function jRe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(e)}function _Re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!e})()}function w0(e){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w0(e)}function NRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(e,t)}function $P(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=SRe(e,"string");return Sf(t)=="symbol"?t:t+""}function SRe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CRe(e){return e.dataKey}function kRe(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(tRe,t)}var On=function(e){function t(){return yRe(this,t),wRe(this,t,arguments)}return NRe(t,e),bRe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,g=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,_=v??[];f&&_.length&&(_=Bq(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,CRe));var N=_.length>0;return L.createElement(gRe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:j},kRe(u,p$(p$({},this.props),{},{payload:_})))}}])}(p.PureComponent);$P(On,"displayName","Tooltip");$P(On,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ERe=Di,ARe=function(){return ERe.Date.now()},PRe=ARe,ORe=/\s/;function TRe(e){for(var t=e.length;t--&&ORe.test(e.charAt(t)););return t}var MRe=TRe,RRe=MRe,DRe=/^\s+/;function IRe(e){return e&&e.slice(0,RRe(e)+1).replace(DRe,"")}var $Re=IRe,LRe=$Re,g$=Yl,FRe=_h,v$=NaN,BRe=/^[-+]0x[0-9a-f]+$/i,zRe=/^0b[01]+$/i,URe=/^0o[0-7]+$/i,VRe=parseInt;function WRe(e){if(typeof e=="number")return e;if(FRe(e))return v$;if(g$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=g$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=LRe(e);var r=zRe.test(e);return r||URe.test(e)?VRe(e.slice(2),r?2:8):BRe.test(e)?v$:+e}var Qq=WRe,HRe=Yl,p_=PRe,y$=Qq,qRe="Expected a function",KRe=Math.max,GRe=Math.min;function YRe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(qRe);t=y$(t)||0,HRe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?KRe(y$(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function v(N){return u=N,l=setTimeout(b,t),d?m(N):o}function g(N){var S=N-c,k=N-u,C=t-S;return f?GRe(C,s-k):C}function x(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=s}function b(){var N=p_();if(x(N))return y(N);l=setTimeout(b,g(N))}function y(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(p_())}function _(){var N=p_(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return _.cancel=w,_.flush=j,_}var XRe=YRe,ZRe=XRe,QRe=Yl,JRe="Expected a function";function eDe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(JRe);return QRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ZRe(e,t,{leading:n,maxWait:t,trailing:a})}var tDe=eDe;const Jq=vt(tDe);function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){rDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rDe(e,t,r){return t=nDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nDe(e){var t=aDe(e,"string");return Hp(t)=="symbol"?t:t+""}function aDe(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sDe(e,t){return cDe(e)||lDe(e,t)||oDe(e,t)||iDe()}function iDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oDe(e,t){if(e){if(typeof e=="string")return b$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b$(e,t)}}function b$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cDe(e){if(Array.isArray(e))return e}var Kc=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,g=v===void 0?0:v,x=e.id,b=e.className,y=e.onResize,w=e.style,j=w===void 0?{}:w,_=p.useRef(null),N=p.useRef();N.current=y,p.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=p.useState({containerWidth:a.width,containerHeight:a.height}),k=sDe(S,2),C=k[0],A=k[1],E=p.useCallback(function(F,I){A(function(z){var O=Math.round(F),$=Math.round(I);return z.containerWidth===O&&z.containerHeight===$?z:{containerWidth:O,containerHeight:$}})},[]);p.useEffect(function(){var F=function(T){var U,R=T[0].contentRect,M=R.width,B=R.height;E(M,B),(U=N.current)===null||U===void 0||U.call(N,M,B)};g>0&&(F=Jq(F,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(F),z=_.current.getBoundingClientRect(),O=z.width,$=z.height;return E(O,$),I.observe(_.current),function(){I.disconnect()}},[E,g]);var P=p.useMemo(function(){var F=C.containerWidth,I=C.containerHeight;if(F<0||I<0)return null;Vs(kc(o)||kc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Vs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=kc(o)?F:o,O=kc(c)?I:c;r&&r>0&&(z?O=z/r:O&&(z=O*r),h&&O>h&&(O=h)),Vs(z>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,O,o,c,d,f,r);var $=!Array.isArray(m)&&no(m.type).endsWith("Chart");return L.Children.map(m,function(D){return L.isValidElement(D)?p.cloneElement(D,vy({width:z,height:O},$?{style:vy({height:"100%",width:"100%",maxHeight:O,maxWidth:z},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Ge("recharts-responsive-container",b),style:vy(vy({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},P)}),yv=function(t){return null};yv.displayName="Cell";function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(n){uDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uDe(e,t,r){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dDe(e){var t=fDe(e,"string");return qp(t)=="symbol"?t:t+""}function fDe(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu={widthCache:{},cacheCount:0},hDe=2e3,mDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j$="recharts_measurement_span";function pDe(e){var t=TC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xl.isSsr)return{width:0,height:0};var n=pDe(r),a=JSON.stringify({text:t,copyStyle:n});if(Wu.widthCache[a])return Wu.widthCache[a];try{var s=document.getElementById(j$);s||(s=document.createElement("span"),s.setAttribute("id",j$),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=TC(TC({},mDe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Wu.widthCache[a]=c,++Wu.cacheCount>hDe&&(Wu.cacheCount=0,Wu.widthCache={}),c}catch{return{width:0,height:0}}},gDe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function j0(e,t){return bDe(e)||xDe(e,t)||yDe(e,t)||vDe()}function vDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yDe(e,t){if(e){if(typeof e=="string")return _$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _$(e,t)}}function _$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bDe(e){if(Array.isArray(e))return e}function wDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_De(n.key),n)}}function jDe(e,t,r){return t&&N$(e.prototype,t),r&&N$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _De(e){var t=NDe(e,"string");return Kp(t)=="symbol"?t:t+""}function NDe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kDe=Object.keys(eK),gd="NaN";function EDe(e,t){return e*eK[t]}var yy=function(){function e(t,r){wDe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!SDe.test(r)&&(this.num=NaN,this.unit=""),kDe.includes(r)&&(this.num=EDe(t,r),this.unit="px")}return jDe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=CDe.exec(r))!==null&&n!==void 0?n:[],s=j0(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function tK(e){if(e.includes(gd))return gd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=S$.exec(t))!==null&&r!==void 0?r:[],a=j0(n,4),s=a[1],o=a[2],l=a[3],c=yy.parse(s??""),u=yy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return gd;t=t.replace(S$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=C$.exec(t))!==null&&f!==void 0?f:[],m=j0(h,4),v=m[1],g=m[2],x=m[3],b=yy.parse(v??""),y=yy.parse(x??""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return gd;t=t.replace(C$,w.toString())}return t}var k$=/\(([^()]*)\)/;function ADe(e){for(var t=e;t.includes("(");){var r=k$.exec(t),n=j0(r,2),a=n[1];t=t.replace(k$,tK(a))}return t}function PDe(e){var t=e.replace(/\s+/g,"");return t=ADe(t),t=tK(t),t}function ODe(e){try{return PDe(e)}catch{return gd}}function g_(e){var t=ODe(e.slice(5,-1));return t===gd?"":t}var TDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MDe=["dx","dy","angle","className","breakAll"];function MC(){return MC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MC.apply(this,arguments)}function E$(e,t){if(e==null)return{};var r=RDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A$(e,t){return LDe(e)||$De(e,t)||IDe(e,t)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IDe(e,t){if(e){if(typeof e=="string")return P$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P$(e,t)}}function P$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $De(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LDe(e){if(Array.isArray(e))return e}var rK=/[ \f\n\r\t\v\u2028\u2029]+/,nK=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];qe(r)||(n?s=r.toString().split(""):s=r.toString().split(rK));var o=s.map(function(c){return{word:c,width:Vm(c,a).width}}),l=n?0:Vm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},FDe=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ce(o),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(O,$){var D=$.word,T=$.width,U=O[O.length-1];if(U&&(a==null||s||U.width+T+n<Number(a)))U.words.push(D),U.width+=T+n;else{var R={words:[D],width:T};O.push(R)}return O},[])},m=h(r),v=function(z){return z.reduce(function(O,$){return O.width>$.width?O:$})};if(!d)return m;for(var g="",x=function(z){var O=f.slice(0,z),$=nK({breakAll:u,style:c,children:O+g}).wordsWithComputedWidth,D=h($),T=D.length>o||v(D).width>Number(a);return[T,D]},b=0,y=f.length-1,w=0,j;b<=y&&w<=f.length-1;){var _=Math.floor((b+y)/2),N=_-1,S=x(N),k=A$(S,2),C=k[0],A=k[1],E=x(_),P=A$(E,1),F=P[0];if(!C&&!F&&(b=_+1),C&&F&&(y=_-1),!C&&F){j=A;break}w++}return j||m},O$=function(t){var r=qe(t)?[]:t.toString().split(rK);return[{words:r}]},BDe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Xl.isSsr){var c,u,d=nK({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return O$(a);return FDe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return O$(a)},T$="#808080",mu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,g=v===void 0?"end":v,x=t.fill,b=x===void 0?T$:x,y=E$(t,TDe),w=p.useMemo(function(){return BDe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,_=y.dy,N=y.angle,S=y.className,k=y.breakAll,C=E$(y,MDe);if(!Yr(n)||!Yr(s))return null;var A=n+(ce(j)?j:0),E=s+(ce(_)?_:0),P;switch(g){case"start":P=g_("calc(".concat(u,")"));break;case"middle":P=g_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=g_("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(f){var I=w[0].width,z=y.width;F.push("scale(".concat((ce(z)?z/I:1)/I,")"))}return N&&F.push("rotate(".concat(N,", ").concat(A,", ").concat(E,")")),F.length&&(C.transform=F.join(" ")),L.createElement("text",MC({},Pe(C,!0),{x:A,y:E,className:Ge("recharts-text",S),textAnchor:m,fill:b.includes("url")?T$:b}),w.map(function(O,$){var D=O.words.join(k?"":" ");return L.createElement("tspan",{x:A,dy:$===0?P:l,key:"".concat(D,"-").concat($)},D)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zDe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LP(e){let t,r,n;e.length!==2?(t=Al,r=(l,c)=>Al(e(l),c),n=(l,c)=>e(l)-c):(t=e===Al||e===zDe?e:UDe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function UDe(){return 0}function aK(e){return e===null?NaN:+e}function*VDe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const WDe=LP(Al),xv=WDe.right;LP(aK).center;class M$ extends Map{constructor(t,r=KDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(R$(this,t))}has(t){return super.has(R$(this,t))}set(t,r){return super.set(HDe(this,t),r)}delete(t){return super.delete(qDe(this,t))}}function R$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HDe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qDe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KDe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GDe(e=Al){if(e===Al)return sK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YDe=Math.sqrt(50),XDe=Math.sqrt(10),ZDe=Math.sqrt(2);function _0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=YDe?10:s>=XDe?5:s>=ZDe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?_0(e,t,r*2):[l,c,u]}function RC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?_0(t,e,r):_0(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function DC(e,t,r){return t=+t,e=+e,r=+r,_0(e,t,r)[2]}function IC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?DC(t,e,r):DC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function D$(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function I$(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iK(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?sK:GDe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));iK(e,t,m,v,a)}const s=e[t];let o=r,l=n;for(em(e,r,t),a(e[n],s)>0&&em(e,r,n);o<l;){for(em(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?em(e,r,l):(++l,em(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function em(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function QDe(e,t,r){if(e=Float64Array.from(VDe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return I$(e);if(t>=1)return D$(e);var n,a=(n-1)*t,s=Math.floor(a),o=D$(iK(e,s).subarray(0,s+1)),l=I$(e.subarray(s+1));return o+(l-o)*(a-s)}}function JDe(e,t,r=aK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function eIe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $C=Symbol("implicit");function FP(){var e=new M$,t=[],r=[],n=$C;function a(s){let o=e.get(s);if(o===void 0){if(n!==$C)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new M$;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return FP(t,r).unknown(n)},vs.apply(a,arguments),a}function Gp(){var e=FP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,g=m?n:a;s=(g-v)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),v+=(g-v-s*(h-c))*d,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=eIe(h).map(function(b){return v+s*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Gp(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},vs.apply(f(),arguments)}function oK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oK(t())},e}function Wm(){return oK(Gp.apply(null,arguments).paddingInner(1))}function BP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function bv(){}var Yp=.7,N0=1/Yp,Ld="\\s*([+-]?\\d+)\\s*",Xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tIe=/^#([0-9a-f]{3,8})$/,rIe=new RegExp(`^rgb\\(${Ld},${Ld},${Ld}\\)$`),nIe=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),aIe=new RegExp(`^rgba\\(${Ld},${Ld},${Ld},${Xp}\\)$`),sIe=new RegExp(`^rgba\\(${wi},${wi},${wi},${Xp}\\)$`),iIe=new RegExp(`^hsl\\(${Xp},${wi},${wi}\\)$`),oIe=new RegExp(`^hsla\\(${Xp},${wi},${wi},${Xp}\\)$`),$$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BP(bv,Zp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L$,formatHex:L$,formatHex8:lIe,formatHsl:cIe,formatRgb:F$,toString:F$});function L$(){return this.rgb().formatHex()}function lIe(){return this.rgb().formatHex8()}function cIe(){return cK(this).formatHsl()}function F$(){return this.rgb().formatRgb()}function Zp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tIe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?B$(t):r===3?new ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rIe.exec(e))?new ca(t[1],t[2],t[3],1):(t=nIe.exec(e))?new ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aIe.exec(e))?xy(t[1],t[2],t[3],t[4]):(t=sIe.exec(e))?xy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iIe.exec(e))?V$(t[1],t[2]/100,t[3]/100,1):(t=oIe.exec(e))?V$(t[1],t[2]/100,t[3]/100,t[4]):$$.hasOwnProperty(e)?B$($$[e]):e==="transparent"?new ca(NaN,NaN,NaN,0):null}function B$(e){return new ca(e>>16&255,e>>8&255,e&255,1)}function xy(e,t,r,n){return n<=0&&(e=t=r=NaN),new ca(e,t,r,n)}function uIe(e){return e instanceof bv||(e=Zp(e)),e?(e=e.rgb(),new ca(e.r,e.g,e.b,e.opacity)):new ca}function LC(e,t,r,n){return arguments.length===1?uIe(e):new ca(e,t,r,n??1)}function ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}BP(ca,LC,lK(bv,{brighter(e){return e=e==null?N0:Math.pow(N0,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yp:Math.pow(Yp,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ca(Gc(this.r),Gc(this.g),Gc(this.b),S0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z$,formatHex:z$,formatHex8:dIe,formatRgb:U$,toString:U$}));function z$(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}`}function dIe(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}${Ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function U$(){const e=S0(this.opacity);return`${e===1?"rgb(":"rgba("}${Gc(this.r)}, ${Gc(this.g)}, ${Gc(this.b)}${e===1?")":`, ${e})`}`}function S0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ec(e){return e=Gc(e),(e<16?"0":"")+e.toString(16)}function V$(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ds(e,t,r,n)}function cK(e){if(e instanceof Ds)return new Ds(e.h,e.s,e.l,e.opacity);if(e instanceof bv||(e=Zp(e)),!e)return new Ds;if(e instanceof Ds)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Ds(o,l,c,e.opacity)}function fIe(e,t,r,n){return arguments.length===1?cK(e):new Ds(e,t,r,n??1)}function Ds(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}BP(Ds,fIe,lK(bv,{brighter(e){return e=e==null?N0:Math.pow(N0,e),new Ds(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yp:Math.pow(Yp,e),new Ds(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ca(v_(e>=240?e-240:e+120,a,n),v_(e,a,n),v_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ds(W$(this.h),by(this.s),by(this.l),S0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=S0(this.opacity);return`${e===1?"hsl(":"hsla("}${W$(this.h)}, ${by(this.s)*100}%, ${by(this.l)*100}%${e===1?")":`, ${e})`}`}}));function W$(e){return e=(e||0)%360,e<0?e+360:e}function by(e){return Math.max(0,Math.min(1,e||0))}function v_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zP=e=>()=>e;function hIe(e,t){return function(r){return e+r*t}}function mIe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pIe(e){return(e=+e)==1?uK:function(t,r){return r-t?mIe(t,r,e):zP(isNaN(t)?r:t)}}function uK(e,t){var r=t-e;return r?hIe(e,r):zP(isNaN(e)?t:e)}const H$=function e(t){var r=pIe(t);function n(a,s){var o=r((a=LC(a)).r,(s=LC(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=uK(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function gIe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function vIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yIe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Th(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function xIe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function C0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bIe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Th(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var FC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y_=new RegExp(FC.source,"g");function wIe(e){return function(){return e}}function jIe(e){return function(t){return e(t)+""}}function _Ie(e,t){var r=FC.lastIndex=y_.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=FC.exec(e))&&(a=y_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:C0(n,a)})),r=y_.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?jIe(c[0].x):wIe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Th(e,t){var r=typeof t,n;return t==null||r==="boolean"?zP(t):(r==="number"?C0:r==="string"?(n=Zp(t))?(t=n,H$):_Ie:t instanceof Zp?H$:t instanceof Date?xIe:vIe(t)?gIe:Array.isArray(t)?yIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bIe:C0)(e,t)}function UP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function NIe(e,t){t===void 0&&(t=e,e=Th);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function SIe(e){return function(){return e}}function k0(e){return+e}var q$=[0,1];function Gn(e){return e}function BC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SIe(isNaN(t)?NaN:.5)}function CIe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kIe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=BC(a,n),s=r(o,s)):(n=BC(n,a),s=r(s,o)),function(l){return s(n(l))}}function EIe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=BC(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=xv(e,l,1,n)-1;return s[c](a[c](l))}}function wv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rj(){var e=q$,t=q$,r=Th,n,a,s,o=Gn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Gn&&(o=CIe(e[0],e[h-1])),l=h>2?EIe:kIe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),C0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,k0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=UP,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Gn,d()):o!==Gn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function VP(){return rj()(Gn,Gn)}function AIe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function E0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cf(e){return e=E0(Math.abs(e)),e?e[1]:NaN}function PIe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function OIe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qp(e){if(!(t=TIe.exec(e)))throw new Error("invalid format: "+e);var t;return new WP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qp.prototype=WP.prototype;function WP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MIe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dK;function RIe(e,t){var r=E0(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(dK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+E0(e,Math.max(0,t+s-1))[0]}function K$(e,t){var r=E0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const G$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AIe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>K$(e*100,t),r:K$,s:RIe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Y$(e){return e}var X$=Array.prototype.map,Z$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DIe(e){var t=e.grouping===void 0||e.thousands===void 0?Y$:PIe(X$.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Y$:OIe(X$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Qp(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,x=f.zero,b=f.width,y=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(y=!0,_="g"):G$[_]||(w===void 0&&(w=12),j=!0,_="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=g==="$"?n:/[%p]/.test(_)?o:"",k=G$[_],C=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(E){var P=N,F=S,I,z,O;if(_==="c")F=k(E)+F,E="";else{E=+E;var $=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),w),j&&(E=MIe(E)),$&&+E==0&&v!=="+"&&($=!1),P=($?v==="("?v:l:v==="-"||v==="("?"":v)+P,F=(_==="s"?Z$[8+dK/3]:"")+F+($&&v==="("?")":""),C){for(I=-1,z=E.length;++I<z;)if(O=E.charCodeAt(I),48>O||O>57){F=(O===46?a+E.slice(I+1):E.slice(I))+F,E=E.slice(0,I);break}}}y&&!x&&(E=t(E,1/0));var D=P.length+E.length+F.length,T=D<b?new Array(b-D+1).join(h):"";switch(y&&x&&(E=t(T+E,T.length?b-F.length:1/0),T=""),m){case"<":E=P+E+F+T;break;case"=":E=P+T+E+F;break;case"^":E=T.slice(0,D=T.length>>1)+P+E+F+T.slice(D);break;default:E=T+P+E+F;break}return s(E)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=Qp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Cf(h)/3)))*3,g=Math.pow(10,-v),x=Z$[8+v/3];return function(b){return m(g*b)+x}}return{format:u,formatPrefix:d}}var wy,HP,fK;IIe({thousands:",",grouping:[3],currency:["$",""]});function IIe(e){return wy=DIe(e),HP=wy.format,fK=wy.formatPrefix,wy}function $Ie(e){return Math.max(0,-Cf(Math.abs(e)))}function LIe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cf(t)/3)))*3-Cf(Math.abs(e)))}function FIe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cf(t)-Cf(e))+1}function hK(e,t,r,n){var a=IC(e,t,r),s;switch(n=Qp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=LIe(a,o))&&(n.precision=s),fK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=FIe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=$Ie(a))&&(n.precision=s-(n.type==="%")*2);break}}return HP(n)}function Zl(e){var t=e.domain;return e.ticks=function(r){var n=t();return RC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hK(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=DC(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function A0(){var e=VP();return e.copy=function(){return wv(e,A0())},vs.apply(e,arguments),Zl(e)}function mK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,k0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mK(e).unknown(t)},e=arguments.length?Array.from(e,k0):[0,1],Zl(r)}function pK(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function Q$(e){return Math.log(e)}function J$(e){return Math.exp(e)}function BIe(e){return-Math.log(-e)}function zIe(e){return-Math.exp(-e)}function UIe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VIe(e){return e===10?UIe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WIe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function e4(e){return(t,r)=>-e(-t,r)}function qP(e){const t=e(Q$,J$),r=t.domain;let n=10,a,s;function o(){return a=WIe(n),s=VIe(n),r()[0]<0?(a=e4(a),s=e4(s),e(BIe,zIe)):e(Q$,J$),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,g;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(g=h<0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<x&&(b=RC(u,d,x))}else b=RC(h,m,Math.min(m-h,x)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qp(c)).precision==null&&(c.trim=!0),c=HP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pK(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function gK(){const e=qP(rj()).domain([1,10]);return e.copy=()=>wv(e,gK()).base(e.base()),vs.apply(e,arguments),e}function t4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KP(e){var t=1,r=e(t4(t),r4(t));return r.constant=function(n){return arguments.length?e(t4(t=+n),r4(t)):t},Zl(r)}function vK(){var e=KP(rj());return e.copy=function(){return wv(e,vK()).constant(e.constant())},vs.apply(e,arguments)}function n4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HIe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qIe(e){return e<0?-e*e:e*e}function GP(e){var t=e(Gn,Gn),r=1;function n(){return r===1?e(Gn,Gn):r===.5?e(HIe,qIe):e(n4(r),n4(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Zl(t)}function YP(){var e=GP(rj());return e.copy=function(){return wv(e,YP()).exponent(e.exponent())},vs.apply(e,arguments),e}function KIe(){return YP.apply(null,arguments).exponent(.5)}function a4(e){return Math.sign(e)*e*e}function GIe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yK(){var e=VP(),t=[0,1],r=!1,n;function a(s){var o=GIe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(a4(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,k0)).map(a4)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vs.apply(a,arguments),Zl(a)}function xK(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=JDe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[xv(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Al),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xK().domain(e).range(t).unknown(n)},vs.apply(s,arguments)}function bK(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[xv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return bK().domain([e,t]).range(a).unknown(s)},vs.apply(Zl(o),arguments)}function wK(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[xv(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return wK().domain(e).range(t).unknown(r)},vs.apply(a,arguments)}const x_=new Date,b_=new Date;function Qr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Qr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(x_.setTime(+s),b_.setTime(+o),e(x_),e(b_),Math.floor(r(x_,b_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const P0=Qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);P0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):P0);P0.range;const Qi=1e3,ss=Qi*60,Ji=ss*60,vo=Ji*24,XP=vo*7,s4=vo*30,w_=vo*365,Ac=Qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCSeconds());Ac.range;const ZP=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getMinutes());ZP.range;const QP=Qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCMinutes());QP.range;const JP=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi-e.getMinutes()*ss)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getHours());JP.range;const eO=Qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCHours());eO.range;const jv=Qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ss)/vo,e=>e.getDate()-1);jv.range;const nj=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>e.getUTCDate()-1);nj.range;const jK=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>Math.floor(e/vo));jK.range;function Eu(e){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ss)/XP)}const aj=Eu(0),O0=Eu(1),YIe=Eu(2),XIe=Eu(3),kf=Eu(4),ZIe=Eu(5),QIe=Eu(6);aj.range;O0.range;YIe.range;XIe.range;kf.range;ZIe.range;QIe.range;function Au(e){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/XP)}const sj=Au(0),T0=Au(1),JIe=Au(2),e$e=Au(3),Ef=Au(4),t$e=Au(5),r$e=Au(6);sj.range;T0.range;JIe.range;e$e.range;Ef.range;t$e.range;r$e.range;const tO=Qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tO.range;const rO=Qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rO.range;const yo=Qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yo.range;const xo=Qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xo.range;function _K(e,t,r,n,a,s){const o=[[Ac,1,Qi],[Ac,5,5*Qi],[Ac,15,15*Qi],[Ac,30,30*Qi],[s,1,ss],[s,5,5*ss],[s,15,15*ss],[s,30,30*ss],[a,1,Ji],[a,3,3*Ji],[a,6,6*Ji],[a,12,12*Ji],[n,1,vo],[n,2,2*vo],[r,1,XP],[t,1,s4],[t,3,3*s4],[e,1,w_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=LP(([,,x])=>x).right(o,h);if(m===o.length)return e.every(IC(u/w_,d/w_,f));if(m===0)return P0.every(Math.max(IC(u,d,f),1));const[v,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(g)}return[l,c]}const[n$e,a$e]=_K(xo,rO,sj,jK,eO,QP),[s$e,i$e]=_K(yo,tO,aj,jv,JP,ZP);function j_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function __(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function o$e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=rm(a),d=nm(a),f=rm(s),h=nm(s),m=rm(o),v=nm(o),g=rm(l),x=nm(l),b=rm(c),y=nm(c),w={a:$,A:D,b:T,B:U,c:null,d:d4,e:d4,f:P$e,g:B$e,G:U$e,H:k$e,I:E$e,j:A$e,L:NK,m:O$e,M:T$e,p:R,q:M,Q:m4,s:p4,S:M$e,u:R$e,U:D$e,V:I$e,w:$$e,W:L$e,x:null,X:null,y:F$e,Y:z$e,Z:V$e,"%":h4},j={a:B,A:V,b:q,B:J,c:null,d:f4,e:f4,f:K$e,g:n4e,G:s4e,H:W$e,I:H$e,j:q$e,L:CK,m:G$e,M:Y$e,p:Y,q:te,Q:m4,s:p4,S:X$e,u:Z$e,U:Q$e,V:J$e,w:e4e,W:t4e,x:null,X:null,y:r4e,Y:a4e,Z:i4e,"%":h4},_={a:A,A:E,b:P,B:F,c:I,d:c4,e:c4,f:_$e,g:l4,G:o4,H:u4,I:u4,j:x$e,L:j$e,m:y$e,M:b$e,p:C,q:v$e,Q:S$e,s:C$e,S:w$e,u:f$e,U:h$e,V:m$e,w:d$e,W:p$e,x:z,X:O,y:l4,Y:o4,Z:g$e,"%":N$e};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(Z,ne){return function(ee){var G=[],_e=-1,ie=0,he=Z.length,ke,Qe,et;for(ee instanceof Date||(ee=new Date(+ee));++_e<he;)Z.charCodeAt(_e)===37&&(G.push(Z.slice(ie,_e)),(Qe=i4[ke=Z.charAt(++_e)])!=null?ke=Z.charAt(++_e):Qe=ke==="e"?" ":"0",(et=ne[ke])&&(ke=et(ee,Qe)),G.push(ke),ie=_e+1);return G.push(Z.slice(ie,_e)),G.join("")}}function S(Z,ne){return function(ee){var G=tm(1900,void 0,1),_e=k(G,Z,ee+="",0),ie,he;if(_e!=ee.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ne&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ie=__(tm(G.y,0,1)),he=ie.getUTCDay(),ie=he>4||he===0?T0.ceil(ie):T0(ie),ie=nj.offset(ie,(G.V-1)*7),G.y=ie.getUTCFullYear(),G.m=ie.getUTCMonth(),G.d=ie.getUTCDate()+(G.w+6)%7):(ie=j_(tm(G.y,0,1)),he=ie.getDay(),ie=he>4||he===0?O0.ceil(ie):O0(ie),ie=jv.offset(ie,(G.V-1)*7),G.y=ie.getFullYear(),G.m=ie.getMonth(),G.d=ie.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),he="Z"in G?__(tm(G.y,0,1)).getUTCDay():j_(tm(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(he+5)%7:G.w+G.U*7-(he+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,__(G)):j_(G)}}function k(Z,ne,ee,G){for(var _e=0,ie=ne.length,he=ee.length,ke,Qe;_e<ie;){if(G>=he)return-1;if(ke=ne.charCodeAt(_e++),ke===37){if(ke=ne.charAt(_e++),Qe=_[ke in i4?ne.charAt(_e++):ke],!Qe||(G=Qe(Z,ee,G))<0)return-1}else if(ke!=ee.charCodeAt(G++))return-1}return G}function C(Z,ne,ee){var G=u.exec(ne.slice(ee));return G?(Z.p=d.get(G[0].toLowerCase()),ee+G[0].length):-1}function A(Z,ne,ee){var G=m.exec(ne.slice(ee));return G?(Z.w=v.get(G[0].toLowerCase()),ee+G[0].length):-1}function E(Z,ne,ee){var G=f.exec(ne.slice(ee));return G?(Z.w=h.get(G[0].toLowerCase()),ee+G[0].length):-1}function P(Z,ne,ee){var G=b.exec(ne.slice(ee));return G?(Z.m=y.get(G[0].toLowerCase()),ee+G[0].length):-1}function F(Z,ne,ee){var G=g.exec(ne.slice(ee));return G?(Z.m=x.get(G[0].toLowerCase()),ee+G[0].length):-1}function I(Z,ne,ee){return k(Z,t,ne,ee)}function z(Z,ne,ee){return k(Z,r,ne,ee)}function O(Z,ne,ee){return k(Z,n,ne,ee)}function $(Z){return o[Z.getDay()]}function D(Z){return s[Z.getDay()]}function T(Z){return c[Z.getMonth()]}function U(Z){return l[Z.getMonth()]}function R(Z){return a[+(Z.getHours()>=12)]}function M(Z){return 1+~~(Z.getMonth()/3)}function B(Z){return o[Z.getUTCDay()]}function V(Z){return s[Z.getUTCDay()]}function q(Z){return c[Z.getUTCMonth()]}function J(Z){return l[Z.getUTCMonth()]}function Y(Z){return a[+(Z.getUTCHours()>=12)]}function te(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ne=N(Z+="",w);return ne.toString=function(){return Z},ne},parse:function(Z){var ne=S(Z+="",!1);return ne.toString=function(){return Z},ne},utcFormat:function(Z){var ne=N(Z+="",j);return ne.toString=function(){return Z},ne},utcParse:function(Z){var ne=S(Z+="",!0);return ne.toString=function(){return Z},ne}}}var i4={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,l$e=/^%/,c$e=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function u$e(e){return e.replace(c$e,"\\$&")}function rm(e){return new RegExp("^(?:"+e.map(u$e).join("|")+")","i")}function nm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function d$e(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function f$e(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function h$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function m$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function p$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function o4(e,t,r){var n=mn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function l4(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function g$e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function v$e(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function y$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function c4(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function x$e(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function u4(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function b$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function w$e(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function j$e(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _$e(e,t,r){var n=mn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function N$e(e,t,r){var n=l$e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function S$e(e,t,r){var n=mn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function C$e(e,t,r){var n=mn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function d4(e,t){return wt(e.getDate(),t,2)}function k$e(e,t){return wt(e.getHours(),t,2)}function E$e(e,t){return wt(e.getHours()%12||12,t,2)}function A$e(e,t){return wt(1+jv.count(yo(e),e),t,3)}function NK(e,t){return wt(e.getMilliseconds(),t,3)}function P$e(e,t){return NK(e,t)+"000"}function O$e(e,t){return wt(e.getMonth()+1,t,2)}function T$e(e,t){return wt(e.getMinutes(),t,2)}function M$e(e,t){return wt(e.getSeconds(),t,2)}function R$e(e){var t=e.getDay();return t===0?7:t}function D$e(e,t){return wt(aj.count(yo(e)-1,e),t,2)}function SK(e){var t=e.getDay();return t>=4||t===0?kf(e):kf.ceil(e)}function I$e(e,t){return e=SK(e),wt(kf.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function $$e(e){return e.getDay()}function L$e(e,t){return wt(O0.count(yo(e)-1,e),t,2)}function F$e(e,t){return wt(e.getFullYear()%100,t,2)}function B$e(e,t){return e=SK(e),wt(e.getFullYear()%100,t,2)}function z$e(e,t){return wt(e.getFullYear()%1e4,t,4)}function U$e(e,t){var r=e.getDay();return e=r>=4||r===0?kf(e):kf.ceil(e),wt(e.getFullYear()%1e4,t,4)}function V$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function f4(e,t){return wt(e.getUTCDate(),t,2)}function W$e(e,t){return wt(e.getUTCHours(),t,2)}function H$e(e,t){return wt(e.getUTCHours()%12||12,t,2)}function q$e(e,t){return wt(1+nj.count(xo(e),e),t,3)}function CK(e,t){return wt(e.getUTCMilliseconds(),t,3)}function K$e(e,t){return CK(e,t)+"000"}function G$e(e,t){return wt(e.getUTCMonth()+1,t,2)}function Y$e(e,t){return wt(e.getUTCMinutes(),t,2)}function X$e(e,t){return wt(e.getUTCSeconds(),t,2)}function Z$e(e){var t=e.getUTCDay();return t===0?7:t}function Q$e(e,t){return wt(sj.count(xo(e)-1,e),t,2)}function kK(e){var t=e.getUTCDay();return t>=4||t===0?Ef(e):Ef.ceil(e)}function J$e(e,t){return e=kK(e),wt(Ef.count(xo(e),e)+(xo(e).getUTCDay()===4),t,2)}function e4e(e){return e.getUTCDay()}function t4e(e,t){return wt(T0.count(xo(e)-1,e),t,2)}function r4e(e,t){return wt(e.getUTCFullYear()%100,t,2)}function n4e(e,t){return e=kK(e),wt(e.getUTCFullYear()%100,t,2)}function a4e(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function s4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ef(e):Ef.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function i4e(){return"+0000"}function h4(){return"%"}function m4(e){return+e}function p4(e){return Math.floor(+e/1e3)}var Hu,EK,AK;o4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o4e(e){return Hu=o$e(e),EK=Hu.format,Hu.parse,AK=Hu.utcFormat,Hu.utcParse,Hu}function l4e(e){return new Date(e)}function c4e(e){return e instanceof Date?+e:+new Date(+e)}function nO(e,t,r,n,a,s,o,l,c,u){var d=VP(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?v:o(N)<N?g:s(N)<N?x:n(N)<N?a(N)<N?b:y:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,c4e)):h().map(l4e)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(pK(S,N)):d},d.copy=function(){return wv(d,nO(e,t,r,n,a,s,o,l,c,u))},d}function u4e(){return vs.apply(nO(s$e,i$e,yo,tO,aj,jv,JP,ZP,Ac,EK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d4e(){return vs.apply(nO(n$e,a$e,xo,rO,sj,nj,eO,QP,Ac,AK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ij(){var e=0,t=1,r,n,a,s,o=Gn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Th),u.rangeRound=d(UP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function PK(){var e=Zl(ij()(Gn));return e.copy=function(){return Ql(e,PK())},Mo.apply(e,arguments)}function OK(){var e=qP(ij()).domain([1,10]);return e.copy=function(){return Ql(e,OK()).base(e.base())},Mo.apply(e,arguments)}function TK(){var e=KP(ij());return e.copy=function(){return Ql(e,TK()).constant(e.constant())},Mo.apply(e,arguments)}function aO(){var e=GP(ij());return e.copy=function(){return Ql(e,aO()).exponent(e.exponent())},Mo.apply(e,arguments)}function f4e(){return aO.apply(null,arguments).exponent(.5)}function MK(){var e=[],t=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((xv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>QDe(e,s/n))},r.copy=function(){return MK(t).domain(e)},Mo.apply(r,arguments)}function oj(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Gn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(x){var b,y,w;return arguments.length?([b,y,w]=x,u=NIe(g,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Th),m.rangeRound=v(UP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function RK(){var e=Zl(oj()(Gn));return e.copy=function(){return Ql(e,RK())},Mo.apply(e,arguments)}function DK(){var e=qP(oj()).domain([.1,1,10]);return e.copy=function(){return Ql(e,DK()).base(e.base())},Mo.apply(e,arguments)}function IK(){var e=KP(oj());return e.copy=function(){return Ql(e,IK()).constant(e.constant())},Mo.apply(e,arguments)}function sO(){var e=GP(oj());return e.copy=function(){return Ql(e,sO()).exponent(e.exponent())},Mo.apply(e,arguments)}function h4e(){return sO.apply(null,arguments).exponent(.5)}const g4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gp,scaleDiverging:RK,scaleDivergingLog:DK,scaleDivergingPow:sO,scaleDivergingSqrt:h4e,scaleDivergingSymlog:IK,scaleIdentity:mK,scaleImplicit:$C,scaleLinear:A0,scaleLog:gK,scaleOrdinal:FP,scalePoint:Wm,scalePow:YP,scaleQuantile:xK,scaleQuantize:bK,scaleRadial:yK,scaleSequential:PK,scaleSequentialLog:OK,scaleSequentialPow:aO,scaleSequentialQuantile:MK,scaleSequentialSqrt:f4e,scaleSequentialSymlog:TK,scaleSqrt:KIe,scaleSymlog:vK,scaleThreshold:wK,scaleTime:u4e,scaleUtc:d4e,tickFormat:hK},Symbol.toStringTag,{value:"Module"}));var m4e=_h;function p4e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!m4e(o):r(o,l)))var l=o,c=s}return c}var lj=p4e;function g4e(e,t){return e>t}var $K=g4e,v4e=lj,y4e=$K,x4e=Oh;function b4e(e){return e&&e.length?v4e(e,x4e,y4e):void 0}var w4e=b4e;const ml=vt(w4e);function j4e(e,t){return e<t}var LK=j4e,_4e=lj,N4e=LK,S4e=Oh;function C4e(e){return e&&e.length?_4e(e,S4e,N4e):void 0}var k4e=C4e;const cj=vt(k4e);var E4e=xP,A4e=Ii,P4e=qq,O4e=wa;function T4e(e,t){var r=O4e(e)?E4e:P4e;return r(e,A4e(t))}var M4e=T4e,R4e=Wq,D4e=M4e;function I4e(e,t){return R4e(D4e(e,t),1)}var $4e=I4e;const L4e=vt($4e);var F4e=RP;function B4e(e,t){return F4e(e,t)}var z4e=B4e;const pu=vt(z4e);var Mh=1e9,U4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oO,nr=!0,ms="[DecimalError] ",Yc=ms+"Invalid argument: ",iO=ms+"Exponent out of range: ",Rh=Math.floor,pc=Math.pow,V4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,tn=1e7,Qt=7,FK=9007199254740991,M0=Rh(FK/Qt),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return ao(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return $t(ao(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Rr(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ta))throw Error(ms+"NaN");if(r.s<1)throw Error(ms+(r.s?"NaN":"-Infinity"));return r.eq(Ta)?new n(0):(nr=!1,t=ao(Jp(r,s),Jp(e,s),s),nr=!0,$t(t,a))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UK(t,e):BK(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ms+"NaN");return r.s?(nr=!1,t=ao(r,e,0,1).times(e),nr=!0,r.minus(t)):$t(new n(r),a)};je.naturalExponential=je.exp=function(){return zK(this)};je.naturalLogarithm=je.ln=function(){return Jp(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BK(t,e):UK(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yc+e);if(t=Rr(a)+1,n=a.d.length-1,r=n*Qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ms+"NaN")}for(e=Rr(l),nr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=mi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Rh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ao(l,s,o+2)).times(.5),mi(s.d).slice(0,o)===(t=mi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($t(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return nr=!0,$t(n,r)};je.times=je.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%tn|0,t=l/tn|0;s[a]=(s[a]+t)%tn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,nr?$t(e,f.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ai(e,0,Mh),t===void 0?t=n.rounding:Ai(t,0,8),$t(r,e+Rr(r)+1,t))};je.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=gu(n,!0):(Ai(e,0,Mh),t===void 0?t=a.rounding:Ai(t,0,8),n=$t(new a(n),e+1,t),r=gu(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?gu(a):(Ai(e,0,Mh),t===void 0?t=s.rounding:Ai(t,0,8),n=$t(new s(a),e+Rr(a)+1,t),r=gu(n.abs(),!1,e+Rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return $t(new t(e),Rr(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ta);if(l=new c(l),!l.s){if(e.s<1)throw Error(ms+"Infinity");return l}if(l.eq(Ta))return l;if(n=c.precision,e.eq(Ta))return $t(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=FK){for(a=new c(Ta),t=Math.ceil(n/Qt+4),nr=!1;r%2&&(a=a.times(l),y4(a.d,t)),r=Rh(r/2),r!==0;)l=l.times(l),y4(l.d,t);return nr=!0,e.s<0?new c(Ta).div(a):$t(a,n)}}else if(s<0)throw Error(ms+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,nr=!1,a=e.times(Jp(l,n+u)),nr=!0,a=zK(a),a.s=s,a};je.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Rr(a),n=gu(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ai(e,1,Mh),t===void 0?t=s.rounding:Ai(t,0,8),a=$t(new s(a),e,t),r=Rr(a),n=gu(a,e<=r||r<=s.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ai(e,1,Mh),t===void 0?t=n.rounding:Ai(t,0,8)),$t(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),r=e.constructor;return gu(e,t<=r.toExpNeg||t>=r.toExpPos)};function BK(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nr?$t(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Qt),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/tn|0,c[s]%=tn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,nr?$t(t,f):t}function Ai(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yc+e)}function mi(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Qt-n.length,r&&(s+=Go(r)),s+=n;o=e[t],n=o+"",r=Qt-n.length,r&&(s+=Go(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ao=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%tn|0,o=s/tn|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*tn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,v,g,x,b,y,w,j,_,N,S,k,C=n.constructor,A=n.s==a.s?1:-1,E=n.d,P=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(ms+"Division by zero");for(c=n.e-a.e,S=P.length,_=E.length,m=new C(A),v=m.d=[],u=0;P[u]==(E[u]||0);)++u;if(P[u]>(E[u]||0)&&--c,s==null?y=s=C.precision:o?y=s+(Rr(n)-Rr(a))+1:y=s,y<0)return new C(0);if(y=y/Qt+2|0,u=0,S==1)for(d=0,P=P[0],y++;(u<_||d)&&y--;u++)w=d*tn+(E[u]||0),v[u]=w/P|0,d=w%P|0;else{for(d=tn/(P[0]+1)|0,d>1&&(P=e(P,d),E=e(E,d),S=P.length,_=E.length),j=S,g=E.slice(0,S),x=g.length;x<S;)g[x++]=0;k=P.slice(),k.unshift(0),N=P[0],P[1]>=tn/2&&++N;do d=0,l=t(P,g,S,x),l<0?(b=g[0],S!=x&&(b=b*tn+(g[1]||0)),d=b/N|0,d>1?(d>=tn&&(d=tn-1),f=e(P,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,r(f,S<h?k:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(P,g,S,x),l<1&&(d++,r(g,S<x?k:P,x))),x=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[x++]=E[j]||0:(g=[E[j]],x=1);while((j++<_||g[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,$t(m,o?s+Rr(m)+1:s)}}();function zK(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Rr(e)>16)throw Error(iO+Rr(e));if(!e.s)return new d(Ta);for(nr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(pc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Ta),d.precision=l;;){if(a=$t(a.times(e),l),r=r.times(++c),o=s.plus(ao(a,r,l)),mi(o.d).slice(0,l)===mi(s.d).slice(0,l)){for(;u--;)s=$t(s.times(s),l);return d.precision=f,t==null?(nr=!0,$t(s,f)):s}s=o}}function Rr(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function N_(e,t,r){if(t>e.LN10.sd())throw nr=!0,r&&(e.precision=r),Error(ms+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function Go(e){for(var t="";e--;)t+="0";return t}function Jp(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,v=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(ms+(m.s?"NaN":"-Infinity"));if(m.eq(Ta))return new g(0);if(t==null?(nr=!1,u=x):u=t,m.eq(10))return t==null&&(nr=!0),N_(g,u);if(u+=h,g.precision=u,r=mi(v),n=r.charAt(0),s=Rr(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=mi(m.d),n=r.charAt(0),f++;s=Rr(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=N_(g,u+2,x).times(s+""),m=Jp(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(nr=!0,$t(m,x)):m;for(l=o=m=ao(m.minus(Ta),m.plus(Ta),u),d=$t(m.times(m),u),a=3;;){if(o=$t(o.times(d),u),c=l.plus(ao(o,new g(a),u)),mi(c.d).slice(0,u)===mi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(N_(g,u+2,x).times(s+""))),l=ao(l,new g(f),u),g.precision=x,t==null?(nr=!0,$t(l,x)):l;l=c,a+=2}}function v4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Rh(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qt;n<a;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),nr&&(e.e>M0||e.e<-M0))throw Error(iO+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Qt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qt),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Qt,a=n-Qt+o}if(r!==void 0&&(s=pc(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/pc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Rr(e),f.length=1,t=t-s-1,f[0]=pc(10,(Qt-t%Qt)%Qt),e.e=Rh(-t/Qt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=pc(10,Qt-n),f[d]=a>0?(u/pc(10,o-a)%pc(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==tn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=tn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(nr&&(e.e>M0||e.e<-M0))throw Error(iO+Rr(e));return e}function UK(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),nr?$t(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Qt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=tn-1;--c[s],c[a]+=tn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,nr?$t(t,m):t):new h(0)}function gu(e,t,r){var n,a=Rr(e),s=mi(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Go(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Go(-a-1)+s,r&&(n=r-o)>0&&(s+=Go(n))):a>=o?(s+=Go(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Go(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Go(n))),e.s<0?"-"+s:s}function y4(e,t){if(e.length>t)return e.length=t,!0}function VK(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Yc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return v4(o,s.toString())}else if(typeof s!="string")throw Error(Yc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,V4e.test(s))v4(o,s);else throw Error(Yc+s)}if(a.prototype=je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VK,a.config=a.set=W4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function W4e(e){if(!e||typeof e!="object")throw Error(ms+"Object expected");var t,r,n,a=["precision",1,Mh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Rh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Yc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yc+r+": "+n);return this}var oO=VK(U4e);Ta=new oO(1);const Pt=oO;function H4e(e){return Y4e(e)||G4e(e)||K4e(e)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function G4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Y4e(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X4e=function(t){return t},WK={},HK=function(t){return t===WK},x4=function(t){return function r(){return arguments.length===0||arguments.length===1&&HK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Z4e=function e(t,r){return t===1?r:x4(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==WK}).length;return o>=t?r.apply(void 0,a):e(t-o,x4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return HK(f)?c.shift():f});return r.apply(void 0,H4e(d).concat(c))}))})},uj=function(t){return Z4e(t.length,t)},UC=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Q4e=uj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),J4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return X4e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},VC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},qK=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function e5e(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function t5e(e,t,r){for(var n=new Pt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var r5e=uj(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),n5e=uj(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),a5e=uj(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dj={rangeStep:t5e,getDigitCount:e5e,interpolateNumber:r5e,uninterpolateNumber:n5e,uninterpolateTruncation:a5e};function WC(e){return o5e(e)||i5e(e)||KK(e)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function o5e(e){if(Array.isArray(e))return HC(e)}function eg(e,t){return u5e(e)||c5e(e,t)||KK(e,t)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(e,t){if(e){if(typeof e=="string")return HC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HC(e,t)}}function HC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c5e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function u5e(e){if(Array.isArray(e))return e}function GK(e){var t=eg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function YK(e,t,r){if(e.lte(0))return new Pt(0);var n=dj.getDigitCount(e.toNumber()),a=new Pt(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Pt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Pt(Math.ceil(c))}function d5e(e,t,r){var n=1,a=new Pt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Pt(10).pow(dj.getDigitCount(e)-1),a=new Pt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Pt(Math.floor(e)))}else e===0?a=new Pt(Math.floor((t-1)/2)):r||(a=new Pt(Math.floor(e)));var o=Math.floor((t-1)/2),l=J4e(Q4e(function(c){return a.add(new Pt(c-o).mul(n)).toNumber()}),UC);return l(0,t)}function XK(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var s=YK(new Pt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Pt(0):(o=new Pt(e).add(t).div(2),o=o.sub(new Pt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Pt(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?XK(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Pt(l).mul(s)),tickMax:o.add(new Pt(c).mul(s))})}function f5e(e){var t=eg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=GK([r,n]),c=eg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(WC(UC(0,a-1).map(function(){return 1/0}))):[].concat(WC(UC(0,a-1).map(function(){return-1/0})),[d]);return r>n?VC(f):f}if(u===d)return d5e(u,a,s);var h=XK(u,d,o,s),m=h.step,v=h.tickMin,g=h.tickMax,x=dj.rangeStep(v,g.add(new Pt(.1).mul(m)),m);return r>n?VC(x):x}function h5e(e,t){var r=eg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GK([n,a]),l=eg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=YK(new Pt(u).sub(c).div(d-1),s,0),h=[].concat(WC(dj.rangeStep(new Pt(c),new Pt(u).sub(new Pt(.99).mul(f)),f)),[u]);return n>a?VC(h):h}var m5e=qK(f5e),p5e=qK(h5e),g5e="Invariant failed";function vu(e,t){throw new Error(g5e)}var v5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function y5e(e,t){return j5e(e)||w5e(e,t)||b5e(e,t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5e(e,t){if(e){if(typeof e=="string")return b4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(e,t)}}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function j5e(e){if(Array.isArray(e))return e}function _5e(e,t){if(e==null)return{};var r=N5e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JK(n.key),n)}}function k5e(e,t,r){return t&&C5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E5e(e,t,r){return t=D0(t),A5e(e,ZK()?Reflect.construct(t,r||[],D0(e).constructor):t.apply(e,r))}function A5e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5e(e)}function P5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!e})()}function D0(e){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D0(e)}function O5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qC(e,t)}function QK(e,t,r){return t=JK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JK(e){var t=T5e(e,"string");return Af(t)=="symbol"?t:t+""}function T5e(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _v=function(e){function t(){return S5e(this,t),E5e(this,t,arguments)}return O5e(t,e),k5e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=_5e(n,v5e),m=Pe(h,!1);this.props.direction==="x"&&d.type!=="number"&&vu();var v=c.map(function(g){var x=u(g,l),b=x.x,y=x.y,w=x.value,j=x.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var k=y5e(j,2);N=k[0],S=k[1]}else N=S=j;if(s==="vertical"){var C=d.scale,A=y+a,E=A+o,P=A-o,F=C(w-N),I=C(w+S);_.push({x1:I,y1:E,x2:I,y2:P}),_.push({x1:F,y1:A,x2:I,y2:A}),_.push({x1:F,y1:E,x2:F,y2:P})}else if(s==="horizontal"){var z=f.scale,O=b+a,$=O-o,D=O+o,T=z(w-N),U=z(w+S);_.push({x1:$,y1:U,x2:D,y2:U}),_.push({x1:O,y1:T,x2:O,y2:U}),_.push({x1:$,y1:T,x2:D,y2:T})}return L.createElement(lt,R0({className:"recharts-errorBar",key:"bar-".concat(_.map(function(R){return"".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))},m),_.map(function(R){return L.createElement("line",R0({},R,{key:"line-".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))}))});return L.createElement(lt,{className:"recharts-errorBars"},v)}}])}(L.Component);QK(_v,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QK(_v,"displayName","ErrorBar");function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){M5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M5e(e,t,r){return t=R5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5e(e){var t=D5e(e,"string");return tg(t)=="symbol"?t:t+""}function D5e(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=ka(r,qc);if(!o)return null;var l=qc.defaultProps,c=l!==void 0?sc(sc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?sc(sc({},h),f.props):{},v=m.dataKey,g=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||x||"square",color:lO(f),value:g||v,payload:m}}),sc(sc(sc({},c),qc.getWithHeight(o,a)),{},{payload:u,item:o})};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function j4(e){return F5e(e)||L5e(e)||$5e(e)||I5e()}function I5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5e(e,t){if(e){if(typeof e=="string")return KC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(e,t)}}function L5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F5e(e){if(Array.isArray(e))return KC(e)}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){Fd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fd(e,t,r){return t=B5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5e(e){var t=z5e(e,"string");return rg(t)=="symbol"?t:t+""}function z5e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t,r){return qe(e)||qe(t)?r:Yr(t)?$a(e,t,r):$e(t)?t(e):r}function Hm(e,t,r,n){var a=L4e(e,function(l){return Cr(l,t)});if(r==="number"){var s=a.filter(function(l){return ce(l)||parseFloat(l)});return s.length?[cj(s),ml(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!qe(l)}):a;return o.map(function(l){return Yr(l)||l instanceof Date?l:""})}var U5e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(qn(f-d)!==qn(h-f)){var v=[];if(qn(h-f)===qn(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},lO=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},V5e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,x=v.cateAxisId,b=g.filter(function(S){return no(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?yr(yr({},y),b[0].props):b[0].props,j=w.barSize,_=w[x];o[_]||(o[_]=[]);var N=qe(j)?r:j;o[_].push({item:b[0],stackList:b.slice(1),barSize:qe(N)?void 0:Kn(N,n,0)})}}return o},W5e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Kn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(j,_){return j+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var g=(a-v)/2>>0,x={offset:g-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:x.offset+x.size+u,size:h?m:_.barSize}},S=[].concat(j4(j),[N]);return x=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(k){S.push({item:k,position:x})}),S},f)}else{var b=Kn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(j,_,N){var S=[].concat(j4(j),[{item:_.item,position:{offset:b+(y+u)*N+(y-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},H5e=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=eG({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&ce(t[m]))return yr(yr({},t),{},Fd({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&ce(t[v]))return yr(yr({},t),{},Fd({},v,t[v]+(h||0)))}return t},q5e=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tG=function(t,r,n,a,s){var o=r.props.children,l=La(o,_v).filter(function(u){return q5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Cr(d,n);if(qe(f))return u;var h=Array.isArray(f)?[cj(f),ml(f)]:[f,f],m=c.reduce(function(v,g){var x=Cr(d,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},K5e=function(t,r,n,a,s){var o=r.map(function(l){return tG(t,l,n,s,a)}).filter(function(l){return!qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},rG=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&tG(t,c,u,a)||Hm(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},nG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},aG=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},eo=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Eh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},S_=new WeakMap,jy=function(t,r){if(typeof r!="function")return t;S_.has(t)||S_.set(t,new WeakMap);var n=S_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},sG=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:A0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wm(),realScaleType:"point"}:s==="category"?{scale:Gp(),realScaleType:"band"}:{scale:A0(),realScaleType:"linear"};if(fu(a)){var c="scale".concat(Yw(a));return{scale:(g4[c]||Wm)(),realScaleType:g4[c]?c:"point"}}return $e(a)?{scale:a}:{scale:Wm(),realScaleType:"point"}},N4=1e-4,iG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-N4,o=Math.max(a[0],a[1])+N4,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},G5e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Y5e=function(t,r){if(!r||r.length!==2||!ce(r[0])||!ce(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ce(t[0])||t[0]<n)&&(s[0]=n),(!ce(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},X5e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Eh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Z5e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Eh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Q5e={sign:X5e,expand:vke,none:wf,silhouette:yke,wiggle:xke,positive:Z5e},J5e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Q5e[n],o=gke().keys(a).value(function(l,c){return+Cr(l,c,0)}).order(yC).offset(s);return o(t)},e3e=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yr(yr({},h.type.defaultProps),h.props):h.props,g=v.stackId,x=v.hide;if(x)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Yr(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[ku("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yr(yr({},f),{},Fd({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var b=m.stackGroups[x];return yr(yr({},g),{},Fd({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:J5e(t,b.items,s)}))},v)}return yr(yr({},f),{},Fd({},h,m))},d)},oG=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=m5e(u,s,l);return t.domain([cj(d),ml(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=p5e(f,s,l);return{niceTicks:h}}return null};function I0(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(a[t.dataKey])){var l=l0(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Cr(a,qe(o)?t.dataKey:o);return qe(c)?null:t.scale(c)}var S4=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Cr(o,r.dataKey,r.domain[l]);return qe(c)?null:r.scale(c)-s/2+a},t3e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},r3e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Yr(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},n3e=function(t){return t.reduce(function(r,n){return[cj(n.concat([r[0]]).filter(ce)),ml(n.concat([r[1]]).filter(ce))]},[1/0,-1/0])},lG=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=n3e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},C4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GC=function(t,r,n){if($e(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ce(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(C4.test(t[0])){var s=+C4.exec(t[0])[1];a[0]=r[0]-s}else $e(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ce(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(k4.test(t[1])){var o=+k4.exec(t[1])[1];a[1]=r[1]+o}else $e(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},$0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=IP(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},E4=function(t,r,n){return!t||!t.length||pu(t,$a(n,"type.defaultProps.domain"))?r:t},cG=function(t,r){var n=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yr(yr({},Pe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:lO(t),value:Cr(r,a),type:c,payload:r,chartType:u,hide:d})};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=a3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3e(e){var t=s3e(e,"string");return ng(t)=="symbol"?t:t+""}function s3e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3e(e,t){return u3e(e)||c3e(e,t)||l3e(e,t)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(e,t){if(e){if(typeof e=="string")return P4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P4(e,t)}}function P4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function u3e(e){if(Array.isArray(e))return e}var L0=Math.PI/180,d3e=function(t){return t*180/Math.PI},Ht=function(t,r,n,a){return{x:t+Math.cos(-L0*a)*n,y:r+Math.sin(-L0*a)*n}},dG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},f3e=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Kn(t.cx,o,o/2),f=Kn(t.cy,l,l/2),h=dG(o,l,n),m=Kn(t.innerRadius,h,0),v=Kn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(x,b){var y=r[b],w=y.domain,j=y.reversed,_;if(qe(y.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[m,v]),j&&(_=[_[1],_[0]]);else{_=y.range;var N=_,S=i3e(N,2);c=S[0],u=S[1]}var k=sG(y,s),C=k.realScaleType,A=k.scale;A.domain(w).range(_),iG(A);var E=oG(A,Hi(Hi({},y),{},{realScaleType:C})),P=Hi(Hi(Hi({},y),E),{},{range:_,radius:v,realScaleType:C,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Hi(Hi({},x),{},uG({},b,P))},{})},h3e=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},m3e=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=h3e({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:d3e(u),angleInRadian:u}},p3e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},g3e=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},O4=function(t,r){var n=t.x,a=t.y,s=m3e({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=p3e(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Hi(Hi({},r),{},{radius:o,angle:g3e(m,r)}):null},fG=function(t){return!p.isValidElement(t)&&!$e(t)&&typeof t!="boolean"?t.className:""};function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}var v3e=["offset"];function y3e(e){return j3e(e)||w3e(e)||b3e(e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(e,t){if(e){if(typeof e=="string")return YC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YC(e,t)}}function w3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j3e(e){if(Array.isArray(e))return YC(e)}function YC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _3e(e,t){if(e==null)return{};var r=N3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){S3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S3e(e,t,r){return t=C3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3e(e){var t=k3e(e,"string");return ag(t)=="symbol"?t:t+""}function k3e(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}var E3e=function(t){var r=t.value,n=t.formatter,a=qe(t.children)?r:t.children;return $e(n)?n(a):a},A3e=function(t,r){var n=qn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},P3e=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,x=(f+h)/2,b=A3e(m,v),y=b>=0?1:-1,w,j;a==="insideStart"?(w=m+y*o,j=g):a==="insideEnd"?(w=v-y*o,j=!g):a==="end"&&(w=v+y*o,j=g),j=b<=0?j:!j;var _=Ht(u,d,x,w),N=Ht(u,d,x,w+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),k=qe(t.id)?ku("recharts-radial-line-"):t.id;return L.createElement("text",sg({},n,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:k,d:S})),L.createElement("textPath",{xlinkHref:"#".concat(k)},r))},O3e=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Ht(o,l,u+n,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Ht(o,l,x,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},T3e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,x=g*a,b=g>0?"end":"start",y=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Fr(Fr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Fr(Fr({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Fr(Fr({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Fr(Fr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?Fr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?Fr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?Fr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):s==="insideBottom"?Fr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):s==="insideTopLeft"?Fr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},S):s==="insideTopRight"?Fr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:v},S):s==="insideBottomLeft"?Fr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:m},S):s==="insideBottomRight"?Fr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},S):Nh(s)&&(ce(s.x)||kc(s.x))&&(ce(s.y)||kc(s.y))?Fr({x:l+Kn(s.x,u),y:c+Kn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},M3e=function(t){return"cx"in t&&ce(t.cx)};function an(e){var t=e.offset,r=t===void 0?5:t,n=_3e(e,v3e),a=Fr({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||qe(l)&&qe(c)&&!p.isValidElement(u)&&!$e(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var m;if($e(u)){if(m=p.createElement(u,a),p.isValidElement(m))return m}else m=E3e(a);var v=M3e(s),g=Pe(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return P3e(a,m,g);var x=v?O3e(a):T3e(a);return L.createElement(mu,sg({className:Ge("recharts-label",f)},g,x,{breakAll:h}),m)}an.displayName="Label";var hG=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,g=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(ce(g)&&ce(x)){if(ce(f)&&ce(h))return{x:f,y:h,width:g,height:x};if(ce(m)&&ce(v))return{x:m,y:v,width:g,height:x}}return ce(f)&&ce(h)?{x:f,y:h,width:0,height:0}:ce(r)&&ce(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},R3e=function(t,r){return t?t===!0?L.createElement(an,{key:"label-implicit",viewBox:r}):Yr(t)?L.createElement(an,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===an?p.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(an,{key:"label-implicit",content:t,viewBox:r}):$e(t)?L.createElement(an,{key:"label-implicit",content:t,viewBox:r}):Nh(t)?L.createElement(an,sg({viewBox:r},t,{key:"label-implicit"})):null:null},D3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=hG(t),o=La(a,an).map(function(c,u){return p.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=R3e(t.label,r||s);return[l].concat(y3e(o))};an.parseViewBox=hG;an.renderCallByParent=D3e;function I3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $3e=I3e;const L3e=vt($3e);function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}var F3e=["valueAccessor"],B3e=["data","dataKey","clockWise","id","textBreakAll"];function z3e(e){return H3e(e)||W3e(e)||V3e(e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(e,t){if(e){if(typeof e=="string")return XC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XC(e,t)}}function W3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H3e(e){if(Array.isArray(e))return XC(e)}function XC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){q3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3e(e,t,r){return t=K3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3e(e){var t=G3e(e,"string");return ig(t)=="symbol"?t:t+""}function G3e(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4(e,t){if(e==null)return{};var r=Y3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var X3e=function(t){return Array.isArray(t.value)?L3e(t.value):t.value};function ji(e){var t=e.valueAccessor,r=t===void 0?X3e:t,n=D4(e,F3e),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=D4(n,B3e);return!a||!a.length?null:L.createElement(lt,{className:"recharts-label-list"},a.map(function(d,f){var h=qe(s)?r(d,f):Cr(d&&d.payload,s),m=qe(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(an,F0({},Pe(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:an.parseViewBox(qe(o)?d:R4(R4({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ji.displayName="LabelList";function Z3e(e,t){return e?e===!0?L.createElement(ji,{key:"labelList-implicit",data:t}):L.isValidElement(e)||$e(e)?L.createElement(ji,{key:"labelList-implicit",data:t,content:e}):Nh(e)?L.createElement(ji,F0({data:t},e,{key:"labelList-implicit"})):null:null}function Q3e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=La(n,ji).map(function(o,l){return p.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=Z3e(e.label,t);return[s].concat(z3e(a))}ji.renderCallByParent=Q3e;function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){J3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3e(e,t,r){return t=eLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eLe(e){var t=tLe(e,"string");return og(t)=="symbol"?t:t+""}function tLe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rLe=function(t,r){var n=qn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},_y=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/L0,h=u?s:s+o*f,m=Ht(r,n,d,h),v=Ht(r,n,a,h),g=u?s-o*f:s,x=Ht(r,n,d*Math.cos(f*L0),g);return{center:m,circleTangency:v,lineTangency:x,theta:f}},mG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=rLe(o,l),u=o+c,d=Ht(r,n,s,o),f=Ht(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ht(r,n,a,o),v=Ht(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},nLe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qn(d-u),h=_y({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,x=_y({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,w=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):mG({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=_y({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,A=_y({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=A.circleTangency,P=A.lineTangency,F=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-F;if(I<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},aLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pG=function(t){var r=$4($4({},aLe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Ge("recharts-sector",h),v=o-s,g=Kn(l,v,0,!0),x;return g>0&&Math.abs(d-f)<360?x=nLe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=mG({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",ZC({},Pe(r,!0),{className:m,d:x,role:"img"}))};function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC.apply(this,arguments)}function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){sLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sLe(e,t,r){return t=iLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iLe(e){var t=oLe(e,"string");return lg(t)=="symbol"?t:t+""}function oLe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B4={curveBasisClosed:ske,curveBasisOpen:ike,curveBasis:ake,curveBumpX:WCe,curveBumpY:HCe,curveLinearClosed:oke,curveLinear:Zw,curveMonotoneX:lke,curveMonotoneY:cke,curveNatural:uke,curveStep:dke,curveStepAfter:hke,curveStepBefore:fke},Ny=function(t){return t.x===+t.x&&t.y===+t.y},am=function(t){return t.x},sm=function(t){return t.y},lLe=function(t,r){if($e(t))return t;var n="curve".concat(Yw(t));return(n==="curveMonotone"||n==="curveBump")&&r?B4["".concat(n).concat(r==="vertical"?"Y":"X")]:B4[n]||Zw},cLe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=lLe(n,l),f=u?s.filter(function(g){return Ny(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return Ny(g)}):o,v=f.map(function(g,x){return F4(F4({},g),{},{base:m[x]})});return l==="vertical"?h=my().y(sm).x1(am).x0(function(g){return g.base.x}):h=my().x(am).y1(sm).y0(function(g){return g.base.y}),h.defined(Ny).curve(d),h(v)}return l==="vertical"&&ce(o)?h=my().y(sm).x1(am).x0(o):ce(o)?h=my().x(am).y1(sm).y0(o):h=cq().x(am).y(sm),h.defined(Ny).curve(d),h(f)},Xc=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?cLe(t):a;return p.createElement("path",QC({},Pe(t,!1),c0(t),{className:Ge("recharts-curve",r),d:o,ref:s}))},gG={exports:{}},uLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dLe=uLe,fLe=dLe;function vG(){}function yG(){}yG.resetWarningCache=vG;var hLe=function(){function e(n,a,s,o,l,c){if(c!==fLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yG,resetWarningCache:vG};return r.PropTypes=r,r};gG.exports=hLe();var mLe=gG.exports;const jt=vt(mLe);var pLe=Object.getOwnPropertyNames,gLe=Object.getOwnPropertySymbols,vLe=Object.prototype.hasOwnProperty;function z4(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Sy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function U4(e){return pLe(e).concat(gLe(e))}var yLe=Object.hasOwn||function(e,t){return vLe.call(e,t)};function Pu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var xLe="__v",bLe="__o",wLe="_owner",V4=Object.getOwnPropertyDescriptor,W4=Object.keys;function jLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _Le(e,t){return Pu(e.getTime(),t.getTime())}function NLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function SLe(e,t){return e===t}function H4(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var CLe=Pu;function kLe(e,t,r){var n=W4(e),a=n.length;if(W4(t).length!==a)return!1;for(;a-- >0;)if(!xG(e,t,r,n[a]))return!1;return!0}function im(e,t,r){var n=U4(e),a=n.length;if(U4(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!xG(e,t,r,s)||(o=V4(e,s),l=V4(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ELe(e,t){return Pu(e.valueOf(),t.valueOf())}function ALe(e,t){return e.source===t.source&&e.flags===t.flags}function q4(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function PLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function OLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xG(e,t,r,n){return(n===wLe||n===bLe||n===xLe)&&(e.$$typeof||t.$$typeof)?!0:yLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var TLe="[object Arguments]",MLe="[object Boolean]",RLe="[object Date]",DLe="[object Error]",ILe="[object Map]",$Le="[object Number]",LLe="[object Object]",FLe="[object RegExp]",BLe="[object Set]",zLe="[object String]",ULe="[object URL]",VLe=Array.isArray,K4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,G4=Object.assign,WLe=Object.prototype.toString.call.bind(Object.prototype.toString);function HLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,x):b==="function"?a(v,g,x):!1;var y=v.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(v,g,x);if(VLe(v))return t(v,g,x);if(K4!=null&&K4(v))return f(v,g,x);if(y===Date)return r(v,g,x);if(y===RegExp)return u(v,g,x);if(y===Map)return s(v,g,x);if(y===Set)return d(v,g,x);var w=WLe(v);return w===RLe?r(v,g,x):w===FLe?u(v,g,x):w===ILe?s(v,g,x):w===BLe?d(v,g,x):w===LLe?typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,x):w===ULe?h(v,g,x):w===DLe?n(v,g,x):w===TLe?l(v,g,x):w===MLe||w===$Le||w===zLe?c(v,g,x):!1}}function qLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?im:jLe,areDatesEqual:_Le,areErrorsEqual:NLe,areFunctionsEqual:SLe,areMapsEqual:n?z4(H4,im):H4,areNumbersEqual:CLe,areObjectsEqual:n?im:kLe,arePrimitiveWrappersEqual:ELe,areRegExpsEqual:ALe,areSetsEqual:n?z4(q4,im):q4,areTypedArraysEqual:n?im:PLe,areUrlsEqual:OLe};if(r&&(a=G4({},a,r(a))),t){var s=Sy(a.areArraysEqual),o=Sy(a.areMapsEqual),l=Sy(a.areObjectsEqual),c=Sy(a.areSetsEqual);a=G4({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function KLe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function GLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var YLe=Jl();Jl({strict:!0});Jl({circular:!0});Jl({circular:!0,strict:!0});Jl({createInternalComparator:function(){return Pu}});Jl({strict:!0,createInternalComparator:function(){return Pu}});Jl({circular:!0,createInternalComparator:function(){return Pu}});Jl({circular:!0,createInternalComparator:function(){return Pu},strict:!0});function Jl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=qLe(e),c=HLe(l),u=n?n(c):KLe(c);return GLe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function XLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Y4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):XLe(a)};requestAnimationFrame(n)}function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function ZLe(e){return tFe(e)||eFe(e)||JLe(e)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tFe(e){if(Array.isArray(e))return e}function rFe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=ZLe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Y4(a.bind(null,u),c);return}a(c),Y4(a.bind(null,u));return}JC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return t=nFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nFe(e){var t=aFe(e,"string");return cg(t)==="symbol"?t:String(t)}function aFe(e,t){if(cg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sFe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},iFe=function(t){return t},oFe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qm=function(t,r){return Object.keys(r).reduce(function(n,a){return Q4(Q4({},n),{},bG({},a,t(a,r[a])))},{})},J4=function(t,r,n){return t.map(function(a){return"".concat(oFe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lFe(e,t){return dFe(e)||uFe(e,t)||wG(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dFe(e){if(Array.isArray(e))return e}function fFe(e){return pFe(e)||mFe(e)||wG(e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){if(e){if(typeof e=="string")return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}function mFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pFe(e){if(Array.isArray(e))return ek(e)}function ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B0=1e-4,jG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},_G=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},e5=function(t,r){return function(n){var a=jG(t,r);return _G(a,n)}},gFe=function(t,r){return function(n){var a=jG(t,r),s=[].concat(fFe(a.map(function(o,l){return o*l}).slice(1)),[0]);return _G(s,n)}},t5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=lFe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=e5(a,o),h=e5(s,l),m=gFe(a,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,j=0;j<8;++j){var _=f(w)-y,N=m(w);if(Math.abs(_-y)<B0||N<B0)return h(w);w=v(w-_/N)}return h(w)};return g.isStepper=!1,g},vFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,v=h*s,g=h+(m-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<B0&&Math.abs(g)<B0?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},yFe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t5(a);case"spring":return vFe();default:if(a.split("(")[0]==="cubic-bezier")return t5(a)}return typeof a=="function"?a:null};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function r5(e){return wFe(e)||bFe(e)||NG(e)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wFe(e){if(Array.isArray(e))return rk(e)}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){tk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tk(e,t,r){return t=jFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jFe(e){var t=_Fe(e,"string");return ug(t)==="symbol"?t:String(t)}function _Fe(e,t){if(ug(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NFe(e,t){return kFe(e)||CFe(e,t)||NG(e,t)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kFe(e){if(Array.isArray(e))return e}var z0=function(t,r,n){return t+(r-t)*n},nk=function(t){var r=t.from,n=t.to;return r!==n},EFe=function e(t,r,n){var a=qm(function(s,o){if(nk(o)){var l=t(o.from,o.to,o.velocity),c=NFe(l,2),u=c[0],d=c[1];return vn(vn({},o),{},{from:u,velocity:d})}return o},r);return n<1?qm(function(s,o){return nk(o)?vn(vn({},o),{},{velocity:z0(o.velocity,a[s].velocity,n),from:z0(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const AFe=function(e,t,r,n,a){var s=sFe(e,t),o=s.reduce(function(x,b){return vn(vn({},x),{},tk({},b,[e[b],t[b]]))},{}),l=s.reduce(function(x,b){return vn(vn({},x),{},tk({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return qm(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(nk).length},v=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=EFe(r,l,w),a(vn(vn(vn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var y=(b-d)/n,w=qm(function(_,N){return z0.apply(void 0,r5(N).concat([r(y)]))},o);if(a(vn(vn(vn({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var j=qm(function(_,N){return z0.apply(void 0,r5(N).concat([r(1)]))},o);a(vn(vn(vn({},e),t),j))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}var PFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OFe(e,t){if(e==null)return{};var r=TFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function C_(e){return IFe(e)||DFe(e)||RFe(e)||MFe()}function MFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RFe(e,t){if(e){if(typeof e=="string")return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(e,t)}}function DFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IFe(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(n){xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xm(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SG(n.key),n)}}function FFe(e,t,r){return t&&LFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SG(e){var t=BFe(e,"string");return Pf(t)==="symbol"?t:String(t)}function BFe(e,t){if(Pf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function UFe(e){var t=VFe();return function(){var n=U0(e),a;if(t){var s=U0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return ik(this,a)}}function ik(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ok(e)}function ok(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(e)}var Qs=function(e){zFe(r,e);var t=UFe(r);function r(n,a){var s;$Fe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ok(s)),s.changeStyle=s.changeStyle.bind(ok(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),ik(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},ik(s);s.state={style:c?xm({},c,u):u}}else s.state={style:{}};return s}return FFe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?xm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(YLe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&h){var x={style:c?xm({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(js(js({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=AFe(o,l,yFe(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,x,b){if(b===0)return g;var y=x.duration,w=x.easing,j=w===void 0?"ease":w,_=x.style,N=x.properties,S=x.onAnimationEnd,k=b>0?o[b-1]:x,C=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(C_(g),[s.runJSAnimation.bind(s,{from:k.style,to:_,duration:y,easing:j}),y]);var A=J4(C,y,j),E=js(js(js({},k.style),_),{},{transition:A});return[].concat(C_(g),[E,y,S]).filter(iFe)};return this.manager.start([c].concat(C_(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rFe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?xm({},l,c):c,x=J4(Object.keys(g),o,u);v.start([d,s,js(js({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=OFe(a,PFe),u=p.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var v=m.props,g=v.style,x=g===void 0?{}:g,b=v.className,y=p.cloneElement(m,js(js({},c),{},{style:js(js({},x),d),className:b}));return y};return u===1?f(p.Children.only(s)):L.createElement("div",null,p.Children.map(s,function(h){return f(h)}))}}]),r}(p.PureComponent);Qs.displayName="Animate";Qs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qs.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function WFe(e,t){return GFe(e)||KFe(e,t)||qFe(e,t)||HFe()}function HFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qFe(e,t){if(e){if(typeof e=="string")return s5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s5(e,t)}}function s5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GFe(e){if(Array.isArray(e))return e}function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){YFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YFe(e,t,r){return t=XFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XFe(e){var t=ZFe(e,"string");return dg(t)=="symbol"?t:t+""}function ZFe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},QFe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},JFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cO=function(t){var r=o5(o5({},JFe),t),n=p.useRef(),a=p.useState(-1),s=WFe(a,2),o=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ge("recharts-rectangle",m);return y?L.createElement(Qs,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(j){var _=j.width,N=j.height,S=j.x,k=j.y;return L.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:v},L.createElement("path",V0({},Pe(r,!0),{className:w,d:l5(S,k,_,N,h),ref:n})))}):L.createElement("path",V0({},Pe(r,!0),{className:w,d:l5(c,u,d,f,h)}))},eBe=["points","className","baseLinePoints","connectNulls"];function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function tBe(e,t){if(e==null)return{};var r=rBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c5(e){return iBe(e)||sBe(e)||aBe(e)||nBe()}function nBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aBe(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function sBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iBe(e){if(Array.isArray(e))return lk(e)}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u5=function(t){return t&&t.x===+t.x&&t.y===+t.y},oBe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){u5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),u5(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Km=function(t,r){var n=oBe(t);r&&(n=[n.reduce(function(s,o){return[].concat(c5(s),c5(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lBe=function(t,r,n){var a=Km(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Km(r.reverse(),n).slice(1))},cBe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=tBe(t,eBe);if(!r||!r.length)return null;var l=Ge("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=lBe(r,a,s);return L.createElement("g",{className:l},L.createElement("path",vd({},Pe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",vd({},Pe(o,!0),{fill:"none",d:Km(r,s)})):null,c?L.createElement("path",vd({},Pe(o,!0),{fill:"none",d:Km(a,s)})):null)}var d=Km(r,s);return L.createElement("path",vd({},Pe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ck.apply(this,arguments)}var Nv=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Ge("recharts-dot",s);return r===+r&&n===+n&&a===+a?p.createElement("circle",ck({},Pe(t,!1),c0(t),{className:o,cx:r,cy:n,r:a})):null};function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var uBe=["x","y","top","left","width","height","className"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dBe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){fBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fBe(e,t,r){return t=hBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hBe(e){var t=mBe(e,"string");return fg(t)=="symbol"?t:t+""}function mBe(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pBe(e,t){if(e==null)return{};var r=gBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vBe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},yBe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,g=pBe(t,uBe),x=dBe({x:n,y:s,top:l,left:u,width:f,height:m},g);return!ce(n)||!ce(s)||!ce(f)||!ce(m)||!ce(l)||!ce(u)?null:L.createElement("path",uk({},Pe(x,!0),{className:Ge("recharts-cross",v),d:vBe(n,s,f,m,l,u)}))},xBe=lj,bBe=$K,wBe=Ii;function jBe(e,t){return e&&e.length?xBe(e,wBe(t),bBe):void 0}var _Be=jBe;const NBe=vt(_Be);var SBe=lj,CBe=Ii,kBe=LK;function EBe(e,t){return e&&e.length?SBe(e,CBe(t),kBe):void 0}var ABe=EBe;const PBe=vt(ABe);var OBe=["cx","cy","angle","ticks","axisLine"],TBe=["ticks","tick","angle","tickFormatter","stroke"];function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){fj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h5(e,t){if(e==null)return{};var r=MBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kG(n.key),n)}}function DBe(e,t,r){return t&&m5(e.prototype,t),r&&m5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IBe(e,t,r){return t=W0(t),$Be(e,CG()?Reflect.construct(t,r||[],W0(e).constructor):t.apply(e,r))}function $Be(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LBe(e)}function LBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(e)}function FBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(e,t)}function fj(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=BBe(e,"string");return Of(t)=="symbol"?t:t+""}function BBe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hj=function(e){function t(){return RBe(this,t),IBe(this,t,arguments)}return FBe(t,e),DBe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Ht(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=NBe(l,function(d){return d.coordinate||0}),u=PBe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=h5(n,OBe),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Ht(a,s,d[0],o),h=Ht(a,s,d[1],o),m=ic(ic(ic({},Pe(u,!1)),{},{fill:"none"},Pe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Gm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=h5(a,TBe),f=this.getTickTextAnchor(),h=Pe(d,!1),m=Pe(o,!1),v=s.map(function(g,x){var b=n.getTickValueCoord(g),y=ic(ic(ic(ic({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},b),{},{payload:g});return L.createElement(lt,Gm({className:Ge("recharts-polar-radius-axis-tick",fG(o)),key:"tick-".concat(g.coordinate)},hu(n.props,g,x)),t.renderTickItem(o,y,c?c(g.value,x):g.value))});return L.createElement(lt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:L.createElement(lt,{className:Ge("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),an.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):$e(n)?o=n(a):o=L.createElement(mu,Gm({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(p.PureComponent);fj(hj,"displayName","PolarRadiusAxis");fj(hj,"axisType","radiusAxis");fj(hj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){mj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AG(n.key),n)}}function UBe(e,t,r){return t&&g5(e.prototype,t),r&&g5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VBe(e,t,r){return t=H0(t),WBe(e,EG()?Reflect.construct(t,r||[],H0(e).constructor):t.apply(e,r))}function WBe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HBe(e)}function HBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EG=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H0(e)}function qBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(e,t)}function mj(e,t,r){return t=AG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=KBe(e,"string");return Tf(t)=="symbol"?t:t+""}function KBe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GBe=Math.PI/180,v5=1e-5,pj=function(e){function t(){return zBe(this,t),VBe(this,t,arguments)}return qBe(t,e),UBe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ht(s,o,l,n.coordinate),h=Ht(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*GBe),o;return s>v5?o=a==="outer"?"start":"end":s<-v5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=oc(oc({},Pe(this.props,!1)),{},{fill:"none"},Pe(l,!1));if(c==="circle")return L.createElement(Nv,xc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ht(a,s,o,h.coordinate)});return L.createElement(cBe,xc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Pe(this.props,!1),f=Pe(o,!1),h=oc(oc({},d),{},{fill:"none"},Pe(l,!1)),m=s.map(function(v,g){var x=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=oc(oc(oc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:x.x2,y:x.y2});return L.createElement(lt,xc({className:Ge("recharts-polar-angle-axis-tick",fG(o)),key:"tick-".concat(v.coordinate)},hu(n.props,v,g)),l&&L.createElement("line",xc({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(v.value,g):v.value))});return L.createElement(lt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:L.createElement(lt,{className:Ge("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):$e(n)?o=n(a):o=L.createElement(mu,xc({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(p.PureComponent);mj(pj,"displayName","PolarAngleAxis");mj(pj,"axisType","angleAxis");mj(pj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YBe=Mq,XBe=YBe(Object.getPrototypeOf,Object),ZBe=XBe,QBe=Oo,JBe=ZBe,e6e=To,t6e="[object Object]",r6e=Function.prototype,n6e=Object.prototype,PG=r6e.toString,a6e=n6e.hasOwnProperty,s6e=PG.call(Object);function i6e(e){if(!e6e(e)||QBe(e)!=t6e)return!1;var t=JBe(e);if(t===null)return!0;var r=a6e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PG.call(r)==s6e}var o6e=i6e;const l6e=vt(o6e);var c6e=Oo,u6e=To,d6e="[object Boolean]";function f6e(e){return e===!0||e===!1||u6e(e)&&c6e(e)==d6e}var h6e=f6e;const m6e=vt(h6e);function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function p6e(e,t){return x6e(e)||y6e(e,t)||v6e(e,t)||g6e()}function g6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(e,t){if(e){if(typeof e=="string")return y5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y5(e,t)}}function y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function x6e(e){if(Array.isArray(e))return e}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){b6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6e(e,t,r){return t=w6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6e(e){var t=j6e(e,"string");return hg(t)=="symbol"?t:t+""}function j6e(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w5=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},_6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N6e=function(t){var r=b5(b5({},_6e),t),n=p.useRef(),a=p.useState(-1),s=p6e(a,2),o=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ge("recharts-trapezoid",m);return b?L.createElement(Qs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(w){var j=w.upperWidth,_=w.lowerWidth,N=w.height,S=w.x,k=w.y;return L.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},L.createElement("path",q0({},Pe(r,!0),{className:y,d:w5(S,k,j,_,N),ref:n})))}):L.createElement("g",null,L.createElement("path",q0({},Pe(r,!0),{className:y,d:w5(c,u,d,f,h)})))},S6e=["option","shapeType","propTransformer","activeClassName","isActive"];function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function C6e(e,t){if(e==null)return{};var r=k6e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){E6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6e(e,t,r){return t=A6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A6e(e){var t=P6e(e,"string");return mg(t)=="symbol"?t:t+""}function P6e(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6e(e,t){return K0(K0({},t),e)}function T6e(e,t){return e==="symbols"}function _5(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(cO,r);case"trapezoid":return L.createElement(N6e,r);case"sector":return L.createElement(pG,r);case"symbols":if(T6e(t))return L.createElement(EP,r);break;default:return null}}function M6e(e){return p.isValidElement(e)?e.props:e}function OG(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?O6e:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=C6e(e,S6e),u;if(p.isValidElement(t))u=p.cloneElement(t,K0(K0({},c),M6e(t)));else if($e(t))u=t(c);else if(l6e(t)&&!m6e(t)){var d=a(t,c);u=L.createElement(_5,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(_5,{shapeType:r,elementProps:f})}return l?L.createElement(lt,{className:o},u):u}function gj(e,t){return t!=null&&"trapezoids"in e.props}function vj(e,t){return t!=null&&"sectors"in e.props}function pg(e,t){return t!=null&&"points"in e.props}function R6e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function D6e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function I6e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $6e(e,t){var r;return gj(e,t)?r=R6e:vj(e,t)?r=D6e:pg(e,t)&&(r=I6e),r}function L6e(e,t){var r;return gj(e,t)?r="trapezoids":vj(e,t)?r="sectors":pg(e,t)&&(r="points"),r}function F6e(e,t){if(gj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pg(e,t)?t.payload:{}}function B6e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=L6e(r,t),s=F6e(r,t),o=n.filter(function(c,u){var d=pu(s,c),f=r.props[a].filter(function(v){var g=$6e(r,t);return g(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var rx;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function N5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(r),!0).forEach(function(n){ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MG(n.key),n)}}function U6e(e,t,r){return t&&S5(e.prototype,t),r&&S5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V6e(e,t,r){return t=G0(t),W6e(e,TG()?Reflect.construct(t,r||[],G0(e).constructor):t.apply(e,r))}function W6e(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H6e(e)}function H6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(e)}function q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function ts(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=K6e(e,"string");return Mf(t)=="symbol"?t:t+""}function K6e(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $i=function(e){function t(r){var n;return z6e(this,t),n=V6e(this,t,[r]),ts(n,"pieRef",null),ts(n,"sectorRefs",[]),ts(n,"id",ku("recharts-pie-")),ts(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$e(a)&&a()}),ts(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$e(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return q6e(t,e),U6e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Pe(this.props,!1),f=Pe(o,!1),h=Pe(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,y=Ht(g.cx,g.cy,g.outerRadius+m,b),w=zt(zt(zt(zt({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,g.cx)},y),j=zt(zt(zt(zt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[Ht(g.cx,g.cy,g.outerRadius,b),y]}),_=c;return qe(c)&&qe(u)?_="value":qe(c)&&(_=u),L.createElement(lt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,Cr(g,_)))});return L.createElement(lt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=zt(zt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(lt,yd({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},hu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(OG,yd({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(Qs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(w,j){var _=h&&h[j],N=j>0?$a(w,"paddingAngle",0):0;if(_){var S=qr(_.endAngle-_.startAngle,w.endAngle-w.startAngle),k=zt(zt({},w),{},{startAngle:y+N,endAngle:y+S(g)+N});x.push(k),y=k.endAngle}else{var C=w.endAngle,A=w.startAngle,E=qr(0,C-A),P=E(g),F=zt(zt({},w),{},{startAngle:y+N,endAngle:y+P+N});x.push(F),y=F.endAngle}}),L.createElement(lt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!pu(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!ce(u)||!ce(d)||!ce(f)||!ce(h))return null;var g=Ge("recharts-pie",l);return L.createElement(lt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),an.renderCallByParent(this.props,null,!1),(!m||v)&&ji.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);if($e(n))return n(a);var o=Ge("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(Xc,yd({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);var o=s;if($e(n)&&(o=n(a),L.isValidElement(o)))return o;var l=Ge("recharts-pie-label-text",typeof n!="boolean"&&!$e(n)?n.className:"");return L.createElement(mu,yd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(p.PureComponent);rx=$i;ts($i,"displayName","Pie");ts($i,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ts($i,"parseDeltaAngle",function(e,t){var r=qn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ts($i,"getRealPieData",function(e){var t=e.data,r=e.children,n=Pe(e,!1),a=La(r,yv);return t&&t.length?t.map(function(s,o){return zt(zt(zt({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return zt(zt({},n),s.props)}):[]});ts($i,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=dG(a,s),l=n+Kn(e.cx,a,a/2),c=r+Kn(e.cy,s,s/2),u=Kn(e.innerRadius,o,0),d=Kn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ts($i,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?zt(zt({},t.type.defaultProps),t.props):t.props,a=rx.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=rx.parseCoordinateOfPie(n,r),g=rx.parseDeltaAngle(o,l),x=Math.abs(g),b=u;qe(u)&&qe(f)?(Vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):qe(u)&&(Vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(k){return Cr(k,b,0)!==0}).length,w=(x>=360?y:y-1)*c,j=x-y*m-w,_=a.reduce(function(k,C){var A=Cr(C,b,0);return k+(ce(A)?A:0)},0),N;if(_>0){var S;N=a.map(function(k,C){var A=Cr(k,b,0),E=Cr(k,d,C),P=(ce(A)?A:0)/_,F;C?F=S.endAngle+qn(g)*c*(A!==0?1:0):F=o;var I=F+qn(g)*((A!==0?m:0)+P*j),z=(F+I)/2,O=(v.innerRadius+v.outerRadius)/2,$=[{name:E,value:A,payload:k,dataKey:b,type:h}],D=Ht(v.cx,v.cy,O,z);return S=zt(zt(zt({percent:P,cornerRadius:s,name:E,tooltipPayload:$,midAngle:z,middleRadius:O,tooltipPosition:D},k),v),{},{value:Cr(k,b),startAngle:F,endAngle:I,payload:k,paddingAngle:qn(g)*c}),S})}return zt(zt({},v),{},{sectors:N,data:a})});var G6e=Math.ceil,Y6e=Math.max;function X6e(e,t,r,n){for(var a=-1,s=Y6e(G6e((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var Z6e=X6e,Q6e=Qq,C5=1/0,J6e=17976931348623157e292;function e8e(e){if(!e)return e===0?e:0;if(e=Q6e(e),e===C5||e===-C5){var t=e<0?-1:1;return t*J6e}return e===e?e:0}var RG=e8e,t8e=Z6e,r8e=tj,k_=RG;function n8e(e){return function(t,r,n){return n&&typeof n!="number"&&r8e(t,r,n)&&(r=n=void 0),t=k_(t),r===void 0?(r=t,t=0):r=k_(r),n=n===void 0?t<r?1:-1:k_(n),t8e(t,r,n,e)}}var a8e=n8e,s8e=a8e,i8e=s8e(),o8e=i8e;const Y0=vt(o8e);function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return t=l8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8e(e){var t=c8e(e,"string");return gg(t)=="symbol"?t:t+""}function c8e(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u8e=["Webkit","Moz","O","ms"],d8e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=u8e.reduce(function(s,o){return E5(E5({},s),{},DG({},o+n,r))},{});return a[t]=r,a};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$G(n.key),n)}}function h8e(e,t,r){return t&&P5(e.prototype,t),r&&P5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m8e(e,t,r){return t=Z0(t),p8e(e,IG()?Reflect.construct(t,r||[],Z0(e).constructor):t.apply(e,r))}function p8e(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g8e(e)}function g8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z0(e)}function v8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mk(e,t)}function Sa(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=y8e(e,"string");return Rf(t)=="symbol"?t:t+""}function y8e(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x8e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Wm().domain(Y0(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},O5=function(t){return t.changedTouches&&!!t.changedTouches.length},Df=function(e){function t(r){var n;return f8e(this,t),n=m8e(this,t,[r]),Sa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Sa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Sa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Sa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sa(n,"handleSlideDragStart",function(a){var s=O5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v8e(t,e),h8e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Cr(s[n],l,n);return $e(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var x=this.getIndex({startX:o+g,endX:l+g});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=O5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var w=this.getIndex(b),j=w.startIndex,_=w.endIndex,N=function(){var k=x.length-1;return o==="startX"&&(l>c?j%g===0:_%g===0)||l<c&&_===k||o==="endX"&&(l>c?_%g===0:j%g===0)||l>c&&_===k};this.setState(Sa(Sa({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Sa({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?L.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=E_(E_({},Pe(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=v[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return L.createElement(lt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return L.createElement(lt,{className:"recharts-brush-texts"},L.createElement(mu,X0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),L.createElement(mu,X0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!ce(l)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var w=Ge("recharts-brush",s),j=L.Children.count(o)===1,_=d8e("userSelect","none");return L.createElement(lt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return L.isValidElement(n)?s=L.cloneElement(n,a):$e(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return E_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?x8e({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(p.PureComponent);Sa(Df,"displayName","Brush");Sa(Df,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var b8e=DP;function w8e(e,t){var r;return b8e(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var j8e=w8e,_8e=Sq,N8e=Ii,S8e=j8e,C8e=wa,k8e=tj;function E8e(e,t,r){var n=C8e(e)?_8e:S8e;return r&&k8e(e,t,r)&&(t=void 0),n(e,N8e(t))}var A8e=E8e;const P8e=vt(A8e);var _i=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},T5=Kq;function O8e(e,t,r){t=="__proto__"&&T5?T5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var T8e=O8e,M8e=T8e,R8e=Hq,D8e=Ii;function I8e(e,t){var r={};return t=D8e(t),R8e(e,function(n,a,s){M8e(r,a,t(n,a,s))}),r}var $8e=I8e;const L8e=vt($8e);function F8e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var B8e=F8e,z8e=DP;function U8e(e,t){var r=!0;return z8e(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var V8e=U8e,W8e=B8e,H8e=V8e,q8e=Ii,K8e=wa,G8e=tj;function Y8e(e,t,r){var n=K8e(e)?W8e:H8e;return r&&G8e(e,t,r)&&(t=void 0),n(e,q8e(t))}var X8e=Y8e;const LG=vt(X8e);var Z8e=["x","y"];function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){Q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8e(e,t,r){return t=J8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8e(e){var t=eze(e,"string");return vg(t)=="symbol"?t:t+""}function eze(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tze(e,t){if(e==null)return{};var r=rze(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nze(e,t){var r=e.x,n=e.y,a=tze(e,Z8e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return om(om(om(om(om({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function R5(e){return L.createElement(OG,pk({shapeType:"rectangle",propTransformer:nze,activeClassName:"recharts-active-bar"},e))}var aze=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=ce(n)||PSe(n);return s?t(n,a):(s||vu(),r)}},sze=["value","background"],FG;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function ize(e,t){if(e==null)return{};var r=oze(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function cze(e,t,r){return t&&I5(e.prototype,t),r&&I5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uze(e,t,r){return t=J0(t),dze(e,BG()?Reflect.construct(t,r||[],J0(e).constructor):t.apply(e,r))}function dze(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fze(e)}function fze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(e)}function hze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(e,t)}function pl(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=mze(e,"string");return If(t)=="symbol"?t:t+""}function mze(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ro=function(e){function t(){var r;lze(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=uze(this,t,[].concat(a)),pl(r,"state",{isAnimationFinished:!1}),pl(r,"id",ku("recharts-bar-")),pl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),pl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return hze(t,e),cze(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Pe(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:o,g=Er(Er(Er({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(lt,Q0({className:"recharts-bar-rectangle"},hu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(R5,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return L.createElement(Qs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=s.map(function(x,b){var y=h&&h[b];if(y){var w=qr(y.x,x.x),j=qr(y.y,x.y),_=qr(y.width,x.width),N=qr(y.height,x.height);return Er(Er({},x),{},{x:w(v),y:j(v),width:_(v),height:N(v)})}if(o==="horizontal"){var S=qr(0,x.height),k=S(v);return Er(Er({},x),{},{y:x.y+x.height-k,height:k})}var C=qr(0,x.width),A=C(v);return Er(Er({},x),{},{width:A})});return L.createElement(lt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!pu(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Pe(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=ize(u,sze);if(!f)return null;var m=Er(Er(Er(Er(Er({},h),{},{fill:"#eee"},f),c),hu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(R5,Q0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=La(d,_v);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Cr(x,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return L.createElement(lt,v,f.map(function(g){return L.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,g=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=Ge("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=y||w,_=qe(g)?this.id:g;return L.createElement(lt,{className:b},y||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,L.createElement(lt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||x)&&ji.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(p.PureComponent);FG=Ro;pl(Ro,"displayName","Bar");pl(Ro,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pl(Ro,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=G5e(n,r);if(!m)return null;var v=t.layout,g=r.type.defaultProps,x=g!==void 0?Er(Er({},g),r.props):r.props,b=x.dataKey,y=x.children,w=x.minPointSize,j=v==="horizontal"?o:s,_=u?j.scale.domain():null,N=t3e({numericAxis:j}),S=La(y,yv),k=f.map(function(C,A){var E,P,F,I,z,O;u?E=Y5e(u[d+A],_):(E=Cr(C,b),Array.isArray(E)||(E=[N,E]));var $=aze(w,FG.defaultProps.minPointSize)(E[1],A);if(v==="horizontal"){var D,T=[o.scale(E[0]),o.scale(E[1])],U=T[0],R=T[1];P=S4({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:A}),F=(D=R??U)!==null&&D!==void 0?D:void 0,I=m.size;var M=U-R;if(z=Number.isNaN(M)?0:M,O={x:P,y:o.y,width:I,height:o.height},Math.abs($)>0&&Math.abs(z)<Math.abs($)){var B=qn(z||$)*(Math.abs($)-Math.abs(z));F-=B,z+=B}}else{var V=[s.scale(E[0]),s.scale(E[1])],q=V[0],J=V[1];if(P=q,F=S4({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:A}),I=J-q,z=m.size,O={x:s.x,y:F,width:s.width,height:z},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var Y=qn(I||$)*(Math.abs($)-Math.abs(I));I+=Y}}return Er(Er(Er({},C),{},{x:P,y:F,width:I,height:z,value:u?E:E[1],payload:C,background:O},S&&S[A]&&S[A].props),{},{tooltipPayload:[cG(r,C)],tooltipPosition:{x:P+I/2,y:F+z/2}})});return Er({data:k,layout:v},h)});function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function pze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function gze(e,t,r){return t&&$5(e.prototype,t),r&&$5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){yj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yj(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=vze(e,"string");return yg(t)=="symbol"?t:t+""}function vze(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uO=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ka(u,Ro);return d.reduce(function(m,v){var g=r[v],x=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,j=g.mirror,_=g.reversed,N="".concat(x).concat(j?"Mirror":""),S,k,C,A,E;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=b[1]-b[0],F=1/0,I=g.categoricalDomain.sort(MSe);if(I.forEach(function(V,q){q>0&&(F=Math.min((V||0)-(I[q-1]||0),F))}),Number.isFinite(F)){var z=F/P,O=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=z*O/2),g.padding==="no-gap"){var $=Kn(t.barCategoryGap,z*O),D=z*O/2;S=D-$-(D-$)/O*$}}}a==="xAxis"?k=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:k=g.range,_&&(k=[k[1],k[0]]);var T=sG(g,s,h),U=T.scale,R=T.realScaleType;U.domain(b).range(k),iG(U);var M=oG(U,Ts(Ts({},g),{},{realScaleType:R}));a==="xAxis"?(E=x==="top"&&!j||x==="bottom"&&j,C=n.left,A=f[N]-E*g.height):a==="yAxis"&&(E=x==="left"&&!j||x==="right"&&j,C=f[N]-E*g.width,A=n.top);var B=Ts(Ts(Ts({},g),M),{},{realScaleType:R,x:C,y:A,scale:U,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return B.bandSize=$0(B,M),!g.hide&&a==="xAxis"?f[N]+=(E?-1:1)*B.height:g.hide||(f[N]+=(E?-1:1)*B.width),Ts(Ts({},m),{},yj({},v,B))},{})},VG=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},yze=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return VG({x:r,y:n},{x:a,y:s})},WG=function(){function e(t){pze(this,e),this.scale=t}return gze(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();yj(WG,"EPS",1e-4);var dO=function(t){var r=Object.keys(t).reduce(function(n,a){return Ts(Ts({},n),{},yj({},a,WG.create(t[a])))},{});return Ts(Ts({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return L8e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return LG(a,function(s,o){return r[o].isInRange(s)})}})};function xze(e){return(e%180+180)%180}var bze=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xze(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},wze=Ii,jze=vv,_ze=Jw;function Nze(e){return function(t,r,n){var a=Object(t);if(!jze(t)){var s=wze(r);t=_ze(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var Sze=Nze,Cze=RG;function kze(e){var t=Cze(e),r=t%1;return t===t?r?t-r:t:0}var Eze=kze,Aze=Fq,Pze=Ii,Oze=Eze,Tze=Math.max;function Mze(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Oze(r);return a<0&&(a=Tze(n+a,0)),Aze(e,Pze(t),a)}var Rze=Mze,Dze=Sze,Ize=Rze,$ze=Dze(Ize),Lze=$ze;const Fze=vt(Lze);var Bze=INe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fO=p.createContext(void 0),hO=p.createContext(void 0),HG=p.createContext(void 0),qG=p.createContext({}),KG=p.createContext(void 0),GG=p.createContext(0),YG=p.createContext(0),F5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Bze(s);return L.createElement(fO.Provider,{value:n},L.createElement(hO.Provider,{value:a},L.createElement(qG.Provider,{value:s},L.createElement(HG.Provider,{value:d},L.createElement(KG.Provider,{value:o},L.createElement(GG.Provider,{value:u},L.createElement(YG.Provider,{value:c},l)))))))},zze=function(){return p.useContext(KG)},XG=function(t){var r=p.useContext(fO);r==null&&vu();var n=r[t];return n==null&&vu(),n},Uze=function(){var t=p.useContext(fO);return Jo(t)},Vze=function(){var t=p.useContext(hO),r=Fze(t,function(n){return LG(n.domain,Number.isFinite)});return r||Jo(t)},ZG=function(t){var r=p.useContext(hO);r==null&&vu();var n=r[t];return n==null&&vu(),n},Wze=function(){var t=p.useContext(HG);return t},Hze=function(){return p.useContext(qG)},mO=function(){return p.useContext(YG)},pO=function(){return p.useContext(GG)};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function qze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function Gze(e,t,r){return t&&Kze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yze(e,t,r){return t=eb(t),Xze(e,QG()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function Xze(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zze(e)}function Zze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function Qze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vk(e,t)}function vk(e,t){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(e,t)}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){gO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gO(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=Jze(e,"string");return $f(t)=="symbol"?t:t+""}function Jze(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eUe(e,t){return aUe(e)||nUe(e,t)||rUe(e,t)||tUe()}function tUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(e,t){if(e){if(typeof e=="string")return U5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(e,t)}}function U5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aUe(e){if(Array.isArray(e))return e}function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}var sUe=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):$e(t)?n=t(r):n=L.createElement("line",yk({},r,{className:"recharts-reference-line-line"})),n},iUe=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(_i(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(_i(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return _i(u,"discard")&&P8e(_,function(N){return!t.isInRange(N)})?null:_}return null};function oUe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=zze(),d=XG(a),f=ZG(s),h=Wze();if(!u||!h)return null;Vs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=dO({x:d.scale,y:f.scale}),v=Yr(t),g=Yr(r),x=n&&n.length===2,b=iUe(m,v,g,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=eUe(b,2),w=y[0],j=w.x,_=w.y,N=y[1],S=N.x,k=N.y,C=_i(e,"hidden")?"url(#".concat(u,")"):void 0,A=z5(z5({clipPath:C},Pe(e,!0)),{},{x1:j,y1:_,x2:S,y2:k});return L.createElement(lt,{className:Ge("recharts-reference-line",l)},sUe(o,A),an.renderCallByParent(e,yze({x1:j,y1:_,x2:S,y2:k})))}var vO=function(e){function t(){return qze(this,t),Yze(this,t,arguments)}return Qze(t,e),Gze(t,[{key:"render",value:function(){return L.createElement(oUe,this.props)}}])}(L.Component);gO(vO,"displayName","ReferenceLine");gO(vO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xk.apply(this,arguments)}function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function V5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(r),!0).forEach(function(n){xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tY(n.key),n)}}function uUe(e,t,r){return t&&cUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dUe(e,t,r){return t=tb(t),fUe(e,eY()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function fUe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hUe(e)}function hUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eY=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function mUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function xj(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=pUe(e,"string");return Lf(t)=="symbol"?t:t+""}function pUe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gUe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=dO({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _i(t,"discard")&&!o.isInRange(l)?null:l},bj=function(e){function t(){return lUe(this,t),dUe(this,t,arguments)}return mUe(t,e),uUe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Yr(a),d=Yr(s);if(Vs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gUe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,x=v.className,b=_i(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=W5(W5({clipPath:b},Pe(this.props,!0)),{},{cx:h,cy:m});return L.createElement(lt,{className:Ge("recharts-reference-dot",x)},t.renderDot(g,y),an.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);xj(bj,"displayName","ReferenceDot");xj(bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xj(bj,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):$e(e)?r=e(t):r=L.createElement(Nv,xk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function H5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(r),!0).forEach(function(n){wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nY(n.key),n)}}function xUe(e,t,r){return t&&yUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bUe(e,t,r){return t=rb(t),wUe(e,rY()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function wUe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(e)}function jUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function _Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jk(e,t)}function wj(e,t,r){return t=nY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=NUe(e,"string");return Ff(t)=="symbol"?t:t+""}function NUe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SUe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=dO({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return _i(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:VG(m,v)},jj=function(e){function t(){return vUe(this,t),bUe(this,t,arguments)}return _Ue(t,e),xUe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Vs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yr(a),h=Yr(s),m=Yr(o),v=Yr(l),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var x=SUe(f,h,m,v,this.props);if(!x&&!g)return null;var b=_i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(lt,{className:Ge("recharts-reference-area",c)},t.renderRect(g,q5(q5({clipPath:b},Pe(this.props,!0)),x)),an.renderCallByParent(this.props,x))}}])}(L.Component);wj(jj,"displayName","ReferenceArea");wj(jj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wj(jj,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):$e(e)?r=e(t):r=L.createElement(cO,wk({},t,{className:"recharts-reference-area-rect"})),r});function aY(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function CUe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bze(n,r)}function kUe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function nb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function EUe(e,t){return aY(e,t+1)}function AUe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:aY(n,u)};var g=c,x,b=function(){return x===void 0&&(x=r(v,g)),x},y=v.coordinate,w=c===0||nb(e,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){PUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PUe(e,t,r){return t=OUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OUe(e){var t=TUe(e,"string");return xg(t)=="symbol"?t:t+""}function TUe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MUe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],v,g=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var x=e*(m.coordinate+e*g()/2-c);s[h]=m=Pn(Pn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else s[h]=m=Pn(Pn({},m),{},{tickCoord:m.coordinate});var b=nb(e,m.tickCoord,g,l,c);b&&(c=m.tickCoord-e*(g()/2+a),s[h]=Pn(Pn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function RUe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Pn(Pn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=nb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Pn(Pn({},d),{},{isShow:!0}))}for(var v=s?l-1:l,g=function(y){var w=o[y],j,_=function(){return j===void 0&&(j=r(w,y)),j};if(y===0){var N=e*(w.coordinate-e*_()/2-c);o[y]=w=Pn(Pn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[y]=w=Pn(Pn({},w),{},{tickCoord:w.coordinate});var S=nb(e,w.tickCoord,_,c,u);S&&(c=w.tickCoord+e*(_()/2+a),o[y]=Pn(Pn({},w),{},{isShow:!0}))},x=0;x<v;x++)g(x);return o}function yO(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ce(c)||Xl.isSsr)return EUe(a,typeof c=="number"&&ce(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Vm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,j){var _=$e(u)?u(w.value,j):w.value;return m==="width"?CUe(Vm(_,{fontSize:t,letterSpacing:r}),v,f):Vm(_,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?qn(a[1].coordinate-a[0].coordinate):1,b=kUe(s,x,m);return c==="equidistantPreserveStart"?AUe(x,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=RUe(x,b,g,a,o,c==="preserveStartEnd"):h=MUe(x,b,g,a,o),h.filter(function(y){return y.isShow}))}var DUe=["viewBox"],IUe=["viewBox"],$Ue=["ticks"];function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function G5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(r),!0).forEach(function(n){xO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A_(e,t){if(e==null)return{};var r=LUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iY(n.key),n)}}function BUe(e,t,r){return t&&Y5(e.prototype,t),r&&Y5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zUe(e,t,r){return t=ab(t),UUe(e,sY()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function UUe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(e)}function VUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sY=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function WUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function xO(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=HUe(e,"string");return Bf(t)=="symbol"?t:t+""}function HUe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dh=function(e){function t(r){var n;return FUe(this,t),n=zUe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return WUe(t,e),BUe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=A_(n,DUe),l=this.props,c=l.viewBox,u=A_(l,IUe);return!$d(s,c)||!$d(o,u)||!$d(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,g,x,b,y,w=f?-1:1,j=n.tickSize||d,_=ce(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,x=o+ +!f*c,g=x-w*j,y=g-w*h,b=_;break;case"left":g=x=n.coordinate,v=s+ +!f*l,m=v-w*j,b=m-w*h,y=_;break;case"right":g=x=n.coordinate,v=s+ +f*l,m=v+w*j,b=m+w*h,y=_;break;default:m=v=n.coordinate,x=o+ +f*c,g=x+w*j,y=g+w*h,b=_;break}return{line:{x1:m,y1:g,x2:v,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Lr(Lr(Lr({},Pe(this.props,!1)),Pe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Lr(Lr({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Lr(Lr({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return L.createElement("line",xd({},f,{className:Ge("recharts-cartesian-axis-line",$a(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=yO(Lr(Lr({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Pe(this.props,!1),b=Pe(d,!1),y=Lr(Lr({},x),{},{fill:"none"},Pe(c,!1)),w=m.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,k=N.tick,C=Lr(Lr(Lr(Lr({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:u},b),k),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(lt,xd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},hu(o.props,j,_)),c&&L.createElement("line",xd({},y,S,{className:Ge("recharts-cartesian-axis-tick-line",$a(c,"className"))})),d&&t.renderTickItem(d,C,"".concat($e(f)?f(j.value,_):j.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=A_(f,$Ue),v=h;return $e(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:L.createElement(lt,{className:Ge("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),an.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Ge(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Lr(Lr({},a),{},{className:l})):$e(n)?o=n(Lr(Lr({},a),{},{className:l})):o=L.createElement(mu,xd({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(p.Component);xO(Dh,"displayName","CartesianAxis");xO(Dh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qUe=["x1","y1","x2","y2","key"],KUe=["offset"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function X5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(r),!0).forEach(function(n){GUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GUe(e,t,r){return t=YUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YUe(e){var t=XUe(e,"string");return yu(t)=="symbol"?t:t+""}function XUe(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function Z5(e,t){if(e==null)return{};var r=ZUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QUe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oY(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if($e(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=Z5(t,qUe),u=Pe(c,!1);u.offset;var d=Z5(u,KUe);r=L.createElement("line",Pc({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function JUe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return oY(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eVe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return oY(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tVe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?a+o-h:d[m+1]-h;if(g<=0)return null;var x=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rVe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?s+l-h:d[m+1]-h;if(g<=0)return null;var x=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nVe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return aG(yO(Mn(Mn(Mn({},Dh.defaultProps),n),{},{ticks:eo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},aVe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return aG(yO(Mn(Mn(Mn({},Dh.defaultProps),n),{},{ticks:eo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},qu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bg(e){var t,r,n,a,s,o,l=mO(),c=pO(),u=Hze(),d=Mn(Mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:qu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:qu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:qu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:qu.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:qu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:qu.verticalFill,x:ce(e.x)?e.x:u.left,y:ce(e.y)?e.y:u.top,width:ce(e.width)?e.width:u.width,height:ce(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=Uze(),w=Vze();if(!ce(m)||m<=0||!ce(v)||v<=0||!ce(f)||f!==+f||!ce(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||nVe,_=d.horizontalCoordinatesGenerator||aVe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&$e(_)){var k=x&&x.length,C=_({yAxis:w?Mn(Mn({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);Vs(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yu(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&$e(j)){var A=b&&b.length,E=j({xAxis:y?Mn(Mn({},y),{},{ticks:A?b:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);Vs(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yu(E),"]")),Array.isArray(E)&&(S=E)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(QUe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(JUe,Pc({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:w})),L.createElement(eVe,Pc({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),L.createElement(tVe,Pc({},d,{horizontalPoints:N})),L.createElement(rVe,Pc({},d,{verticalPoints:S})))}bg.displayName="CartesianGrid";var sVe=["type","layout","connectNulls","ref"],iVe=["key"];function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function Q5(e,t){if(e==null)return{};var r=oVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function J5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(r),!0).forEach(function(n){Ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ku(e){return dVe(e)||uVe(e)||cVe(e)||lVe()}function lVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cVe(e,t){if(e){if(typeof e=="string")return Nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nk(e,t)}}function uVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dVe(e){if(Array.isArray(e))return Nk(e)}function Nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cY(n.key),n)}}function hVe(e,t,r){return t&&e3(e.prototype,t),r&&e3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mVe(e,t,r){return t=sb(t),pVe(e,lY()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function pVe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gVe(e)}function gVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function vVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function Ms(e,t,r){return t=cY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=yVe(e,"string");return zf(t)=="symbol"?t:t+""}function yVe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uf=function(e){function t(){var r;fVe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mVe(this,t,[].concat(a)),Ms(r,"state",{isAnimationFinished:!0,totalLength:0}),Ms(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ms(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>f){m=[].concat(Ku(c.slice(0,v)),[f-g]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Ku(t.repeat(c,d)),Ku(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),Ms(r,"id",ku("recharts-line-")),Ms(r,"pathRef",function(o){r.mainCurve=o}),Ms(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ms(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vVe(t,e),hVe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=La(d,_v);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Cr(g.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return L.createElement(lt,m,f.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Pe(this.props,!1),h=Pe(c,!0),m=u.map(function(g,x){var b=Na(Na(Na({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,b)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return L.createElement(lt,Ym({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Q5(l,sVe),h=Na(Na(Na({},Pe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(Xc,Ym({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,g=o.width,x=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return L.createElement(Qs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(y){var N=y.length/l.length,S=l.map(function(P,F){var I=Math.floor(F*N);if(y[I]){var z=y[I],O=qr(z.x,P.x),$=qr(z.y,P.y);return Na(Na({},P),{},{x:O(_),y:$(_)})}if(v){var D=qr(g*2,P.x),T=qr(x/2,P.y);return Na(Na({},P),{},{x:D(_),y:T(_)})}return Na(Na({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(S,n,a)}var k=qr(0,w),C=k(_),A;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});A=s.getStrokeDasharray(C,w,E)}else A=s.generateSimpleStrokeDasharray(w,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!pu(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,v=a.height,g=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Ge("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,N=j||_,S=qe(x)?this.id:x,k=(n=Pe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,E=k.strokeWidth,P=E===void 0?2:E,F=X7(o)?o:{},I=F.clipDot,z=I===void 0?!0:I,O=A*2+P;return L.createElement(lt,{className:w},j||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:j?h:h-m/2,y:_?f:f-v/2,width:j?m:m*2,height:_?v:v*2})),!z&&L.createElement("clipPath",{id:"clipPath-dots-".concat(S)},L.createElement("rect",{x:h-O/2,y:f-O/2,width:m+O,height:v+O}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||o)&&this.renderDots(N,z,S),(!g||b)&&ji.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Ku(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Ku(o),Ku(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(L.isValidElement(n))s=L.cloneElement(n,a);else if($e(n))s=n(a);else{var o=a.key,l=Q5(a,iVe),c=Ge("recharts-line-dot",typeof n!="boolean"?n.className:"");s=L.createElement(Nv,Ym({key:o},l,{className:c}))}return s}}])}(p.PureComponent);Ms(Uf,"displayName","Line");Ms(Uf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ms(Uf,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var v=Cr(h,o);return d==="horizontal"?{x:I0({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:qe(v)?null:n.scale(v),value:v,payload:h}:{x:qe(v)?null:r.scale(v),y:I0({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:v,payload:h}});return Na({points:f,layout:d},u)});var xVe=["layout","type","stroke","connectNulls","isRange","ref"],bVe=["key"],uY;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function dY(e,t){if(e==null)return{};var r=wVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hY(n.key),n)}}function _Ve(e,t,r){return t&&r3(e.prototype,t),r&&r3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NVe(e,t,r){return t=ib(t),SVe(e,fY()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function SVe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CVe(e)}function CVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fY=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function kVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function pi(e,t,r){return t=hY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=EVe(e,"string");return Vf(t)=="symbol"?t:t+""}function EVe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ec=function(e){function t(){var r;jVe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=NVe(this,t,[].concat(a)),pi(r,"state",{isAnimationFinished:!0}),pi(r,"id",ku("recharts-area-")),pi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),$e(o)&&o()}),pi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),$e(o)&&o()}),r}return kVe(t,e),_Ve(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Pe(this.props,!1),m=Pe(u,!0),v=d.map(function(x,b){var y=Vo(Vo(Vo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return L.createElement(lt,Oc({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ml(o.map(function(h){return h.y||0}));return ce(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ml(s.map(function(h){return h.y||0})),f)),ce(f)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ml(o.map(function(h){return h.x||0}));return ce(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ml(s.map(function(h){return h.x||0})),f)),ce(f)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=dY(l,xVe);return L.createElement(lt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},L.createElement(Xc,Oc({},Pe(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(Xc,Oc({},Pe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&L.createElement(Xc,Oc({},Pe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,g=v.prevPoints,x=v.prevBaseLine;return L.createElement(Qs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(g){var w=g.length/l.length,j=l.map(function(k,C){var A=Math.floor(C*w);if(g[A]){var E=g[A],P=qr(E.x,k.x),F=qr(E.y,k.y);return Vo(Vo({},k),{},{x:P(y),y:F(y)})}return k}),_;if(ce(c)&&typeof c=="number"){var N=qr(x,c);_=N(y)}else if(qe(c)||Eh(c)){var S=qr(x,0);_=S(y)}else _=c.map(function(k,C){var A=Math.floor(C*w);if(x[A]){var E=x[A],P=qr(E.x,k.x),F=qr(E.y,k.y);return Vo(Vo({},k),{},{x:P(y),y:F(y)})}return k});return s.renderAreaStatically(j,_,n,a)}return L.createElement(lt,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(y))),L.createElement(lt,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!pu(d,o)||!pu(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,v=a.height,g=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Ge("recharts-area",c),j=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,N=j||_,S=qe(x)?this.id:x,k=(n=Pe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,E=k.strokeWidth,P=E===void 0?2:E,F=X7(o)?o:{},I=F.clipDot,z=I===void 0?!0:I,O=A*2+P;return L.createElement(lt,{className:w},j||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:j?d:d-m/2,y:_?u:u-v/2,width:j?m:m*2,height:_?v:v*2})),!z&&L.createElement("clipPath",{id:"clipPath-dots-".concat(S)},L.createElement("rect",{x:d-O/2,y:u-O/2,width:m+O,height:v+O}))):null,y?null:this.renderArea(N,S),(o||y)&&this.renderDots(N,z,S),(!g||b)&&ji.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(p.PureComponent);uY=ec;pi(ec,"displayName","Area");pi(ec,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});pi(ec,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(ce(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});pi(ec,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,g=uY.getBaseValue(t,r,n,a),x=m==="horizontal",b=!1,y=f.map(function(j,_){var N;v?N=u[d+_]:(N=Cr(j,c),Array.isArray(N)?b=!0:N=[g,N]);var S=N[1]==null||v&&Cr(j,c)==null;return x?{x:I0({axis:n,ticks:s,bandSize:l,entry:j,index:_}),y:S?null:a.scale(N[1]),value:N,payload:j}:{x:S?null:n.scale(N[1]),y:I0({axis:a,ticks:o,bandSize:l,entry:j,index:_}),value:N,payload:j}}),w;return v||b?w=y.map(function(j){var _=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:_!=null&&j.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:j.y}}):w=x?a.scale(g):n.scale(g),Vo({points:y,baseLine:w,layout:m,isRange:b},h)});pi(ec,"renderDotItem",function(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if($e(e))r=e(t);else{var n=Ge("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=dY(t,bVe);r=L.createElement(Nv,Oc({},s,{key:a,className:n}))}return r});function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function AVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gY(n.key),n)}}function OVe(e,t,r){return t&&PVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TVe(e,t,r){return t=ob(t),MVe(e,mY()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function MVe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RVe(e)}function RVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mY=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function DVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function pY(e,t,r){return t=gY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=IVe(e,"string");return Wf(t)=="symbol"?t:t+""}function IVe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function $Ve(e){var t=e.xAxisId,r=mO(),n=pO(),a=XG(t);return a==null?null:p.createElement(Dh,Ek({},a,{className:Ge("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return eo(o,!0)}}))}var Pi=function(e){function t(){return AVe(this,t),TVe(this,t,arguments)}return DVe(t,e),OVe(t,[{key:"render",value:function(){return p.createElement($Ve,this.props)}}])}(p.Component);pY(Pi,"displayName","XAxis");pY(Pi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function LVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xY(n.key),n)}}function BVe(e,t,r){return t&&FVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zVe(e,t,r){return t=lb(t),UVe(e,vY()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function UVe(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VVe(e)}function VVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function WVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(e,t)}function yY(e,t,r){return t=xY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=HVe(e,"string");return Hf(t)=="symbol"?t:t+""}function HVe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}var qVe=function(t){var r=t.yAxisId,n=mO(),a=pO(),s=ZG(r);return s==null?null:p.createElement(Dh,Pk({},s,{className:Ge("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return eo(l,!0)}}))},Oi=function(e){function t(){return LVe(this,t),zVe(this,t,arguments)}return WVe(t,e),BVe(t,[{key:"render",value:function(){return p.createElement(qVe,this.props)}}])}(p.Component);yY(Oi,"displayName","YAxis");yY(Oi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function n3(e){return XVe(e)||YVe(e)||GVe(e)||KVe()}function KVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GVe(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function YVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XVe(e){if(Array.isArray(e))return Ok(e)}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tk=function(t,r,n,a,s){var o=La(t,vO),l=La(t,bj),c=[].concat(n3(o),n3(l)),u=La(t,jj),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===n&&_i(x.props,"extendDomain")&&ce(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===n&&_i(x.props,"extendDomain")&&ce(x.props[m])&&ce(x.props[v])){var b=x.props[m],y=x.props[v];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,x){return ce(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},bY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var j=x.length,_;for(w=0;w<j;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(b-1);_<b;_++)y[_-1]=arguments[_];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(bY);var ZVe=bY.exports;const QVe=vt(ZVe);var P_=new QVe,O_="recharts.syncMouseEvents";function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function JVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wY(n.key),n)}}function t9e(e,t,r){return t&&e9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T_(e,t,r){return t=wY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=r9e(e,"string");return wg(t)=="symbol"?t:t+""}function r9e(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n9e=function(){function e(){JVe(this,e),T_(this,"activeIndex",0),T_(this,"coordinateList",[]),T_(this,"layout","horizontal")}return t9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function a9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ce(n)&&ce(a))return!0}return!1}function s9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jY(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Ht(t,r,n,a),l=Ht(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function i9e(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ht(l,c,u,f),m=Ht(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return jY(t);return[{x:n,y:a},{x:s,y:o}]}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){o9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o9e(e,t,r){return t=l9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9e(e){var t=c9e(e,"string");return jg(t)=="symbol"?t:t+""}function c9e(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9e(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,g=Xc;if(h==="ScatterChart")v=o,g=yBe;else if(h==="BarChart")v=s9e(f,o,c,d),g=cO;else if(f==="radial"){var x=jY(o),b=x.cx,y=x.cy,w=x.radius,j=x.startAngle,_=x.endAngle;v={cx:b,cy:y,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},g=pG}else v={points:i9e(f,o,c)},g=Xc;var N=Cy(Cy(Cy(Cy({stroke:"#ccc",pointerEvents:"none"},c),v),Pe(m,!1)),{},{payload:l,payloadIndex:u,className:Ge("recharts-tooltip-cursor",m.className)});return p.isValidElement(m)?p.cloneElement(m,N):p.createElement(g,N)}var d9e=["item"],f9e=["children","className","width","height","style","compact","title","desc"];function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function s3(e,t){return p9e(e)||m9e(e,t)||NY(e,t)||h9e()}function h9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p9e(e){if(Array.isArray(e))return e}function i3(e,t){if(e==null)return{};var r=g9e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SY(n.key),n)}}function x9e(e,t,r){return t&&y9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b9e(e,t,r){return t=cb(t),w9e(e,_Y()?Reflect.construct(t,r||[],cb(e).constructor):t.apply(e,r))}function w9e(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9e(e)}function j9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Y=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(e)}function _9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mk(e,t)}function Kf(e){return C9e(e)||S9e(e)||NY(e)||N9e()}function N9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function S9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C9e(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=SY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=k9e(e,"string");return qf(t)=="symbol"?t:t+""}function k9e(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E9e={xAxis:["bottom","top"],yAxis:["left","right"]},A9e={width:"100%",height:"100%"},CY={x:0,y:0};function ky(e){return e}var P9e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},O9e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return ae(ae(ae({},a),Ht(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return ae(ae(ae({},a),Ht(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return CY},_j=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Kf(l),Kf(u)):l},[]);return o.length>0?o:t&&t.length&&ce(a)&&ce(s)?t.slice(a,s+1):[]};function kY(e){return e==="number"?[0,"auto"]:void 0}var Dk=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=_j(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=l0(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Kf(c),[cG(u,h)]):c},[])},l3=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=P9e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=U5e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Dk(t,r,d,f),m=O9e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},T9e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=nG(d,s);return n.reduce(function(v,g){var x,b=g.type.defaultProps!==void 0?ae(ae({},g.type.defaultProps),g.props):g.props,y=b.type,w=b.dataKey,j=b.allowDataOverflow,_=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,k=b.includeHidden,C=b[o];if(v[C])return v;var A=_j(t.data,{graphicalItems:a.filter(function(M){var B,V=o in M.props?M.props[o]:(B=M.type.defaultProps)===null||B===void 0?void 0:B[o];return V===C}),dataStartIndex:c,dataEndIndex:u}),E=A.length,P,F,I;a9e(b.domain,j,y)&&(P=GC(b.domain,null,j),m&&(y==="number"||N!=="auto")&&(I=Hm(A,w,"category")));var z=kY(y);if(!P||P.length===0){var O,$=(O=b.domain)!==null&&O!==void 0?O:z;if(w){if(P=Hm(A,w,y),y==="category"&&m){var D=TSe(P);_&&D?(F=P,P=Y0(0,E)):_||(P=E4($,P,g).reduce(function(M,B){return M.indexOf(B)>=0?M:[].concat(Kf(M),[B])},[]))}else if(y==="category")_?P=P.filter(function(M){return M!==""&&!qe(M)}):P=E4($,P,g).reduce(function(M,B){return M.indexOf(B)>=0||B===""||qe(B)?M:[].concat(Kf(M),[B])},[]);else if(y==="number"){var T=K5e(A,a.filter(function(M){var B,V,q=o in M.props?M.props[o]:(B=M.type.defaultProps)===null||B===void 0?void 0:B[o],J="hide"in M.props?M.props.hide:(V=M.type.defaultProps)===null||V===void 0?void 0:V.hide;return q===C&&(k||!J)}),w,s,d);T&&(P=T)}m&&(y==="number"||N!=="auto")&&(I=Hm(A,w,"category"))}else m?P=Y0(0,E):l&&l[C]&&l[C].hasStack&&y==="number"?P=h==="expand"?[0,1]:lG(l[C].stackGroups,c,u):P=rG(A,a.filter(function(M){var B=o in M.props?M.props[o]:M.type.defaultProps[o],V="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return B===C&&(k||!V)}),y,d,!0);if(y==="number")P=Tk(f,P,C,s,S),$&&(P=GC($,P,j));else if(y==="category"&&$){var U=$,R=P.every(function(M){return U.indexOf(M)>=0});R&&(P=U)}}return ae(ae({},v),{},Re({},C,ae(ae({},b),{},{axisType:s,domain:P,categoricalDomain:I,duplicateDomain:F,originalDomain:(x=b.domain)!==null&&x!==void 0?x:z,isCategorical:m,layout:d})))},{})},M9e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=_j(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=nG(d,s),g=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=y[o],j=kY("number");if(!x[w]){g++;var _;return v?_=Y0(0,m):l&&l[w]&&l[w].hasStack?(_=lG(l[w].stackGroups,c,u),_=Tk(f,_,w,s)):(_=GC(j,rG(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],A="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!A}),"number",d),a.defaultProps.allowDataOverflow),_=Tk(f,_,w,s)),ae(ae({},x),{},Re({},w,ae(ae({axisType:s},a.defaultProps),{},{hide:!0,orientation:$a(E9e,"".concat(s,".").concat(g%2),null),domain:_,originalDomain:j,isCategorical:v,layout:d})))}return x},{})},R9e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=La(d,s),m={};return h&&h.length?m=T9e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=M9e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},D9e=function(t){var r=Jo(t),n=eo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:IP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$0(r,n)}},c3=function(t){var r=t.children,n=t.defaultShowTooltip,a=ka(r,Df),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},I9e=function(t){return!t||!t.length?!1:t.some(function(r){var n=no(r&&r.type);return n&&n.indexOf("Bar")>=0})},u3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$9e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=ka(f,Df),v=ka(f,qc),g=Object.keys(c).reduce(function(_,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?ae(ae({},_),{},Re({},k,_[k]+S.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?ae(ae({},_),{},Re({},k,$a(_,"".concat(k))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},x),g),y=b.bottom;m&&(b.bottom+=m.props.height||Df.defaultProps.height),v&&r&&(b=H5e(b,a,n,r));var w=u-b.left-b.right,j=d-b.top-b.bottom;return ae(ae({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(j,0)})},L9e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Nj=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,j=y.stackGroups,_=y.offset,N=y.updateId,S=y.dataStartIndex,k=y.dataEndIndex,C=b.barSize,A=b.layout,E=b.barGap,P=b.barCategoryGap,F=b.maxBarSize,I=u3(A),z=I.numericAxisName,O=I.cateAxisName,$=I9e(w),D=[];return w.forEach(function(T,U){var R=_j(b.data,{graphicalItems:[T],dataStartIndex:S,dataEndIndex:k}),M=T.type.defaultProps!==void 0?ae(ae({},T.type.defaultProps),T.props):T.props,B=M.dataKey,V=M.maxBarSize,q=M["".concat(z,"Id")],J=M["".concat(O,"Id")],Y={},te=c.reduce(function(Rt,mt){var At=y["".concat(mt.axisType,"Map")],jr=M["".concat(mt.axisType,"Id")];At&&At[jr]||mt.axisType==="zAxis"||vu();var Ir=At[jr];return ae(ae({},Rt),{},Re(Re({},mt.axisType,Ir),"".concat(mt.axisType,"Ticks"),eo(Ir)))},Y),Z=te[O],ne=te["".concat(O,"Ticks")],ee=j&&j[q]&&j[q].hasStack&&r3e(T,j[q].stackGroups),G=no(T.type).indexOf("Bar")>=0,_e=$0(Z,ne),ie=[],he=$&&V5e({barSize:C,stackGroups:j,totalSize:L9e(te,O)});if(G){var ke,Qe,et=qe(V)?F:V,Ve=(ke=(Qe=$0(Z,ne,!0))!==null&&Qe!==void 0?Qe:et)!==null&&ke!==void 0?ke:0;ie=W5e({barGap:E,barCategoryGap:P,bandSize:Ve!==_e?Ve:_e,sizeList:he[J],maxBarSize:et}),Ve!==_e&&(ie=ie.map(function(Rt){return ae(ae({},Rt),{},{position:ae(ae({},Rt.position),{},{offset:Rt.position.offset-Ve/2})})}))}var ht=T&&T.type&&T.type.getComposedData;ht&&D.push({props:ae(ae({},ht(ae(ae({},te),{},{displayedData:R,props:b,dataKey:B,item:T,bandSize:_e,barPosition:ie,offset:_,stackedData:ee,layout:A,dataStartIndex:S,dataEndIndex:k}))),{},Re(Re(Re({key:T.key||"item-".concat(U)},z,te[z]),O,te[O]),"animationId",N)),childIndex:WSe(T,b.children),item:T})}),D},m=function(b,y){var w=b.props,j=b.dataStartIndex,_=b.dataEndIndex,N=b.updateId;if(!jI({props:w}))return null;var S=w.children,k=w.layout,C=w.stackOffset,A=w.data,E=w.reverseStackOrder,P=u3(k),F=P.numericAxisName,I=P.cateAxisName,z=La(S,n),O=e3e(A,z,"".concat(F,"Id"),"".concat(I,"Id"),C,E),$=c.reduce(function(M,B){var V="".concat(B.axisType,"Map");return ae(ae({},M),{},Re({},V,R9e(w,ae(ae({},B),{},{graphicalItems:z,stackGroups:B.axisType===F&&O,dataStartIndex:j,dataEndIndex:_}))))},{}),D=$9e(ae(ae({},$),{},{props:w,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys($).forEach(function(M){$[M]=d(w,$[M],D,M.replace("Map",""),r)});var T=$["".concat(I,"Map")],U=D9e(T),R=h(w,ae(ae({},$),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:z,stackGroups:O,offset:D}));return ae(ae({formattedGraphicalItems:R,graphicalItems:z,offset:D,stackGroups:O},U),$)},v=function(x){function b(y){var w,j,_;return v9e(this,b),_=b9e(this,b,[y]),Re(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(_,"accessibilityManager",new n9e),Re(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,k=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;_.setState(ae({legendBBox:N},m({props:_.props,dataStartIndex:k,dataEndIndex:C,updateId:A},ae(ae({},_.state),{},{legendBBox:N}))))}}),Re(_,"handleReceiveSyncEvent",function(N,S,k){if(_.props.syncId===N){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),Re(_,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var C=_.state.updateId;_.setState(function(){return ae({dataStartIndex:S,dataEndIndex:k},m({props:_.props,dataStartIndex:S,dataEndIndex:k,updateId:C},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),Re(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var k=ae(ae({},S),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var C=_.props.onMouseEnter;$e(C)&&C(k,N)}}),Re(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),k=S?ae(ae({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var C=_.props.onMouseMove;$e(C)&&C(k,N)}),Re(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Re(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Re(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),Re(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var k=_.props.onMouseLeave;$e(k)&&k(S,N)}),Re(_,"handleOuterEvent",function(N){var S=VSe(N),k=$a(_.props,"".concat(S));if(S&&$e(k)){var C,A;/.*touch.*/i.test(S)?A=_.getMouseInfo(N.changedTouches[0]):A=_.getMouseInfo(N),k((C=A)!==null&&C!==void 0?C:{},N)}}),Re(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var k=ae(ae({},S),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var C=_.props.onClick;$e(C)&&C(k,N)}}),Re(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if($e(S)){var k=_.getMouseInfo(N);S(k,N)}}),Re(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if($e(S)){var k=_.getMouseInfo(N);S(k,N)}}),Re(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Re(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),Re(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),Re(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if($e(S)){var k=_.getMouseInfo(N);S(k,N)}}),Re(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if($e(S)){var k=_.getMouseInfo(N);S(k,N)}}),Re(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&P_.emit(O_,_.props.syncId,N,_.eventEmitterSymbol)}),Re(_,"applySyncEvent",function(N){var S=_.props,k=S.layout,C=S.syncMethod,A=_.state.updateId,E=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(ae({dataStartIndex:E,dataEndIndex:P},m({props:_.props,dataStartIndex:E,dataEndIndex:P,updateId:A},_.state)));else if(N.activeTooltipIndex!==void 0){var F=N.chartX,I=N.chartY,z=N.activeTooltipIndex,O=_.state,$=O.offset,D=O.tooltipTicks;if(!$)return;if(typeof C=="function")z=C(D,N);else if(C==="value"){z=-1;for(var T=0;T<D.length;T++)if(D[T].value===N.activeLabel){z=T;break}}var U=ae(ae({},$),{},{x:$.left,y:$.top}),R=Math.min(F,U.x+U.width),M=Math.min(I,U.y+U.height),B=D[z]&&D[z].value,V=Dk(_.state,_.props.data,z),q=D[z]?{x:k==="horizontal"?D[z].coordinate:R,y:k==="horizontal"?M:D[z].coordinate}:CY;_.setState(ae(ae({},N),{},{activeLabel:B,activeCoordinate:q,activePayload:V,activeTooltipIndex:z}))}else _.setState(N)}),Re(_,"renderCursor",function(N){var S,k=_.state,C=k.isTooltipActive,A=k.activeCoordinate,E=k.activePayload,P=k.offset,F=k.activeTooltipIndex,I=k.tooltipAxisBandSize,z=_.getTooltipEventType(),O=(S=N.props.active)!==null&&S!==void 0?S:C,$=_.props.layout,D=N.key||"_recharts-cursor";return L.createElement(u9e,{key:D,activeCoordinate:A,activePayload:E,activeTooltipIndex:F,chartName:r,element:N,isActive:O,layout:$,offset:P,tooltipAxisBandSize:I,tooltipEventType:z})}),Re(_,"renderPolarAxis",function(N,S,k){var C=$a(N,"type.axisType"),A=$a(_.state,"".concat(C,"Map")),E=N.type.defaultProps,P=E!==void 0?ae(ae({},E),N.props):N.props,F=A&&A[P["".concat(C,"Id")]];return p.cloneElement(N,ae(ae({},F),{},{className:Ge(C,F.className),key:N.key||"".concat(S,"-").concat(k),ticks:eo(F,!0)}))}),Re(_,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,A=S.polarRadius,E=_.state,P=E.radiusAxisMap,F=E.angleAxisMap,I=Jo(P),z=Jo(F),O=z.cx,$=z.cy,D=z.innerRadius,T=z.outerRadius;return p.cloneElement(N,{polarAngles:Array.isArray(C)?C:eo(z,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:eo(I,!0).map(function(U){return U.coordinate}),cx:O,cy:$,innerRadius:D,outerRadius:T,key:N.key||"polar-grid",radialLines:k})}),Re(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,k=S.children,C=S.width,A=S.height,E=_.props.margin||{},P=C-(E.left||0)-(E.right||0),F=eG({children:k,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!F)return null;var I=F.item,z=i3(F,d9e);return p.cloneElement(I,ae(ae({},z),{},{chartWidth:C,chartHeight:A,margin:E,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Re(_,"renderTooltip",function(){var N,S=_.props,k=S.children,C=S.accessibilityLayer,A=ka(k,On);if(!A)return null;var E=_.state,P=E.isTooltipActive,F=E.activeCoordinate,I=E.activePayload,z=E.activeLabel,O=E.offset,$=(N=A.props.active)!==null&&N!==void 0?N:P;return p.cloneElement(A,{viewBox:ae(ae({},O),{},{x:O.left,y:O.top}),active:$,label:z,payload:$?I:[],coordinate:F,accessibilityLayer:C})}),Re(_,"renderBrush",function(N){var S=_.props,k=S.margin,C=S.data,A=_.state,E=A.offset,P=A.dataStartIndex,F=A.dataEndIndex,I=A.updateId;return p.cloneElement(N,{key:N.key||"_recharts-brush",onChange:jy(_.handleBrushChange,N.props.onChange),data:C,x:ce(N.props.x)?N.props.x:E.left,y:ce(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(k.bottom||0),width:ce(N.props.width)?N.props.width:E.width,startIndex:P,endIndex:F,updateId:"brush-".concat(I)})}),Re(_,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=_,A=C.clipPathId,E=_.state,P=E.xAxisMap,F=E.yAxisMap,I=E.offset,z=N.type.defaultProps||{},O=N.props,$=O.xAxisId,D=$===void 0?z.xAxisId:$,T=O.yAxisId,U=T===void 0?z.yAxisId:T;return p.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:P[D],yAxis:F[U],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),Re(_,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,A=N.childIndex,E=N.isRange,P=[],F=S.props.key,I=S.item.type.defaultProps!==void 0?ae(ae({},S.item.type.defaultProps),S.item.props):S.item.props,z=I.activeDot,O=I.dataKey,$=ae(ae({index:A,dataKey:O,cx:k.x,cy:k.y,r:4,fill:lO(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Pe(z,!1)),c0(z));return P.push(b.renderActiveDot(z,$,"".concat(F,"-activePoint-").concat(A))),C?P.push(b.renderActiveDot(z,ae(ae({},$),{},{cx:C.x,cy:C.y}),"".concat(F,"-basePoint-").concat(A))):E&&P.push(null),P}),Re(_,"renderGraphicChild",function(N,S,k){var C=_.filterFormatItem(N,S,k);if(!C)return null;var A=_.getTooltipEventType(),E=_.state,P=E.isTooltipActive,F=E.tooltipAxis,I=E.activeTooltipIndex,z=E.activeLabel,O=_.props.children,$=ka(O,On),D=C.props,T=D.points,U=D.isRange,R=D.baseLine,M=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,B=M.activeDot,V=M.hide,q=M.activeBar,J=M.activeShape,Y=!!(!V&&P&&$&&(B||q||J)),te={};A!=="axis"&&$&&$.props.trigger==="click"?te={onClick:jy(_.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(te={onMouseLeave:jy(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:jy(_.handleItemMouseEnter,N.props.onMouseEnter)});var Z=p.cloneElement(N,ae(ae({},C.props),te));function ne(mt){return typeof F.dataKey=="function"?F.dataKey(mt.payload):null}if(Y)if(I>=0){var ee,G;if(F.dataKey&&!F.allowDuplicatedCategory){var _e=typeof F.dataKey=="function"?ne:"payload.".concat(F.dataKey.toString());ee=l0(T,_e,z),G=U&&R&&l0(R,_e,z)}else ee=T==null?void 0:T[I],G=U&&R&&R[I];if(J||q){var ie=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[p.cloneElement(N,ae(ae(ae({},C.props),te),{},{activeIndex:ie})),null,null]}if(!qe(ee))return[Z].concat(Kf(_.renderActivePoints({item:C,activePoint:ee,basePoint:G,childIndex:I,isRange:U})))}else{var he,ke=(he=_.getItemByXY(_.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:Z},Qe=ke.graphicalItem,et=Qe.item,Ve=et===void 0?N:et,ht=Qe.childIndex,Rt=ae(ae(ae({},C.props),te),{},{activeIndex:ht});return[p.cloneElement(Ve,Rt),null,null]}return U?[Z,null,null]:[Z,null]}),Re(_,"renderCustomized",function(N,S,k){return p.cloneElement(N,ae(ae({key:"recharts-customized-".concat(k)},_.props),_.state))}),Re(_,"renderMap",{CartesianGrid:{handler:ky,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ky},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ky},YAxis:{handler:ky},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:ku("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Jq(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return _9e(b,x),x9e(b,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,_=w.data,N=w.height,S=w.layout,k=ka(j,On);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,E=Dk(this.state,_,C,A),P=this.state.tooltipTicks[C].coordinate,F=(this.state.offset.top+N)/2,I=S==="horizontal",z=I?{x:P,y:F}:{y:P,x:F},O=this.state.formattedGraphicalItems.find(function(D){var T=D.item;return T.type.name==="Scatter"});O&&(z=ae(ae({},z),O.props.points[C].tooltipPosition),E=O.props.points[C].tooltipPayload);var $={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:E,activeCoordinate:z};this.setState($),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){cC([ka(w.children,On)],[ka(this.props.children,On)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ka(this.props.children,On);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=gDe(_),S={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},k=_.width/j.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var A=this.state,E=A.xAxisMap,P=A.yAxisMap,F=this.getTooltipEventType(),I=l3(this.state,this.props.data,this.props.layout,C);if(F!=="axis"&&E&&P){var z=Jo(E).scale,O=Jo(P).scale,$=z&&z.invert?z.invert(S.chartX):null,D=O&&O.invert?O.invert(S.chartY):null;return ae(ae({},S),{},{xValue:$,yValue:D},I)}return I?ae(ae({},S),I):null}},{key:"inRange",value:function(w,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=w/_,k=j/_;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:S,y:k}:null}var E=this.state,P=E.angleAxisMap,F=E.radiusAxisMap;if(P&&F){var I=Jo(P);return O4({x:S,y:k},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),_=ka(w,On),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=c0(this.props,this.handleOuterEvent);return ae(ae({},S),N)}},{key:"addListener",value:function(){P_.on(O_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){P_.removeListener(O_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,_){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===w||C.props.key===w.key||j===no(C.item.type)&&_===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,k=j.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:_,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,_){var N=s3(_,2),S=N[0],k=N[1];return ae(ae({},j),{},Re({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,_){var N=s3(_,2),S=N[0],k=N[1];return ae(ae({},j),{},Re({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,k=_.length;S<k;S++){var C=_[S],A=C.props,E=C.item,P=E.type.defaultProps!==void 0?ae(ae({},E.type.defaultProps),E.props):E.props,F=no(E.type);if(F==="Bar"){var I=(A.data||[]).find(function(D){return QFe(w,D)});if(I)return{graphicalItem:C,payload:I}}else if(F==="RadialBar"){var z=(A.data||[]).find(function(D){return O4(w,D)});if(z)return{graphicalItem:C,payload:z}}else if(gj(C,N)||vj(C,N)||pg(C,N)){var O=B6e({graphicalItem:C,activeTooltipItem:N,itemData:P.data}),$=P.activeIndex===void 0?O:P.activeIndex;return{graphicalItem:ae(ae({},C),{},{childIndex:$}),payload:pg(C,N)?P.data[O]:C.props.data[O]}}}return null}},{key:"render",value:function(){var w=this;if(!jI(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,k=j.height,C=j.style,A=j.compact,E=j.title,P=j.desc,F=i3(j,f9e),I=Pe(F,!1);if(A)return L.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(dC,bd({},I,{width:S,height:k,title:E,desc:P}),this.renderClipPath(),NI(_,this.renderMap)));if(this.props.accessibilityLayer){var z,O;I.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,I.role=(O=this.props.role)!==null&&O!==void 0?O:"application",I.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},I.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return L.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",bd({className:Ge("recharts-wrapper",N),style:ae({position:"relative",cursor:"default",width:S,height:k},C)},$,{ref:function(T){w.container=T}}),L.createElement(dC,bd({},I,{width:S,height:k,title:E,desc:P,style:A9e}),this.renderClipPath(),NI(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);Re(v,"displayName",r),Re(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(v,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,w=x.data,j=x.children,_=x.width,N=x.height,S=x.layout,k=x.stackOffset,C=x.margin,A=b.dataStartIndex,E=b.dataEndIndex;if(b.updateId===void 0){var P=c3(x);return ae(ae(ae({},P),{},{updateId:0},m(ae(ae({props:x},P),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(y!==b.prevDataKey||w!==b.prevData||_!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||k!==b.prevStackOffset||!$d(C,b.prevMargin)){var F=c3(x),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=ae(ae({},l3(b,w,S)),{},{updateId:b.updateId+1}),O=ae(ae(ae({},F),I),z);return ae(ae(ae({},O),m(ae({props:x},O),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(!cC(j,b.prevChildren)){var $,D,T,U,R=ka(j,Df),M=R&&($=(D=R.props)===null||D===void 0?void 0:D.startIndex)!==null&&$!==void 0?$:A,B=R&&(T=(U=R.props)===null||U===void 0?void 0:U.endIndex)!==null&&T!==void 0?T:E,V=M!==A||B!==E,q=!qe(w),J=q&&!V?b.updateId:b.updateId+1;return ae(ae({updateId:J},m(ae(ae({props:x},b),{},{updateId:J,dataStartIndex:M,dataEndIndex:B}),b)),{},{prevChildren:j,dataStartIndex:M,dataEndIndex:B})}return null}),Re(v,"renderActiveDot",function(x,b,y){var w;return p.isValidElement(x)?w=p.cloneElement(x,b):$e(x)?w=x(b):w=L.createElement(Nv,b),L.createElement(lt,{className:"recharts-active-dot",key:y},w)});var g=p.forwardRef(function(b,y){return L.createElement(v,bd({},b,{ref:y}))});return g.displayName=v.displayName,g},F9e=Nj({chartName:"LineChart",GraphicalChild:Uf,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Oi}],formatAxisMap:uO}),bO=Nj({chartName:"BarChart",GraphicalChild:Ro,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Oi}],formatAxisMap:uO}),EY=Nj({chartName:"PieChart",GraphicalChild:$i,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pj},{axisType:"radiusAxis",AxisComp:hj}],formatAxisMap:f3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),B9e=Nj({chartName:"AreaChart",GraphicalChild:ec,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Oi}],formatAxisMap:uO});const z9e={pending:"#f59e0b",accepted:"#22c55e",confirmed:"#22c55e",completed:"#3b82f6",rejected:"#ef4444",cancelled:"#6b7280"},U9e={pending:" ",accepted:"",confirmed:"",completed:"",rejected:"",cancelled:""};function M_(){const{user:e,role:t}=at(),{toast:r}=Ke(),[n,a]=p.useState(!0),[s,o]=p.useState(null),[l,c]=p.useState("month"),[u,d]=p.useState(null),[f,h]=p.useState(!1),[m,v]=p.useState(!1),[g,x]=p.useState([]),[b,y]=p.useState(!1),[w,j]=p.useState({open:!1,status:"",title:"",description:""}),[_,N]=p.useState(null);p.useRef(null);const S=[{value:"pending",label:" ",color:"bg-amber-500",icon:Ra},{value:"accepted",label:"",color:"bg-green-500",icon:It},{value:"confirmed",label:"",color:"bg-green-500",icon:It},{value:"completed",label:"",color:"bg-blue-500",icon:It},{value:"rejected",label:"",color:"bg-red-500",icon:ro},{value:"cancelled",label:"",color:"bg-gray-500",icon:fl}],k=M=>{x(B=>B.includes(M)?B.filter(V=>V!==M):[...B,M])},C=()=>{x([])},A=(s==null?void 0:s.recentBookings.filter(M=>g.length===0||g.includes(M.status)))||[],E={accepted:{title:"  ",description:"          ."},confirmed:{title:" ",description:"         ."},rejected:{title:"  ",description:"          ."},cancelled:{title:"  ",description:"            ."},completed:{title:"  ",description:"         "}},P=(M,B)=>{const V=E[M]||{title:"",description:"  "};j({open:!0,status:M,bookingId:B,...V})},F=async()=>{const M=w.bookingId||(u==null?void 0:u.id);M&&w.status&&await D(M,w.status),j({open:!1,status:"",title:"",description:""})},I=M=>{d(M),h(!0)},z=(M,B)=>{d(M),P(B,M.id)},O=M=>{switch(M){case"pending":return[{value:"accepted",label:"",icon:It,color:"text-green-600"},{value:"rejected",label:"",icon:ro,color:"text-red-600"}];case"accepted":return[{value:"confirmed",label:"",icon:It,color:"text-green-600"},{value:"cancelled",label:"",icon:fl,color:"text-gray-600"}];case"confirmed":return[{value:"completed",label:"",icon:It,color:"text-blue-600"},{value:"cancelled",label:"",icon:fl,color:"text-gray-600"}];default:return[]}},$=M=>{const B=M.replace(/\D/g,""),V=B.startsWith("966")?B:`966${B.replace(/^0/,"")}`;window.open(`https://wa.me/${V}`,"_blank")},D=async(M,B)=>{if(t){v(!0);try{const V=t==="hall_owner"?"hall_bookings":"service_bookings",{error:q}=await W.from(V).update({status:B,updated_at:new Date().toISOString()}).eq("id",M);if(q)throw q;if(u&&d({...u,status:B}),s){const te=s.recentBookings.map(Z=>Z.id===M?{...Z,status:B}:Z);o({...s,recentBookings:te})}const Y={accepted:{title:"  ",description:"   "},confirmed:{title:"  ",description:"   "},rejected:{title:"  ",description:"   "},cancelled:{title:"  ",description:"   "},completed:{title:"  ",description:"     "}}[B]||{title:" ",description:"   "};r({title:Y.title,description:Y.description})}catch(V){console.error("Error updating booking status:",V),r({title:"",description:"   ",variant:"destructive"})}finally{v(!1)}}};p.useEffect(()=>{e&&(t==="hall_owner"||t==="service_provider")&&T()},[e,t,l]);const T=async()=>{if(e){a(!0);try{let M=[],B={};if(t==="hall_owner"){const{data:be}=await W.from("halls").select("id, name_ar").eq("owner_id",e.id);if(!be||be.length===0){o({totalBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,monthlyRevenue:0,totalInquiries:0,revenueChange:0,bookingsChange:0,avgBookingValue:0,conversionRate:0,bookingsByDay:[],statusDistribution:[],recentBookings:[]}),a(!1);return}const xt=be.map(We=>We.id);be.forEach(We=>{B[We.id]=We.name_ar});const{data:dr}=await W.from("hall_bookings").select("*, profiles:user_id(full_name, phone)").in("hall_id",xt).order("created_at",{ascending:!1});M=(dr||[]).map(We=>{var $r,Q;return{...We,entity_id:We.hall_id,entity_name:B[We.hall_id],status:We.status||"pending",customer_name:(($r=We.profiles)==null?void 0:$r.full_name)||" ",customer_phone:((Q=We.profiles)==null?void 0:Q.phone)||null,is_paid:!!We.stripe_payment_id}})}else if(t==="service_provider"){const{data:be}=await W.from("service_providers").select("id, name_ar").eq("owner_id",e.id);if(!be||be.length===0){o({totalBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,monthlyRevenue:0,totalInquiries:0,revenueChange:0,bookingsChange:0,avgBookingValue:0,conversionRate:0,bookingsByDay:[],statusDistribution:[],recentBookings:[]}),a(!1);return}const xt=be.map(We=>We.id);be.forEach(We=>{B[We.id]=We.name_ar});const{data:dr}=await W.from("service_bookings").select("*, profiles:user_id(full_name, phone)").in("provider_id",xt).order("created_at",{ascending:!1});M=(dr||[]).map(We=>{var $r,Q;return{...We,entity_id:We.provider_id,entity_name:B[We.provider_id],status:We.status||"pending",customer_name:(($r=We.profiles)==null?void 0:$r.full_name)||" ",customer_phone:((Q=We.profiles)==null?void 0:Q.phone)||null,is_paid:!1}})}const V=new Date,q=or(V),J=Us(V),Y=or(Fm(q,1)),te=Us(Y),ne=Fm(V,l==="week"?7:l==="month"?30:365),ee=M.filter(be=>new Date(be.created_at)>=ne),G=M.filter(be=>{const xt=new Date(be.created_at);return xt>=q&&xt<=J}),_e=M.filter(be=>{const xt=new Date(be.created_at);return xt>=Y&&xt<=te}),ie=M.length,he=M.filter(be=>be.status==="pending").length,ke=t==="hall_owner"?["accepted"]:["confirmed","completed"],Qe=M.filter(be=>ke.includes(be.status)).length,et=M.filter(be=>ke.includes(be.status)),Ve=et.reduce((be,xt)=>be+(xt.total_price||0),0),ht=et.length>0?Ve/et.length:0,Rt=ie>0?et.length/ie*100:0,mt=G.filter(be=>ke.includes(be.status)).reduce((be,xt)=>be+(xt.total_price||0),0),At=_e.filter(be=>ke.includes(be.status)).reduce((be,xt)=>be+(xt.total_price||0),0),jr=At>0?(mt-At)/At*100:mt>0?100:0,Ir=_e.length>0?(G.length-_e.length)/_e.length*100:G.length>0?100:0,Nt={};M.forEach(be=>{const xt=be.status||"pending";Nt[xt]=(Nt[xt]||0)+1});const Dt=Object.entries(Nt).map(([be,xt])=>({name:U9e[be]||be,value:xt,color:z9e[be]||"#6b7280"})),ea=lA({start:ne,end:V}).map(be=>{const xt=fe(be,"yyyy-MM-dd"),dr=ee.filter(We=>fe(new Date(We.created_at),"yyyy-MM-dd")===xt);return{date:fe(be,"dd MMM",{locale:Je}),count:dr.length,revenue:dr.filter(We=>ke.includes(We.status)).reduce((We,$r)=>We+($r.total_price||0),0)}}),ja=M.slice(0,5).map(be=>({id:be.id,booking_date:be.booking_date,total_price:be.total_price||0,status:be.status||"pending",guest_count_men:be.guest_count_men||0,guest_count_women:be.guest_count_women||0,hall_name:t==="hall_owner"?be.entity_name:void 0,provider_name:t==="service_provider"?be.entity_name:void 0,customer_name:be.customer_name,customer_phone:be.customer_phone,is_paid:be.is_paid,notes:be.notes,created_at:be.created_at}));o({totalBookings:ie,pendingBookings:he,confirmedBookings:Qe,totalRevenue:Ve,monthlyRevenue:mt,totalInquiries:0,revenueChange:jr,bookingsChange:Ir,avgBookingValue:Math.round(ht),conversionRate:Math.round(Rt),bookingsByDay:ea,statusDistribution:Dt,recentBookings:ja})}catch(M){console.error("Error fetching analytics:",M)}finally{a(!1)}}};if(n)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})});if(!s)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx(uf,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:"   "})]});const U=M=>({pending:" ",accepted:"",cancelled:"",rejected:""})[M]||M,R=M=>({pending:"bg-yellow-500/20 text-yellow-600",accepted:"bg-green-500/20 text-green-600",cancelled:"bg-red-500/20 text-red-600",rejected:"bg-red-500/20 text-red-600"})[M]||"bg-muted text-muted-foreground";return i.jsxs("div",{className:"space-y-6 p-4",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-display text-2xl font-bold text-foreground",children:" "}),i.jsx("div",{className:"flex gap-2",children:["week","month","year"].map(M=>i.jsx("button",{onClick:()=>c(M),className:`px-3 py-1.5 rounded-lg text-sm font-arabic transition-colors ${l===M?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:M==="week"?"":M==="month"?"":""},M))})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(qt,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:`flex items-center gap-1 text-xs ${s.bookingsChange>=0?"text-green-600":"text-red-600"}`,children:[s.bookingsChange>=0?i.jsx(VT,{className:"w-3 h-3"}):i.jsx(TN,{className:"w-3 h-3"}),Math.abs(s.bookingsChange).toFixed(0),"%"]})]}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalBookings}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:" "})]})})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:i.jsx(of,{className:"w-5 h-5 text-green-600"})}),i.jsxs("div",{className:`flex items-center gap-1 text-xs ${s.revenueChange>=0?"text-green-600":"text-red-600"}`,children:[s.revenueChange>=0?i.jsx(VT,{className:"w-3 h-3"}):i.jsx(TN,{className:"w-3 h-3"}),Math.abs(s.revenueChange).toFixed(0),"%"]})]}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalRevenue.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:"  (.)"})]})})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:i.jsx(uf,{className:"w-5 h-5 text-purple-600"})})}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.avgBookingValue.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:"   (.)"})]})})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:i.jsx(IJ,{className:"w-5 h-5 text-blue-600"})})}),i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[s.conversionRate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:" "})]})})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:i.jsx(Ot,{className:"w-5 h-5 text-yellow-600"})})}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.pendingBookings}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:"  "})]})})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:i.jsx(Xr,{className:"w-5 h-5 text-green-600"})})}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.confirmedBookings}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:" "})]})})})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"font-display text-lg text-right",children:" "})}),i.jsx(He,{children:s.bookingsByDay.length>0?i.jsx("div",{className:"h-64",children:i.jsx(Kc,{width:"100%",height:"100%",children:i.jsxs(B9e,{data:s.bookingsByDay,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),i.jsx(bg,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),i.jsx(Pi,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1}),i.jsx(Oi,{stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1}),i.jsx(On,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",direction:"rtl"},labelStyle:{color:"hsl(var(--foreground))"},formatter:(M,B)=>[B==="revenue"?`${M.toLocaleString()} .`:M,B==="revenue"?"":""]}),i.jsx(ec,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2})]})})}):i.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground font-arabic",children:"   "})})]})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"font-display text-lg text-right",children:"  "})}),i.jsx(He,{children:s.bookingsByDay.length>0?i.jsx("div",{className:"h-48",children:i.jsx(Kc,{width:"100%",height:"100%",children:i.jsxs(bO,{data:s.bookingsByDay,children:[i.jsx(bg,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),i.jsx(Pi,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1}),i.jsx(Oi,{stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1}),i.jsx(On,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",direction:"rtl"},formatter:M=>[M,""]}),i.jsx(Ro,{dataKey:"count",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})}):i.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground font-arabic",children:"   "})})]})}),s.statusDistribution.length>0&&i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"font-display text-lg text-right",children:"  "})}),i.jsxs(He,{children:[i.jsx("div",{className:"h-64",children:i.jsx(Kc,{width:"100%",height:"100%",children:i.jsxs(EY,{children:[i.jsx($i,{data:s.statusDistribution,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",children:s.statusDistribution.map((M,B)=>i.jsx(yv,{fill:M.color},`cell-${B}`))}),i.jsx(On,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",direction:"rtl"},formatter:(M,B)=>[`${M} `,B]})]})})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:s.statusDistribution.map((M,B)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.color}}),i.jsxs("span",{className:"text-xs font-arabic text-muted-foreground",children:[M.name," (",M.value,")"]})]},B))})]})]})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsxs(Me,{className:"card-luxe",children:[i.jsxs(sa,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>y(!b),children:[i.jsx(Wg,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic",children:""}),g.length>0&&i.jsx("span",{className:"bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:g.length})]}),i.jsx(ia,{className:"font-display text-lg text-right",children:" "})]}),i.jsx(X.div,{initial:!1,animate:{height:b?"auto":0,opacity:b?1:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:i.jsxs("div",{className:"pt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{variant:"ghost",size:"sm",className:"text-xs gap-1 text-muted-foreground hover:text-foreground",onClick:C,disabled:g.length===0,children:[i.jsx(Tt,{className:"w-3 h-3"})," "]}),i.jsx("p",{className:"text-sm font-arabic text-muted-foreground",children:"   "})]}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:S.map(M=>{const B=g.includes(M.value),V=M.icon;return i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(M.value),className:`
                          relative flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-arabic
                          transition-all duration-200 border
                          ${B?`${M.color} text-white border-transparent shadow-lg`:"bg-muted/50 text-muted-foreground border-border hover:bg-muted hover:text-foreground"}
                        `,children:[i.jsx(V,{className:"w-4 h-4"}),i.jsx("span",{children:M.label}),B&&i.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-white dark:bg-gray-900 rounded-full flex items-center justify-center shadow",children:i.jsx(It,{className:"w-3 h-3 text-green-600"})})]},M.value)})}),g.length>0&&i.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-primary/5 border border-primary/20 rounded-xl p-3 mt-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qT,{className:"w-4 h-4 text-primary"}),i.jsxs("span",{className:"text-sm font-arabic text-primary font-medium",children:[A.length," "]})]}),i.jsxs("span",{className:"text-xs font-arabic text-muted-foreground",children:["  ",(s==null?void 0:s.recentBookings.length)||0]})]})})]})})]}),i.jsx(He,{children:A.length>0?i.jsx("div",{className:"space-y-3",children:A.map((M,B)=>{const V=O(M.status);return i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.05},className:"flex items-center justify-between p-3 bg-muted/50 rounded-xl cursor-pointer hover:bg-muted/80 transition-colors group",onClick:()=>I(M),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[V.length>0&&i.jsxs(oH,{children:[i.jsx(lH,{asChild:!0,onClick:q=>q.stopPropagation(),children:i.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(VJ,{className:"h-4 w-4"})})}),i.jsxs(KA,{align:"start",className:"w-40",children:[i.jsx(cH,{className:"font-arabic text-right",children:" "}),i.jsx(uH,{}),V.map(q=>{const J=q.icon;return i.jsxs(GA,{onClick:Y=>{Y.stopPropagation(),z(M,q.value)},className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(J,{className:`h-4 w-4 ${q.color}`}),i.jsx("span",{className:"font-arabic",children:q.label})]},q.value)})]})]}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-arabic ${R(M.status)}`,children:U(M.status)}),i.jsxs("span",{className:"font-bold text-foreground",children:[M.total_price.toLocaleString()," ."]}),M.is_paid?i.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-arabic bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:""}):i.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-arabic bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",children:" "})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-arabic text-sm font-medium text-foreground",children:M.customer_name||" "}),i.jsx("p",{className:"font-arabic text-xs text-muted-foreground",children:M.hall_name||M.provider_name||(t==="hall_owner"?"":"")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:fe(new Date(M.booking_date),"d MMMM yyyy",{locale:Je})})]})]},M.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted/50 flex items-center justify-center",children:i.jsx(qT,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:g.length>0?"     ":"    "}),g.length>0&&i.jsxs(K,{variant:"ghost",size:"sm",className:"mt-2 gap-1 font-arabic",onClick:C,children:[i.jsx(Tt,{className:"w-4 h-4"})," "]})]})})]})}),i.jsx(Mt,{open:f,onOpenChange:h,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl",children:[i.jsx(ur,{className:"text-right pb-4 border-b",children:i.jsx(Kt,{className:"font-display text-xl",children:" "})}),u&&i.jsxs("div",{className:"py-6 space-y-6 overflow-y-auto max-h-[calc(85vh-120px)]",children:[i.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(ya,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"font-arabic font-medium text-foreground",children:u.customer_name||" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),u.customer_phone&&i.jsx("div",{className:"flex gap-2",children:i.jsxs(K,{className:"flex-1 gap-2 bg-green-600 hover:bg-green-700",onClick:()=>$(u.customer_phone),children:[i.jsx(Xr,{className:"w-4 h-4"}),""]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-arabic font-medium text-foreground text-right",children:" "}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx(qt,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsx("p",{className:"font-arabic font-medium",children:fe(new Date(u.booking_date),"d MMMM yyyy",{locale:Je})})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx(of,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsxs("p",{className:"font-arabic font-medium",children:[u.total_price.toLocaleString()," ."]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx(Ra,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-arabic ${R(u.status)}`,children:U(u.status)})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx(W2,{className:"w-4 h-4 text-muted-foreground"})]}),u.is_paid?i.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-arabic bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:""}):i.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-arabic bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",children:" "})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:t==="hall_owner"?"":""}),i.jsx(wr,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsx("p",{className:"font-arabic font-medium",children:u.hall_name||u.provider_name||"-"})]}),t==="hall_owner"&&(u.guest_count_men||u.guest_count_women)&&i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" "}),i.jsx(Ot,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsxs("p",{className:"font-arabic font-medium",children:[u.guest_count_men||0,"   ",u.guest_count_women||0," "]})]}),u.notes&&i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx(Xr,{className:"w-4 h-4 text-muted-foreground"})]}),i.jsx("p",{className:"font-arabic text-sm text-foreground",children:u.notes})]}),u.created_at&&i.jsxs("div",{className:"text-center text-xs text-muted-foreground pt-4 border-t",children:["    ",fe(new Date(u.created_at),"d MMMM yyyy - HH:mm",{locale:Je})]}),u.status==="pending"&&i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsx("h3",{className:"font-arabic font-medium text-foreground text-right",children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{className:"flex-1 gap-2 bg-green-600 hover:bg-green-700",onClick:()=>P(t==="hall_owner"?"accepted":"confirmed"),disabled:m,children:[i.jsx(It,{className:"w-4 h-4"})," "]}),i.jsxs(K,{variant:"destructive",className:"flex-1 gap-2",onClick:()=>P("rejected"),disabled:m,children:[i.jsx(ro,{className:"w-4 h-4"})," "]})]})]}),(u.status==="accepted"||u.status==="confirmed")&&i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsx("h3",{className:"font-arabic font-medium text-foreground text-right",children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{className:"flex-1 gap-2",onClick:()=>P("completed"),disabled:m,children:[i.jsx(It,{className:"w-4 h-4"}),"  "]}),i.jsxs(K,{variant:"outline",className:"flex-1 gap-2 text-destructive border-destructive hover:bg-destructive/10",onClick:()=>P("cancelled"),disabled:m,children:[i.jsx(fl,{className:"w-4 h-4"})," "]})]})]})]})]})]})}),i.jsx(ql,{open:w.open,onOpenChange:M=>!M&&j({...w,open:!1}),children:i.jsxs(No,{className:"max-w-sm",children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right font-arabic",children:w.title}),i.jsx(Eo,{className:"text-right font-arabic",children:w.description})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsxs(Ao,{onClick:F,disabled:m,className:w.status==="rejected"||w.status==="cancelled"?"bg-destructive hover:bg-destructive/90":"",children:[m?i.jsx(ve,{className:"w-4 h-4 animate-spin ml-2"}):null,""]}),i.jsx(Po,{disabled:m,children:""})]})]})})]})}function AY({providerIds:e,onNewBooking:t}){const{toast:r}=Ke(),{user:n,role:a}=at(),s=p.useRef(null);p.useEffect(()=>{if(!n||a!=="service_provider"||e.length===0)return;const o=W.channel("service-bookings-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"service_bookings"},async l=>{const c=l.new;if(e.includes(c.provider_id)){const{data:u}=await W.from("service_providers").select("name_ar").eq("id",c.provider_id).maybeSingle();r({title:"   ",description:u!=null&&u.name_ar?`      ${u.name_ar}`:"    ",duration:8e3}),t==null||t()}}).subscribe();return s.current=o,()=>{s.current&&W.removeChannel(s.current)}},[n,a,e,r,t])}function V9e(){var P,F;const{user:e}=at(),{toast:t}=Ke(),r=Mi(),[n,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(10),m=p.useCallback(()=>{r.invalidateQueries({queryKey:["service-bookings"]})},[r]),{data:v}=Bn({queryKey:["my-service-providers",e==null?void 0:e.id],queryFn:async()=>{const{data:I,error:z}=await W.from("service_providers").select("id, name_ar").eq("owner_id",e==null?void 0:e.id);if(z)throw z;return I},enabled:!!(e!=null&&e.id)}),g=(v==null?void 0:v.map(I=>I.id))||[];AY({providerIds:g,onNewBooking:m});const{data:x,isLoading:b,refetch:y}=Bn({queryKey:["service-bookings",v==null?void 0:v.map(I=>I.id)],queryFn:async()=>{if(!(v!=null&&v.length))return[];const I=v.map(U=>U.id),{data:z,error:O}=await W.from("service_bookings").select(`
          *,
          service_packages (
            name_ar,
            name_en
          )
        `).in("provider_id",I).order("created_at",{ascending:!1});if(O)throw O;const $=[...new Set((z||[]).map(U=>U.user_id))],{data:D}=await W.from("profiles").select("id, full_name, phone").in("id",$),T=new Map((D==null?void 0:D.map(U=>[U.id,U]))||[]);return(z||[]).map(U=>({...U,userProfile:T.get(U.user_id)}))},enabled:!!(v!=null&&v.length)}),w=hf({mutationFn:async({bookingId:I,status:z})=>{const{error:O}=await W.from("service_bookings").update({status:z,updated_at:new Date().toISOString()}).eq("id",I);if(O)throw O},onSuccess:()=>{r.invalidateQueries({queryKey:["service-bookings"]}),t({title:" ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),j=async()=>{u&&(w.mutate({bookingId:u.id,status:"cancelled"}),u.provider_id&&await W.from("service_provider_availability").upsert({provider_id:u.provider_id,date:u.booking_date,status:"available",notes:"   "},{onConflict:"provider_id,date"}),o(!1),d(null))},_=async()=>{u&&(u.provider_id&&await W.from("service_provider_availability").upsert({provider_id:u.provider_id,date:u.booking_date,status:"available",notes:`   ${f}%`},{onConflict:"provider_id,date"}),w.mutate({bookingId:u.id,status:"cancelled"}),t({title:"   ",description:`    ${f}%`}),c(!1),d(null),h(10))},N=I=>{switch(I){case"pending":return i.jsx(Ce,{variant:"secondary",className:"bg-amber-100 text-amber-800",children:" "});case"confirmed":return i.jsx(Ce,{className:"bg-green-100 text-green-800",children:""});case"cancelled":return i.jsx(Ce,{variant:"destructive",children:""});case"completed":return i.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:""});default:return i.jsx(Ce,{variant:"secondary",children:I})}},S=(x==null?void 0:x.filter(I=>I.status==="pending"))||[],k=(x==null?void 0:x.filter(I=>I.status==="confirmed"))||[],C=(x==null?void 0:x.filter(I=>I.status==="completed"||I.status==="cancelled"))||[],A=(I,z)=>{if(!I)return;const O=encodeURIComponent(`  : ${z}`);window.open(`https://wa.me/${I.replace(/\D/g,"")}?text=${O}`,"_blank")},E=({booking:I})=>{var O,$,D,T;const z=n===I.id;return(O=v==null?void 0:v.find(U=>U.id===I.provider_id))!=null&&O.name_ar,i.jsx(pH,{open:z,onOpenChange:()=>a(z?null:I.id),children:i.jsxs(Me,{className:"overflow-hidden",children:[i.jsx(gH,{asChild:!0,children:i.jsx(sa,{className:"cursor-pointer hover:bg-muted/50 transition-colors p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx(Ml,{className:`w-5 h-5 text-muted-foreground transition-transform ${z?"rotate-180":""}`}),i.jsxs("div",{className:"flex-1 text-right mr-3",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2 mb-1",children:[N(I.status),i.jsx(ia,{className:"text-base font-bold",children:(($=I.userProfile)==null?void 0:$.full_name)||""})]}),i.jsxs("div",{className:"flex items-center justify-end gap-4 text-sm text-muted-foreground",children:[i.jsx("span",{children:fe(new Date(I.booking_date),"dd MMM yyyy",{locale:Je})}),i.jsx(nu,{className:"w-4 h-4"})]}),i.jsx("div",{className:"flex items-center justify-end gap-2 mt-2",children:i.jsxs("span",{className:"font-bold text-primary",children:[I.total_price.toLocaleString()," ."]})})]})]})})}),i.jsx(vH,{children:i.jsxs(He,{className:"pt-0 pb-4 px-4 space-y-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2 text-right",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("span",{className:"text-sm",children:((D=I.service_packages)==null?void 0:D.name_ar)||"  "}),i.jsx(un,{className:"w-4 h-4 text-primary"})]}),I.notes&&i.jsxs("div",{className:"flex items-start justify-end gap-2 pt-2 border-t",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:I.notes}),i.jsx(HT,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})]}),((T=I.userProfile)==null?void 0:T.phone)&&i.jsx("div",{className:"flex gap-2",children:i.jsxs(K,{size:"sm",className:"flex-1 bg-[#25D366] hover:bg-[#128C7E] text-white",onClick:()=>{var U,R;return A((U=I.userProfile)==null?void 0:U.phone,`${(R=I.service_packages)==null?void 0:R.name_ar} - ${fe(new Date(I.booking_date),"dd/MM/yyyy")}`)},children:[i.jsx(Xr,{className:"w-4 h-4 ml-1"}),""]})}),I.status==="pending"&&i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>w.mutate({bookingId:I.id,status:"cancelled"}),disabled:w.isPending,children:[i.jsx(ro,{className:"w-4 h-4 ml-1"}),""]}),i.jsx(K,{size:"sm",className:"flex-1",onClick:()=>w.mutate({bookingId:I.id,status:"confirmed"}),disabled:w.isPending,children:w.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"w-4 h-4 ml-1"}),""]})})]}),I.status==="confirmed"&&i.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-amber-500/30 text-amber-600 hover:bg-amber-500/10",onClick:()=>{d(I),c(!0)},children:[i.jsx(Ks,{className:"w-4 h-4 ml-1"})," "]}),i.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-red-500/30 text-red-600 hover:bg-red-500/10",onClick:()=>{d(I),o(!0)},children:[i.jsx(fl,{className:"w-4 h-4 ml-1"}),""]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>w.mutate({bookingId:I.id,status:"pending"}),disabled:w.isPending,children:[i.jsx(Vg,{className:"w-4 h-4 ml-1"})," "]}),i.jsxs(K,{size:"sm",className:"flex-1",onClick:()=>w.mutate({bookingId:I.id,status:"completed"}),disabled:w.isPending,children:[i.jsx(sf,{className:"w-4 h-4 ml-1"})," "]})]})]})]})})]})})};return b?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>y(),children:i.jsx(Y2,{className:"w-5 h-5"})}),i.jsx("h2",{className:"font-display text-xl font-bold",children:" "})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs(Me,{className:"p-3 text-center bg-amber-500/10",children:[i.jsx("div",{className:"text-2xl font-bold text-amber-600",children:S.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),i.jsxs(Me,{className:"p-3 text-center bg-green-500/10",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),i.jsxs(Me,{className:"p-3 text-center bg-blue-500/10",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]}),i.jsxs(fv,{defaultValue:"pending",className:"w-full",dir:"rtl",children:[i.jsxs(xh,{className:"grid w-full grid-cols-3",children:[i.jsxs(pa,{value:"pending",className:"relative",children:[" ",S.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs rounded-full flex items-center justify-center",children:S.length})]}),i.jsx(pa,{value:"confirmed",children:""}),i.jsx(pa,{value:"completed",children:""})]}),i.jsx(ga,{value:"pending",className:"mt-4 space-y-3",children:S.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ra,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"    "})]}):S.map((I,z)=>i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},children:i.jsx(E,{booking:I})},I.id))}),i.jsx(ga,{value:"confirmed",className:"mt-4 space-y-3",children:k.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(ha,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"   "})]}):k.map((I,z)=>i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},children:i.jsx(E,{booking:I})},I.id))}),i.jsx(ga,{value:"completed",className:"mt-4 space-y-3",children:C.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(HT,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"   "})]}):C.map((I,z)=>i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},children:i.jsx(E,{booking:I})},I.id))})]}),i.jsx(ql,{open:s,onOpenChange:o,children:i.jsxs(No,{dir:"rtl",children:[i.jsxs(So,{children:[i.jsx(ko,{children:"  "}),i.jsx(Eo,{children:"                ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{className:"bg-red-500 hover:bg-red-600",onClick:j,children:" "})]})]})}),i.jsx(Un,{open:l,onOpenChange:c,children:i.jsxs(Rn,{dir:"rtl",className:"sm:max-w-md",children:[i.jsxs(Vn,{children:[i.jsxs(Hn,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-primary"}),"  "]}),i.jsx(Cc,{children:"        "})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold",children:((P=u==null?void 0:u.service_packages)==null?void 0:P.name_ar)||""}),i.jsx(un,{className:"w-5 h-5 text-muted-foreground"})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:fe(new Date((u==null?void 0:u.booking_date)||new Date),"d MMMM yyyy",{locale:Je})}),i.jsx(nu,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-primary",children:[(F=u==null?void 0:u.total_price)==null?void 0:F.toLocaleString()," ."]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"discount",className:"text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"discount",type:"number",min:5,max:50,value:f,onChange:I=>h(Number(I.target.value)),className:"pl-10 text-right"}),i.jsx(DB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:["  : ",(((u==null?void 0:u.total_price)||0)*(1-f/100)).toLocaleString()," ."]})]})]}),i.jsxs(Wn,{className:"flex-row-reverse gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>c(!1),children:""}),i.jsx(K,{onClick:_,disabled:w.isPending,className:"gold-gradient",children:w.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(sf,{className:"w-4 h-4 ml-2"})," "]})})]})]})})]})}function W9e(){const{user:e,role:t}=at(),{toast:r}=Ke(),[n,a]=p.useState(null),[s,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState("month"),[f,h]=p.useState([]),[m,v]=p.useState([]),g=["","","","","","",""],x=p.useCallback(()=>{r({title:"  !",description:"     -   ",duration:5e3}),y()},[]);LH({hallIds:f,onNewBooking:x}),AY({providerIds:m,onNewBooking:x}),p.useEffect(()=>{e&&t&&y()},[e,t,u]);const b=()=>{const E=new Date;let P,F,I;switch(u){case"week":P=new Date(E),P.setDate(E.getDate()-7),F=new Date(E),F.setDate(E.getDate()-14),I=new Date(E),I.setDate(E.getDate()-7);break;case"year":P=new Date(E.getFullYear(),0,1),F=new Date(E.getFullYear()-1,0,1),I=new Date(E.getFullYear()-1,11,31);break;case"month":default:P=new Date(E.getFullYear(),E.getMonth(),1),F=new Date(E.getFullYear(),E.getMonth()-1,1),I=new Date(E.getFullYear(),E.getMonth(),0);break}return{startDate:P,previousStartDate:F,previousEndDate:I}},y=async()=>{if(e)try{const E=new Date,{startDate:P,previousStartDate:F,previousEndDate:I}=b(),z=new Date(E);z.setDate(E.getDate()-E.getDay()),z.setHours(0,0,0,0);let O=0,$=0,D=0,T=0,U=0,R=0,M={0:0,1:0,2:0,3:0,4:0,5:0,6:0};if(t==="hall_owner"){const{data:J}=await W.from("halls").select("id").eq("owner_id",e.id);if(J&&J.length>0){const Y=J.map(ee=>ee.id);h(Y);const{data:te}=await W.from("hall_bookings").select("id, total_price, status, created_at, booking_date").in("hall_id",Y);te&&(O=te.filter(ee=>new Date(ee.created_at)>=P).length,$=te.filter(ee=>ee.status==="accepted"&&new Date(ee.created_at)>=P).reduce((ee,G)=>ee+(G.total_price||0),0),T=te.filter(ee=>ee.status==="pending").length,te.forEach(ee=>{const G=new Date(ee.booking_date);if(G>=z){const _e=G.getDay();M[_e]=(M[_e]||0)+1}}),R=te.filter(ee=>{const G=new Date(ee.created_at);return G>=F&&G<=I}).length,U=te.filter(ee=>{const G=new Date(ee.created_at);return ee.status==="accepted"&&G>=F&&G<=I}).reduce((ee,G)=>ee+(G.total_price||0),0));let Z=0,ne=0;for(const ee of Y){const{data:G}=await W.rpc("get_hall_rating",{hall_uuid:ee});G&&G[0]&&(Z+=Number(G[0].average_rating)*Number(G[0].reviews_count),ne+=Number(G[0].reviews_count))}D=ne>0?Z/ne:0}}else if(t==="service_provider"){const{data:J}=await W.from("service_providers").select("id, rating, reviews_count").eq("owner_id",e.id);if(J&&J.length>0){const Y=J.map(ee=>ee.id);v(Y);const{data:te}=await W.from("service_bookings").select("id, total_price, status, created_at, booking_date").in("provider_id",Y);te&&(O=te.filter(ee=>new Date(ee.created_at)>=P).length,$=te.filter(ee=>(ee.status==="confirmed"||ee.status==="completed")&&new Date(ee.created_at)>=P).reduce((ee,G)=>ee+(G.total_price||0),0),T=te.filter(ee=>ee.status==="pending").length,te.forEach(ee=>{const G=new Date(ee.booking_date);if(G>=z){const _e=G.getDay();M[_e]=(M[_e]||0)+1}}),R=te.filter(ee=>{const G=new Date(ee.created_at);return G>=F&&G<=I}).length,U=te.filter(ee=>{const G=new Date(ee.created_at);return(ee.status==="confirmed"||ee.status==="completed")&&G>=F&&G<=I}).reduce((ee,G)=>ee+(G.total_price||0),0));let Z=0,ne=0;J.forEach(ee=>{ee.rating&&ee.reviews_count&&(Z+=Number(ee.rating)*Number(ee.reviews_count),ne+=Number(ee.reviews_count))}),D=ne>0?Z/ne:0}}else if(t==="dress_seller"){const{data:J}=await W.from("dresses").select("id, price, is_sold, is_active, created_at").eq("seller_id",e.id);J&&(O=J.filter(Y=>Y.is_sold).length,$=J.filter(Y=>Y.is_sold).reduce((Y,te)=>Y+(te.price||0),0),T=J.filter(Y=>!Y.is_sold&&Y.is_active!==!1).length)}const B=U>0?($-U)/U*100:$>0?100:0,V=R>0?(O-R)/R*100:O>0?100:0;a({newBookings:O,totalRevenue:$,averageRating:Math.round(D*10)/10,pendingBookings:T,revenueChange:Math.round(B),bookingsChange:Math.round(V)});const q=g.map((J,Y)=>({day:J,bookings:M[Y]||0}));o(q)}catch(E){console.error("Error fetching stats:",E)}finally{c(!1)}},w=E=>new Intl.NumberFormat("ar-SA",{style:"decimal",maximumFractionDigits:0}).format(E)+" .",j=E=>E>0?i.jsx(uf,{className:"w-3 h-3 text-green-500"}):E<0?i.jsx(hee,{className:"w-3 h-3 text-red-500"}):null,_=E=>E>0?"text-green-500":E<0?"text-red-500":"text-muted-foreground",N=()=>t==="dress_seller"?" ":" ",S=()=>t==="dress_seller"?" ":" ";if(l)return i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[1,2,3,4].map(E=>i.jsx(Vt,{className:"h-24 rounded-xl"},E))});if(!n)return null;const k=[{icon:Lg,label:S(),value:n.newBookings.toString(),change:n.bookingsChange,gradient:"from-blue-500 to-cyan-500"},{icon:of,label:"",value:w(n.totalRevenue),change:n.revenueChange,gradient:"from-green-500 to-emerald-500"},{icon:Zr,label:"",value:n.averageRating>0?n.averageRating.toString():"-",suffix:n.averageRating>0?"/5":"",gradient:"from-amber-500 to-yellow-500"},{icon:Ra,label:N(),value:n.pendingBookings.toString(),gradient:"from-purple-500 to-violet-500"}],C=s.some(E=>E.bookings>0),A=()=>{switch(u){case"week":return" ";case"year":return" ";default:return" "}};return i.jsxs("div",{className:"space-y-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-arabic text-sm text-muted-foreground",children:A()})]}),i.jsxs(jn,{value:u,onValueChange:E=>d(E),children:[i.jsx(dn,{className:"w-28 h-8 text-sm",children:i.jsx(_n,{})}),i.jsxs(fn,{children:[i.jsx(ut,{value:"week",children:""}),i.jsx(ut,{value:"month",children:""}),i.jsx(ut,{value:"year",children:""})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map((E,P)=>i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"bg-card rounded-xl p-4 border border-border/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${E.gradient} flex items-center justify-center`,children:i.jsx(E.icon,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"font-arabic text-xs text-muted-foreground",children:E.label})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-display text-xl font-bold text-foreground",children:E.value}),E.suffix&&i.jsx("span",{className:"text-sm text-muted-foreground",children:E.suffix})]}),E.change!==void 0&&E.change!==0&&i.jsxs("div",{className:`flex items-center gap-0.5 text-xs ${_(E.change)}`,children:[j(E.change),i.jsxs("span",{children:[Math.abs(E.change),"%"]})]})]})]},E.label))}),t!=="dress_seller"&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-xl p-4 border border-border/50 shadow-sm",children:[i.jsx("h4",{className:"font-arabic text-sm font-medium text-foreground mb-3 text-right",children:"   "}),C?i.jsx("div",{className:"h-32",dir:"ltr",children:i.jsx(Kc,{width:"100%",height:"100%",children:i.jsxs(bO,{data:s,margin:{top:5,right:5,left:-20,bottom:5},children:[i.jsx(Pi,{dataKey:"day",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),i.jsx(Oi,{tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,allowDecimals:!1}),i.jsx(On,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:E=>[`${E} `,""],labelFormatter:E=>E}),i.jsx(Ro,{dataKey:"bookings",fill:"url(#barGradient)",radius:[4,4,0,0]}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),i.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary) / 0.6)"})]})})]})})}):i.jsx("div",{className:"h-32 flex items-center justify-center",children:i.jsx("p",{className:"font-arabic text-sm text-muted-foreground",children:"    "})})]})]})}const H9e={hall_owner:{welcomeMessage:"    ",features:[{icon:cn,title:" ",description:"      "},{icon:qt,title:" ",description:"     "},{icon:Bg,title:" ",description:"    "},{icon:os,title:" ",description:"      "}]},service_provider:{welcomeMessage:"    ",features:[{icon:Ot,title:" ",description:"     "},{icon:Fg,title:" ",description:"      "},{icon:qt,title:" ",description:"     "},{icon:Zr,title:" ",description:"     "}]},dress_seller:{welcomeMessage:"    ",features:[{icon:hs,title:" ",description:"     "},{icon:Ks,title:" ",description:"    "},{icon:Xr,title:" ",description:"    "},{icon:os,title:" ",description:"     "}]}},q9e=({onComplete:e,vendorType:t})=>{const[r,n]=p.useState(0),{welcomeMessage:a,features:s}=H9e[t],o=()=>{r<s.length-1?n(r+1):e()},l=()=>{e()};return i.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",dir:"rtl",children:[i.jsxs("div",{className:"p-4 flex justify-between items-center",children:[i.jsx(K,{variant:"ghost",onClick:l,className:"text-muted-foreground",children:""}),i.jsx("div",{className:"flex gap-1.5",children:s.map((c,u)=>i.jsx(X.div,{className:`h-1.5 rounded-full transition-all duration-300 ${u===r?"w-6 bg-primary":u<r?"w-1.5 bg-primary/50":"w-1.5 bg-muted"}`},u))})]}),i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:i.jsx(Lt,{mode:"wait",children:i.jsxs(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"flex flex-col items-center text-center max-w-sm",children:[r===0&&i.jsxs(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full gold-gradient flex items-center justify-center mb-4 mx-auto",children:i.jsx(yi,{className:"w-12 h-12 text-white"})}),i.jsx("h1",{className:"font-display text-3xl font-bold text-foreground mb-3",children:" ! "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-lg",children:a})]}),i.jsx("div",{className:"w-20 h-20 rounded-2xl gold-gradient flex items-center justify-center mb-6",children:(()=>{const c=s[r].icon;return i.jsx(c,{className:"w-10 h-10 text-white"})})()}),i.jsx("h2",{className:"font-display text-2xl font-bold text-foreground mb-3",children:s[r].title}),i.jsx("p",{className:"text-muted-foreground font-arabic text-base leading-relaxed",children:s[r].description})]},r)})}),i.jsx("div",{className:"p-6 pb-8",children:i.jsx(K,{onClick:o,className:"w-full gold-gradient text-white py-6 rounded-xl text-lg font-bold",children:r<s.length-1?i.jsxs("span",{className:"flex items-center gap-2",children:["",i.jsx(Ib,{className:"w-5 h-5"})]}):i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(sf,{className:"w-5 h-5"})," "]})})})]})},K9e=[{id:"analytics",icon:Bg,label:""},{id:"bookings",icon:Lg,label:""},{id:"dashboard",icon:zg,label:""},{id:"calendar",icon:nu,label:""},{id:"halls",icon:cn,label:""}],G9e=[{id:"analytics",icon:Bg,label:""},{id:"bookings",icon:Lg,label:""},{id:"dashboard",icon:zg,label:""},{id:"calendar",icon:nu,label:""},{id:"services",icon:un,label:""}],Y9e=[{id:"analytics",icon:Bg,label:""},{id:"dashboard",icon:zg,label:""},{id:"dresses",icon:hs,label:""}];function X9e({role:e,activeView:t,onViewChange:r}){const a=(()=>{switch(e){case"hall_owner":return K9e;case"service_provider":return G9e;case"dress_seller":return Y9e;default:return[]}})();return i.jsx("nav",{className:"fixed bottom-6 left-4 right-4 z-50",children:i.jsx("div",{className:"bg-card/95 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl max-w-lg mx-auto px-2 py-3",children:i.jsx("div",{className:"flex items-end justify-between relative",children:a.map(s=>{const o=s.icon,l=t===s.id;return s.id==="dashboard"?i.jsxs("div",{className:"relative -top-10 px-2",children:[i.jsx("button",{onClick:()=>r(s.id),className:`flex items-center justify-center w-16 h-16 rounded-full shadow-2xl transition-all duration-300 border-4 border-card ${l?"bg-primary text-primary-foreground scale-110 shadow-primary/50":"bg-muted text-muted-foreground hover:bg-primary/20"}`,children:i.jsx(o,{className:"w-8 h-8"})}),i.jsx("span",{className:`absolute -bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-bold whitespace-nowrap ${l?"text-primary":"text-muted-foreground"}`,children:s.label})]},s.id):i.jsxs("button",{onClick:()=>r(s.id),className:"flex-1 flex flex-col items-center gap-1 py-1 transition-all duration-300 group",children:[i.jsx("div",{className:"relative p-1",children:i.jsx(X.div,{animate:{scale:l?1.2:1,y:l?-2:0},className:`${l?"text-primary":"text-muted-foreground group-hover:text-primary/70"}`,children:i.jsx(o,{className:"w-6 h-6"})})}),i.jsx("span",{className:`text-[9px] font-medium ${l?"text-primary":"text-muted-foreground"}`,children:s.label})]},s.id)})})})})}function PY({initialSection:e}){const{user:t,role:r,signOut:n}=at(),{toast:a}=Ke(),[s,o]=p.useState(!0),[l,c]=p.useState("dashboard"),[u,d]=p.useState(!1),f=async()=>{try{await n(),a({title:"  ",description:" !"}),window.location.href="/"}catch{a({title:"",description:"    ",variant:"destructive"})}};p.useEffect(()=>{(async()=>{if(!(!t||!r)){if(e){c(e==="bookings"||e==="service-bookings"?"bookings":"dashboard"),o(!1);return}if(r==="hall_owner"||r==="service_provider"||r==="dress_seller")try{const{data:b,error:y}=await W.from("profiles").select("vendor_welcome_seen").eq("id",t.id).maybeSingle();y?console.error("Error checking welcome status:",y):b!=null&&b.vendor_welcome_seen||d(!0)}catch(b){console.error("Error:",b)}o(!1)}})()},[t,r,e]);const h=async()=>{if(t)try{await W.from("profiles").update({vendor_welcome_seen:!0}).eq("id",t.id)}catch(x){console.error("Error updating welcome status:",x)}d(!1)};if(s)return i.jsx("div",{className:"p-4 flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})});if(u&&(r==="hall_owner"||r==="service_provider"||r==="dress_seller"))return i.jsx(q9e,{onComplete:h,vendorType:r});const m=()=>{if(r==="hall_owner")switch(l){case"halls":return i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pb-24",children:i.jsx(iI,{initialTab:"halls"})},"halls");case"bookings":return i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pb-24",children:i.jsx(iI,{initialTab:"bookings"})},"bookings");case"calendar":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(tC,{type:"hall"})]},"calendar");case"analytics":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(M_,{})]},"analytics");default:return v()}if(r==="service_provider")switch(l){case"services":return i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pb-24",children:i.jsx(Gje,{})},"services");case"bookings":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(V9e,{})]},"bookings");case"calendar":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(tC,{type:"service"})]},"calendar");case"analytics":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(M_,{})]},"analytics");default:return v()}if(r==="dress_seller")switch(l){case"dresses":return i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pb-24",children:i.jsx(Jje,{})},"dresses");case"analytics":return i.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"px-4 pb-24",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-4 text-right pt-4",children:" "}),i.jsx(M_,{})]},"analytics");default:return v()}return v()},v=()=>i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-6 pb-24",children:[i.jsx(W9e,{}),i.jsxs("div",{className:"card-luxe rounded-xl p-5 text-center",children:[i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-2",children:"    "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"      "})]}),i.jsxs(X.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},onClick:f,className:"w-full bg-destructive/10 rounded-xl p-4 flex items-center justify-between hover:bg-destructive/20 transition-colors",children:[i.jsx("div",{className:"w-5 h-5"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-destructive font-medium",children:" "}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center",children:i.jsx(TB,{className:"w-5 h-5 text-destructive"})})]})]})]},"dashboard"),g=r;return["hall_owner","service_provider","dress_seller"].includes(r||"")?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(Lt,{mode:"wait",children:m()}),i.jsx(X9e,{role:g,activeView:l,onViewChange:c})]}):i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground font-arabic",children:"   "})})}function Z9e({open:e,onOpenChange:t,hallId:r,hallName:n,bookingId:a,existingReview:s,onSuccess:o}){const[l,c]=p.useState((s==null?void 0:s.rating)||0),[u,d]=p.useState(0),[f,h]=p.useState((s==null?void 0:s.comment)||""),[m,v]=p.useState(!1),{toast:g}=Ke(),{user:x}=at(),b=async()=>{if(!x){g({title:"  ",description:"    ",variant:"destructive"});return}if(l===0){g({title:" ",description:"   ",variant:"destructive"});return}v(!0);try{if(s){const{error:j}=await W.from("hall_reviews").update({rating:l,comment:f.trim()||null,updated_at:new Date().toISOString()}).eq("id",s.id);if(j)throw j;g({title:"  ",description:"  "})}else{const{error:j}=await W.from("hall_reviews").insert({hall_id:r,user_id:x.id,booking_id:a||null,rating:l,comment:f.trim()||null});if(j){if(j.code==="23505"){g({title:"     ",description:"   ",variant:"destructive"});return}throw j}g({title:"  ",description:"  "})}o(),t(!1),y()}catch(j){console.error("Error submitting review:",j),g({title:" ",description:"  ",variant:"destructive"})}finally{v(!1)}},y=()=>{c(0),h("")},w=u||l;return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsx(kt,{side:"bottom",className:"h-auto rounded-t-3xl p-0",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>t(!1),children:i.jsx(Tt,{className:"w-5 h-5"})}),i.jsx(Kt,{className:"font-display text-lg",children:s?" ":" "})]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:""}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground",children:n})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(j=>i.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:()=>d(j),onMouseLeave:()=>d(0),onClick:()=>c(j),className:"p-1",children:i.jsx(Zr,{className:`w-10 h-10 transition-colors ${j<=w?"text-amber-500 fill-amber-500":"text-muted-foreground/30"}`})},j))}),i.jsx("div",{className:"text-center mb-6",children:i.jsxs("p",{className:"font-arabic text-sm text-muted-foreground",children:[w===0&&"   ",w===1&&" ",w===2&&"",w===3&&"",w===4&&"",w===5&&""]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Sn,{placeholder:"    ... ()",value:f,onChange:j=>h(j.target.value),className:"min-h-[120px] text-right resize-none",maxLength:500,dir:"rtl"}),i.jsxs("p",{className:"text-xs text-muted-foreground text-left mt-1",children:[f.length,"/500"]})]}),i.jsx(K,{className:"w-full",size:"lg",onClick:b,disabled:m||l===0,children:m?" ...":s?" ":" "})]})})})}function Q9e(){var I,z;const{user:e}=at(),{toast:t}=Ke(),r=Mi(),[n,a]=p.useState(null),[s,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState({}),[m,v]=p.useState({}),{data:g=[],isLoading:x}=Bn({queryKey:["my-hall-bookings",e==null?void 0:e.id],queryFn:async()=>{const{data:O,error:$}=await W.from("hall_bookings").select("*, halls (*)").eq("user_id",e.id).order("created_at",{ascending:!1});if($)throw $;return O},enabled:!!e}),{data:b=[],isLoading:y}=Bn({queryKey:["my-service-bookings",e==null?void 0:e.id],queryFn:async()=>{const{data:O,error:$}=await W.from("service_bookings").select(`
          *,
          service_providers (name_ar, city, owner_id),
          service_packages (name_ar)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if($)throw $;return O},enabled:!!e}),{data:w=[]}=Bn({queryKey:["user-service-reviews",e==null?void 0:e.id],queryFn:async()=>{const{data:O,error:$}=await W.from("service_provider_reviews").select("id, provider_id, rating, comment").eq("user_id",e.id);if($)throw $;return O},enabled:!!e}),{data:j=[]}=Bn({queryKey:["user-hall-reviews",e==null?void 0:e.id],queryFn:async()=>{const{data:O,error:$}=await W.from("hall_reviews").select("id, hall_id, rating, comment").eq("user_id",e.id);if($)throw $;return O},enabled:!!e}),_=hf({mutationFn:async O=>{const{error:$}=await W.from("service_bookings").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",O).eq("user_id",e.id);if($)throw $},onSuccess:()=>{r.invalidateQueries({queryKey:["my-service-bookings"]}),t({title:" ",description:"   "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),N=O=>{switch(O){case"pending":return i.jsxs(Ce,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:[i.jsx(Ra,{className:"w-3 h-3 ml-1"})," "]});case"accepted":return i.jsxs(Ce,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/30",children:[i.jsx(ha,{className:"w-3 h-3 ml-1"}),""]});case"rejected":return i.jsxs(Ce,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:[i.jsx(ro,{className:"w-3 h-3 ml-1"}),""]});case"cancelled":return i.jsx(Ce,{variant:"outline",className:"bg-gray-500/10 text-gray-600 border-gray-500/30",children:""});default:return null}},S=O=>{switch(O){case"pending":return i.jsxs(Ce,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:[i.jsx(Ra,{className:"w-3 h-3 ml-1"})," "]});case"confirmed":return i.jsxs(Ce,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/30",children:[i.jsx(ha,{className:"w-3 h-3 ml-1"}),""]});case"completed":return i.jsxs(Ce,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:[i.jsx(ha,{className:"w-3 h-3 ml-1"}),""]});case"cancelled":return i.jsx(Ce,{variant:"outline",className:"bg-gray-500/10 text-gray-600 border-gray-500/30",children:""});default:return i.jsx(Ce,{variant:"outline",children:O})}},k=O=>{switch(O){case"pending":return"      ";case"accepted":return"  !     ";case"rejected":return"       ";case"cancelled":return"   ";default:return""}},C=O=>{switch(O){case"pending":return"      ";case"confirmed":return"  !      ";case"completed":return"    ";case"cancelled":return"   ";default:return""}};if(x||y)return i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(ve,{className:"w-6 h-6 text-primary animate-spin"})});const E=g.length>0,P=b.length>0;return!E&&!P?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:i.jsx(qt,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-display text-lg font-bold text-foreground mb-1",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"     "})]}):i.jsxs(i.Fragment,{children:[i.jsxs(fv,{defaultValue:P?"services":"halls",className:"w-full",dir:"rtl",children:[i.jsxs(xh,{className:"grid w-full grid-cols-2 mb-4",children:[i.jsxs(pa,{value:"services",className:"relative",children:[i.jsx(un,{className:"w-4 h-4 ml-1"}),"",b.length>0&&i.jsx("span",{className:"mr-2 text-xs bg-primary/20 px-1.5 py-0.5 rounded-full",children:b.length})]}),i.jsxs(pa,{value:"halls",className:"relative",children:[i.jsx(cn,{className:"w-4 h-4 ml-1"}),"",g.length>0&&i.jsx("span",{className:"mr-2 text-xs bg-primary/20 px-1.5 py-0.5 rounded-full",children:g.length})]})]}),i.jsx(ga,{value:"services",className:"space-y-3",children:b.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(un,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),i.jsx("p",{className:"text-muted-foreground",children:"   "})]}):b.map((O,$)=>{var D,T,U,R;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"card-luxe rounded-xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>a(n===O.id?null:O.id),className:"w-full p-4 text-right",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[S(O.status),i.jsx(Ml,{className:`w-4 h-4 text-muted-foreground transition-transform ${n===O.id?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("h3",{className:"font-display font-bold text-foreground",children:((D=O.service_providers)==null?void 0:D.name_ar)||" "}),i.jsx(un,{className:"w-4 h-4 text-primary"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground justify-end",children:[i.jsx("span",{children:(T=O.service_providers)==null?void 0:T.city}),i.jsx(wr,{className:"w-3 h-3"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/50",children:[i.jsxs("span",{className:"font-bold text-primary",children:[(U=O.total_price)==null?void 0:U.toLocaleString()," ."]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx("span",{children:fe(new Date(O.booking_date),"d MMMM yyyy",{locale:Je})}),i.jsx(qt,{className:"w-4 h-4"})]})]})]}),i.jsx(Lt,{children:n===O.id&&i.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[i.jsx("div",{className:"h-px bg-border"}),O.service_packages&&i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-sm font-medium",children:O.service_packages.name_ar}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),O.notes&&i.jsx("div",{className:"bg-muted/50 rounded-xl p-3 text-right",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:O.notes})}),i.jsx("div",{className:`rounded-xl p-3 text-center text-sm ${O.status==="confirmed"?"bg-green-500/10 text-green-700":O.status==="cancelled"?"bg-gray-500/10 text-gray-700":O.status==="completed"?"bg-blue-500/10 text-blue-700":O.status==="pending"?"bg-amber-500/10 text-amber-700":"bg-muted text-muted-foreground"}`,children:C(O.status)}),O.status==="confirmed"&&((R=O.service_providers)==null?void 0:R.owner_id)&&i.jsxs(K,{variant:"default",className:"w-full",onClick:()=>o({ownerId:O.service_providers.owner_id,providerId:O.provider_id}),children:[i.jsx(Xr,{className:"w-4 h-4 ml-2"}),"   "]}),O.status==="completed"&&i.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>c(O),children:[i.jsx(Zr,{className:"w-4 h-4 ml-2"}),w.find(M=>M.provider_id===O.provider_id)?" ":" "]}),(O.status==="pending"||O.status==="confirmed")&&i.jsxs(ql,{children:[i.jsx(Jye,{asChild:!0,children:i.jsxs(K,{variant:"outline",className:"w-full text-destructive hover:text-destructive",children:[i.jsx(ro,{className:"w-4 h-4 ml-2"})," "]})}),i.jsxs(No,{children:[i.jsxs(So,{children:[i.jsx(ko,{className:"text-right",children:" "}),i.jsx(Eo,{className:"text-right",children:"            ."})]}),i.jsxs(Co,{className:"flex-row-reverse gap-2",children:[i.jsx(Po,{children:""}),i.jsx(Ao,{onClick:()=>_.mutate(O.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:_.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):" "})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[" : ",fe(new Date(O.created_at),"d MMM yyyy",{locale:Je})]}),i.jsx(Ra,{className:"w-3 h-3"})]})]})})})]},O.id)})}),i.jsx(ga,{value:"halls",className:"space-y-3",children:g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(cn,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),i.jsx("p",{className:"text-muted-foreground",children:"   "})]}):g.map((O,$)=>{var D,T,U,R;return i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"card-luxe rounded-xl overflow-hidden",children:[i.jsxs("button",{onClick:()=>a(n===O.id?null:O.id),className:"w-full p-4 text-right",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[N(O.status),i.jsx(Ml,{className:`w-4 h-4 text-muted-foreground transition-transform ${n===O.id?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx("h3",{className:"font-display font-bold text-foreground",children:((D=O.halls)==null?void 0:D.name_ar)||"  "}),i.jsx(cn,{className:"w-4 h-4 text-primary"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground justify-end",children:[i.jsx("span",{children:(T=O.halls)==null?void 0:T.city}),i.jsx(wr,{className:"w-3 h-3"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/50",children:[i.jsxs("span",{className:"font-bold text-primary",children:[(U=O.total_price)==null?void 0:U.toLocaleString()," ."]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx("span",{children:fe(new Date(O.booking_date),"d MMMM yyyy",{locale:Je})}),i.jsx(qt,{className:"w-4 h-4"})]})]})]}),i.jsx(Lt,{children:n===O.id&&i.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[i.jsx("div",{className:"h-px bg-border"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-foreground mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:O.guest_count_men||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-foreground mb-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{className:"font-bold",children:O.guest_count_women||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),i.jsx("div",{className:`rounded-xl p-3 text-center text-sm ${O.status==="accepted"?"bg-green-500/10 text-green-700":O.status==="rejected"?"bg-red-500/10 text-red-700":O.status==="pending"?"bg-amber-500/10 text-amber-700":"bg-muted text-muted-foreground"}`,children:k(O.status)}),O.status==="accepted"&&((R=O.halls)==null?void 0:R.owner_id)&&i.jsxs(K,{variant:"default",className:"w-full",onClick:()=>o({ownerId:O.halls.owner_id,hallId:O.hall_id}),children:[i.jsx(Xr,{className:"w-4 h-4 ml-2"}),"  "]}),O.status==="accepted"&&i.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>d(O),children:[i.jsx(Zr,{className:"w-4 h-4 ml-2"}),j.find(M=>M.hall_id===O.hall_id)?" ":" "]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[" : ",fe(new Date(O.created_at||""),"d MMM yyyy",{locale:Je})]}),i.jsx(Ra,{className:"w-3 h-3"})]})]})})})]},O.id)})})]}),l&&i.jsx(t9,{open:!!l,onOpenChange:O=>!O&&c(null),providerId:l.provider_id,providerName:((I=l.service_providers)==null?void 0:I.name_ar)||" ",existingReview:w.find(O=>O.provider_id===l.provider_id)||null,onSuccess:()=>{r.invalidateQueries({queryKey:["user-service-reviews"]}),c(null)}}),u&&i.jsx(Z9e,{open:!!u,onOpenChange:O=>!O&&d(null),hallId:u.hall_id,hallName:((z=u.halls)==null?void 0:z.name_ar)||"",bookingId:u.id,existingReview:j.find(O=>O.hall_id===u.hall_id)||null,onSuccess:()=>{r.invalidateQueries({queryKey:["user-hall-reviews"]}),d(null)}}),s&&i.jsx(ph,{open:!!s,onOpenChange:O=>!O&&o(null),otherUserId:s.ownerId,hallId:s.hallId,providerId:s.providerId})]})}function d3(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{n(!0);const[{count:o},{count:l},{count:c},{count:u},{count:d},{count:f},{count:h},{count:m}]=await Promise.all([W.from("profiles").select("*",{count:"exact",head:!0}),W.from("halls").select("*",{count:"exact",head:!0}),W.from("service_providers").select("*",{count:"exact",head:!0}),W.from("dresses").select("*",{count:"exact",head:!0}),W.from("hall_bookings").select("*",{count:"exact",head:!0}),W.from("service_bookings").select("*",{count:"exact",head:!0}),W.from("complaints").select("*",{count:"exact",head:!0}).eq("status","pending"),W.from("vendor_applications").select("*",{count:"exact",head:!0}).eq("status","pending")]);t({totalUsers:o||0,totalHalls:l||0,totalServices:c||0,totalDresses:u||0,totalHallBookings:d||0,totalServiceBookings:f||0,pendingComplaints:h||0,pendingApplications:m||0}),n(!1)};if(r)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})});const s=[{label:"",value:(e==null?void 0:e.totalUsers)||0,icon:Ot,color:"text-blue-500"},{label:"",value:(e==null?void 0:e.totalHalls)||0,icon:cn,color:"text-purple-500"},{label:" ",value:(e==null?void 0:e.totalServices)||0,icon:un,color:"text-green-500"},{label:"",value:(e==null?void 0:e.totalDresses)||0,icon:hs,color:"text-pink-500"},{label:" ",value:(e==null?void 0:e.totalHallBookings)||0,icon:qt,color:"text-orange-500"},{label:" ",value:(e==null?void 0:e.totalServiceBookings)||0,icon:qt,color:"text-teal-500"},{label:" ",value:(e==null?void 0:e.pendingComplaints)||0,icon:uf,color:"text-red-500"},{label:"  ",value:(e==null?void 0:e.pendingApplications)||0,icon:uf,color:"text-amber-500"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"font-display text-xl font-bold text-right",children:" "}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((o,l)=>{const c=o.icon;return i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.05},children:i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`w-10 h-10 rounded-full bg-muted flex items-center justify-center ${o.color}`,children:i.jsx(c,{className:"w-5 h-5"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold",children:o.value}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:o.label})]})]})})})},o.label)})})]})}function J9e(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState("user"),[d,f]=p.useState(null),[h,m]=p.useState(!1),{toast:v}=Ke();p.useEffect(()=>{g()},[]);const g=async()=>{n(!0);const{data:_,error:N}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(N){v({title:"",description:"   ",variant:"destructive"}),n(!1);return}const{data:S}=await W.from("user_roles").select("user_id, role"),k=new Map((S==null?void 0:S.map(A=>[A.user_id,A.role]))||[]),C=_.map(A=>({...A,role:k.get(A.id)||null}));t(C),n(!1)},x=async()=>{if(!o)return;m(!0);const{data:_}=await W.from("user_roles").select("id").eq("user_id",o.id).maybeSingle();let N;_?{error:N}=await W.from("user_roles").update({role:c}).eq("user_id",o.id):{error:N}=await W.from("user_roles").insert({user_id:o.id,role:c}),N?v({title:"",description:"   ",variant:"destructive"}):(v({title:"",description:"   "}),g()),l(null),m(!1)},b=async()=>{if(!d)return;m(!0);const{error:_}=await W.from("profiles").delete().eq("id",d.id);_?v({title:"",description:"   ",variant:"destructive"}):(v({title:"",description:"  "}),g()),f(null),m(!1)},y=_=>{switch(_){case"admin":return mp;case"hall_owner":return cn;case"service_provider":return un;case"dress_seller":return hs;default:return ya}},w=_=>{switch(_){case"admin":return"";case"hall_owner":return" ";case"service_provider":return" ";case"dress_seller":return" ";default:return""}},j=e.filter(_=>{var N,S;return((N=_.full_name)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((S=_.phone)==null?void 0:S.includes(a))});return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"   ...",value:a,onChange:_=>s(_.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",j.length," "]}),i.jsx("div",{className:"space-y-3",children:j.map(_=>{const N=y(_.role);return i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{l(_),u(_.role||"user")},children:i.jsx(Uy,{className:"w-4 h-4"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>f(_),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium font-arabic",children:_.full_name||" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:_.phone||" "}),i.jsxs(Ce,{variant:"secondary",className:"mt-1 text-xs",children:[i.jsx(N,{className:"w-3 h-3 ml-1"}),w(_.role)]})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(ya,{className:"w-5 h-5 text-primary"})})]})]})})},_.id)})}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:"  "})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",(o==null?void 0:o.full_name)||" "]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:""}),i.jsxs(jn,{value:c,onValueChange:_=>u(_),children:[i.jsx(dn,{children:i.jsx(_n,{})}),i.jsxs(fn,{children:[i.jsx(ut,{value:"user",children:" "}),i.jsx(ut,{value:"hall_owner",children:" "}),i.jsx(ut,{value:"service_provider",children:" "}),i.jsx(ut,{value:"dress_seller",children:" "}),i.jsx(ut,{value:"admin",children:""})]})]})]})]}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),i.jsx(K,{onClick:x,disabled:h,className:"gold-gradient",children:h?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})}),i.jsx(Un,{open:!!d,onOpenChange:()=>f(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['      "',d==null?void 0:d.full_name,'"']}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>f(null),children:""}),i.jsx(K,{variant:"destructive",onClick:b,disabled:h,children:h?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function eWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),{toast:d}=Ke();p.useEffect(()=>{f()},[]);const f=async()=>{n(!0);const{data:g,error:x}=await W.from("halls").select("*").order("created_at",{ascending:!1});x?d({title:"",description:"   ",variant:"destructive"}):t(g||[]),n(!1)},h=async g=>{const{error:x}=await W.from("halls").update({is_active:!g.is_active}).eq("id",g.id);x?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:g.is_active?"  ":"  "}),f())},m=async()=>{if(!o)return;u(!0);const{error:g}=await W.from("halls").delete().eq("id",o.id);g?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:"  "}),f()),l(null),u(!1)},v=e.filter(g=>{var x,b;return((x=g.name_ar)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||((b=g.city)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))});return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"   ...",value:a,onChange:g=>s(g.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",v.length," "]}),i.jsx("div",{className:"space-y-3",children:v.map(g=>i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h(g),children:g.is_active?i.jsx(Rl,{className:"w-4 h-4"}):i.jsx(uo,{className:"w-4 h-4"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>l(g),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium font-arabic",children:g.name_ar}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.city}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(Ce,{variant:g.is_active?"default":"secondary",className:"text-xs",children:g.is_active?"":""}),i.jsxs(Ce,{variant:"outline",className:"text-xs",children:[g.price_weekday," ."]})]})]}),i.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted overflow-hidden",children:g.cover_image?i.jsx("img",{src:g.cover_image,alt:"",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(cn,{className:"w-6 h-6 text-muted-foreground"})})})]})]})})},g.id))}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['      "',o==null?void 0:o.name_ar,'"']}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),i.jsx(K,{variant:"destructive",onClick:m,disabled:c,children:c?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function tWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),{toast:d}=Ke();p.useEffect(()=>{f()},[]);const f=async()=>{n(!0);const{data:x,error:b}=await W.from("service_providers").select("*").order("created_at",{ascending:!1});b?d({title:"",description:"   ",variant:"destructive"}):t(x||[]),n(!1)},h=async x=>{const{error:b}=await W.from("service_providers").update({is_active:!x.is_active}).eq("id",x.id);b?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:x.is_active?"  ":"  "}),f())},m=async()=>{if(!o)return;u(!0);const{error:x}=await W.from("service_providers").delete().eq("id",o.id);x?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:"  "}),f()),l(null),u(!1)},v=x=>({photography:"",makeup:"",hairstyle:"",henna:"",catering:"",flowers:"",singer:"/",groom:" "})[x]||x,g=e.filter(x=>{var b,y;return((b=x.name_ar)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||((y=x.city)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))});return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"   ...",value:a,onChange:x=>s(x.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",g.length,"  "]}),i.jsx("div",{className:"space-y-3",children:g.map(x=>i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h(x),children:x.is_active?i.jsx(Rl,{className:"w-4 h-4"}):i.jsx(uo,{className:"w-4 h-4"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>l(x),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium font-arabic",children:x.name_ar}),i.jsx("p",{className:"text-sm text-muted-foreground",children:x.city}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(Ce,{variant:x.is_active?"default":"secondary",className:"text-xs",children:x.is_active?"":""}),i.jsx(Ce,{variant:"outline",className:"text-xs",children:v(x.category_id)})]})]}),i.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted overflow-hidden flex items-center justify-center",children:i.jsx(un,{className:"w-6 h-6 text-muted-foreground"})})]})]})})},x.id))}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['      "',o==null?void 0:o.name_ar,'"']}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),i.jsx(K,{variant:"destructive",onClick:m,disabled:c,children:c?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function rWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),{toast:d}=Ke();p.useEffect(()=>{f()},[]);const f=async()=>{n(!0);const{data:g,error:x}=await W.from("dresses").select("*").order("created_at",{ascending:!1});x?d({title:"",description:"   ",variant:"destructive"}):t(g||[]),n(!1)},h=async g=>{const{error:x}=await W.from("dresses").update({is_active:!g.is_active}).eq("id",g.id);x?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:g.is_active?"  ":"  "}),f())},m=async()=>{if(!o)return;u(!0);const{error:g}=await W.from("dresses").delete().eq("id",o.id);g?d({title:"",description:"   ",variant:"destructive"}):(d({title:"",description:"  "}),f()),l(null),u(!1)},v=e.filter(g=>{var x,b;return((x=g.title)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||((b=g.city)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))});return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"   ...",value:a,onChange:g=>s(g.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",v.length," "]}),i.jsx("div",{className:"space-y-3",children:v.map(g=>{var x;return i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h(g),children:g.is_active?i.jsx(Rl,{className:"w-4 h-4"}):i.jsx(uo,{className:"w-4 h-4"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>l(g),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium font-arabic",children:g.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.city}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(Ce,{variant:g.is_active?"default":"secondary",className:"text-xs",children:g.is_active?"":""}),i.jsx(Ce,{variant:g.is_sold?"destructive":"outline",className:"text-xs",children:g.is_sold?"":`${g.price} .`})]})]}),i.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted overflow-hidden",children:(x=g.images)!=null&&x[0]?i.jsx("img",{src:g.images[0],alt:"",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(hs,{className:"w-6 h-6 text-muted-foreground"})})})]})]})})},g.id)})}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['      "',o==null?void 0:o.title,'"']}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),i.jsx(K,{variant:"destructive",onClick:m,disabled:c,children:c?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function nWe(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState("");Ke(),p.useEffect(()=>{c()},[]);const c=async()=>{s(!0);const{data:h}=await W.from("hall_bookings").select("*").order("booking_date",{ascending:!1}),{data:m}=await W.from("service_bookings").select("*").order("booking_date",{ascending:!1}),v=[...new Set((h==null?void 0:h.map(S=>S.hall_id))||[])],g=[...new Set((m==null?void 0:m.map(S=>S.provider_id))||[])],x=[...new Set([...(h==null?void 0:h.map(S=>S.user_id))||[],...(m==null?void 0:m.map(S=>S.user_id))||[]])],[{data:b},{data:y},{data:w}]=await Promise.all([W.from("halls").select("id, name_ar").in("id",v),W.from("service_providers").select("id, name_ar").in("id",g),W.from("profiles").select("id, full_name").in("id",x)]),j=new Map((b==null?void 0:b.map(S=>[S.id,S.name_ar]))||[]),_=new Map((y==null?void 0:y.map(S=>[S.id,S.name_ar]))||[]),N=new Map((w==null?void 0:w.map(S=>[S.id,S.full_name]))||[]);t((h||[]).map(S=>({...S,hall_name:j.get(S.hall_id)||" ",user_name:N.get(S.user_id)||" "}))),n((m||[]).map(S=>({...S,provider_name:_.get(S.provider_id)||" ",user_name:N.get(S.user_id)||" "}))),s(!1)},u=h=>{switch(h){case"pending":return i.jsx(Ce,{variant:"secondary",children:" "});case"confirmed":case"accepted":return i.jsx(Ce,{className:"bg-green-500",children:""});case"cancelled":case"rejected":return i.jsx(Ce,{variant:"destructive",children:""});case"completed":return i.jsx(Ce,{className:"bg-blue-500",children:""});default:return i.jsx(Ce,{variant:"outline",children:h})}},d=e.filter(h=>{var m,v;return((m=h.hall_name)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((v=h.user_name)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))}),f=r.filter(h=>{var m,v;return((m=h.provider_name)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((v=h.user_name)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))});return a?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"...",value:o,onChange:h=>l(h.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs(fv,{defaultValue:"halls",className:"w-full",children:[i.jsxs(xh,{className:"grid w-full grid-cols-2",children:[i.jsxs(pa,{value:"halls",className:"font-arabic",children:[i.jsx(cn,{className:"w-4 h-4 ml-2"})," (",d.length,")"]}),i.jsxs(pa,{value:"services",className:"font-arabic",children:[i.jsx(un,{className:"w-4 h-4 ml-2"})," (",f.length,")"]})]}),i.jsx(ga,{value:"halls",className:"space-y-3 mt-4",children:d.map(h=>{var m;return i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-left",children:[u(h.status),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(m=h.total_price)==null?void 0:m.toLocaleString()," ."]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium font-arabic",children:h.hall_name}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:h.user_name}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[i.jsx(qt,{className:"w-3 h-3"}),new Date(h.booking_date).toLocaleDateString("ar-SA")]})]})]})})},h.id)})}),i.jsx(ga,{value:"services",className:"space-y-3 mt-4",children:f.map(h=>{var m;return i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-left",children:[u(h.status),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(m=h.total_price)==null?void 0:m.toLocaleString()," ."]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium font-arabic",children:h.provider_name}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:h.user_name}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[i.jsx(qt,{className:"w-3 h-3"}),new Date(h.booking_date).toLocaleDateString("ar-SA")]})]})]})})},h.id)})})]})]})}function aWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState(!1),{toast:h}=Ke();p.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:b,error:y}=await W.from("complaints").select("*").order("created_at",{ascending:!1});if(y){h({title:"",description:"   ",variant:"destructive"}),n(!1);return}const w=[...new Set((b==null?void 0:b.map(N=>N.user_id))||[])],{data:j}=await W.from("profiles").select("id, full_name").in("id",w),_=new Map((j==null?void 0:j.map(N=>[N.id,N.full_name]))||[]);t((b||[]).map(N=>({...N,user_name:_.get(N.user_id)||" "}))),n(!1)},v=async()=>{if(!o||!c.trim())return;f(!0);const{error:b}=await W.from("complaints").update({admin_response:c,status:"resolved",responded_at:new Date().toISOString()}).eq("id",o.id);b?h({title:"",description:"   ",variant:"destructive"}):(h({title:"",description:"   "}),m()),l(null),u(""),f(!1)},g=b=>{switch(b){case"pending":return i.jsx(Ce,{variant:"secondary",children:""});case"resolved":return i.jsx(Ce,{className:"bg-green-500",children:" "});case"closed":return i.jsx(Ce,{variant:"outline",children:""});default:return i.jsx(Ce,{variant:"outline",children:b})}},x=e.filter(b=>{var y,w;return((y=b.subject)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||((w=b.user_name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))});return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"    ...",value:a,onChange:b=>s(b.target.value),className:"pr-10 text-right font-arabic"})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",x.length," "]}),x.length===0?i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"py-12 text-center",children:[i.jsx(cf,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:"  "})]})}):i.jsx("div",{className:"space-y-3",children:x.map(b=>i.jsx(Me,{className:"card-luxe cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{l(b),u(b.admin_response||"")},children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"text-left",children:[g(b.status),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(b.created_at).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"text-right flex-1 mr-4",children:[i.jsx("p",{className:"font-medium font-arabic",children:b.subject}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:b.user_name}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic line-clamp-2 mt-2",children:b.message})]})]})})},b.id))}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic max-w-lg",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",o==null?void 0:o.user_name]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",o&&new Date(o.created_at).toLocaleDateString("ar-SA")]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:o==null?void 0:o.subject}),i.jsx("p",{className:"text-sm mt-2 bg-muted p-3 rounded-lg",children:o==null?void 0:o.message})]}),(o==null?void 0:o.status)==="pending"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:":"}),i.jsx(Sn,{value:c,onChange:b=>u(b.target.value),placeholder:"  ...",rows:4})]}):(o==null?void 0:o.admin_response)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:":"}),i.jsx("p",{className:"text-sm bg-primary/10 p-3 rounded-lg",children:o.admin_response})]})]}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),(o==null?void 0:o.status)==="pending"&&i.jsx(K,{onClick:v,disabled:d||!c.trim(),className:"gold-gradient",children:d?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(X2,{className:"w-4 h-4 ml-2"})," "]})})]})]})})]})}function sWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState({title:"",image_url:"",link_url:"",position:"home"}),{toast:h}=Ke();p.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:y,error:w}=await W.from("advertisements").select("*").order("created_at",{ascending:!1});w?h({title:"",description:"   ",variant:"destructive"}):t(y||[]),n(!1)},v=async()=>{if(!d.title||!d.image_url){h({title:"",description:"    ",variant:"destructive"});return}u(!0);const{error:y}=await W.from("advertisements").insert({title:d.title,image_url:d.image_url,link_url:d.link_url||null,position:d.position});y?h({title:"",description:"   ",variant:"destructive"}):(h({title:"",description:"   "}),f({title:"",image_url:"",link_url:"",position:"home"}),s(!1),m()),u(!1)},g=async y=>{const{error:w}=await W.from("advertisements").update({is_active:!y.is_active}).eq("id",y.id);w?h({title:"",description:"   ",variant:"destructive"}):(h({title:"",description:y.is_active?"  ":"  "}),m())},x=async()=>{if(!o)return;u(!0);const{error:y}=await W.from("advertisements").delete().eq("id",o.id);y?h({title:"",description:"   ",variant:"destructive"}):(h({title:"",description:"  "}),m()),l(null),u(!1)},b=y=>{switch(y){case"home":return"";case"services":return"";case"halls":return"";case"dresses":return"";default:return y}};return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(K,{onClick:()=>s(!0),className:"gold-gradient",children:[i.jsx(Sr,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right font-arabic",children:[": ",e.length," "]})]}),e.length===0?i.jsx(Me,{className:"card-luxe",children:i.jsxs(He,{className:"py-12 text-center",children:[i.jsx(MB,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground font-arabic",children:"  "})]})}):i.jsx("div",{className:"space-y-3",children:e.map(y=>i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>g(y),children:y.is_active?i.jsx(Rl,{className:"w-4 h-4"}):i.jsx(uo,{className:"w-4 h-4"})}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>l(y),children:i.jsx(ma,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium font-arabic",children:y.title}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(Ce,{variant:y.is_active?"default":"secondary",className:"text-xs",children:y.is_active?"":""}),i.jsx(Ce,{variant:"outline",className:"text-xs",children:b(y.position)}),i.jsxs(Ce,{variant:"outline",className:"text-xs",children:[y.click_count||0," "]})]})]}),i.jsx("div",{className:"w-16 h-10 rounded-lg bg-muted overflow-hidden",children:y.image_url?i.jsx("img",{src:y.image_url,alt:"",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Vl,{className:"w-6 h-6 text-muted-foreground"})})})]})]})})},y.id))}),i.jsx(Un,{open:a,onOpenChange:s,children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:"  "})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:" *"}),i.jsx(ge,{value:d.title,onChange:y=>f({...d,title:y.target.value}),placeholder:" ",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"  *"}),i.jsx(ge,{value:d.image_url,onChange:y=>f({...d,image_url:y.target.value}),placeholder:"https://...",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"  ()"}),i.jsx(ge,{value:d.link_url,onChange:y=>f({...d,link_url:y.target.value}),placeholder:"https://...",dir:"ltr"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:""}),i.jsxs(jn,{value:d.position,onValueChange:y=>f({...d,position:y}),children:[i.jsx(dn,{children:i.jsx(_n,{})}),i.jsxs(fn,{children:[i.jsx(ut,{value:"home",children:" "}),i.jsx(ut,{value:"services",children:" "}),i.jsx(ut,{value:"halls",children:" "}),i.jsx(ut,{value:"dresses",children:" "})]})]})]})]}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>s(!1),children:""}),i.jsx(K,{onClick:v,disabled:c,className:"gold-gradient",children:c?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})}),i.jsx(Un,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Rn,{className:"font-arabic",dir:"rtl",children:[i.jsx(Vn,{children:i.jsx(Hn,{children:" "})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['      "',o==null?void 0:o.title,'"']}),i.jsxs(Wn,{className:"gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:""}),i.jsx(K,{variant:"destructive",onClick:x,disabled:c,children:c?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})}function iWe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState(null),{toast:o}=Ke();p.useEffect(()=>{l()},[]);const l=async()=>{n(!0);const{data:v,error:g}=await W.from("vendor_applications").select("*").order("applied_at",{ascending:!1});let x=[];if(v){const b=[...new Set(v.map(j=>j.user_id))],{data:y}=await W.from("profiles").select("id, full_name, phone").in("id",b),w=new Map((y==null?void 0:y.map(j=>[j.id,j]))||[]);x=v.map(j=>({...j,profiles:w.get(j.user_id)||null}))}g?o({title:"",description:"   ",variant:"destructive"}):t(x),n(!1)},c=async(v,g,x,b)=>{s(v);const{data:{user:y}}=await W.auth.getUser();if(!y)return;const{error:w}=await W.from("vendor_applications").update({status:b?"approved":"rejected",reviewed_at:new Date().toISOString(),reviewed_by:y.id}).eq("id",v);if(w){o({title:"",description:"   ",variant:"destructive"}),s(null);return}if(b){const{error:j}=await W.from("user_roles").update({role:x}).eq("user_id",g);if(j){o({title:"",description:"    ",variant:"destructive"}),s(null);return}}o({title:b?" ":" ",description:b?"    ":"  "}),s(null),l()},u=v=>{switch(v){case"hall_owner":return cn;case"service_provider":return un;case"dress_seller":return hs;default:return ya}},d=v=>{switch(v){case"hall_owner":return" ";case"service_provider":return" ";case"dress_seller":return" ";default:return v}},f=v=>{switch(v){case"pending":return i.jsx(Ce,{variant:"secondary",className:"font-arabic",children:" "});case"approved":return i.jsx(Ce,{className:"bg-green-500 font-arabic",children:""});case"rejected":return i.jsx(Ce,{variant:"destructive",className:"font-arabic",children:""});default:return null}};if(r)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})});const h=e.filter(v=>v.status==="pending"),m=e.filter(v=>v.status!=="pending");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-display text-lg font-bold text-foreground text-right mb-4",children:["   (",h.length,")"]}),h.length===0?i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"py-8 text-center",children:i.jsx("p",{className:"text-muted-foreground font-arabic",children:"   "})})}):i.jsx("div",{className:"space-y-4",children:h.map((v,g)=>{var b;const x=u(v.role);return i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g*.1},children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:f(v.status||"pending")}),i.jsxs("div",{className:"flex items-center gap-2 text-right",children:[i.jsxs("div",{children:[i.jsx(ia,{className:"text-base font-arabic",children:v.business_name}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic",children:((b=v.profiles)==null?void 0:b.full_name)||" "})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(x,{className:"w-5 h-5 text-primary"})})]})]})}),i.jsxs(He,{className:"space-y-4",children:[i.jsxs("div",{className:"text-right space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:new Date(v.applied_at||"").toLocaleDateString("ar-SA")}),i.jsx("span",{className:"font-arabic text-muted-foreground",children:" :"})]}),i.jsx("p",{className:"text-sm font-arabic text-primary",children:d(v.role)}),v.business_description&&i.jsx("p",{className:"text-sm text-muted-foreground font-arabic leading-relaxed",children:v.business_description})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(K,{onClick:()=>c(v.id,v.user_id,v.role,!1),variant:"outline",className:"flex-1 border-destructive text-destructive hover:bg-destructive hover:text-white",disabled:a===v.id,children:a===v.id?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:""})]})}),i.jsx(K,{onClick:()=>c(v.id,v.user_id,v.role,!0),className:"flex-1 gold-gradient text-white",disabled:a===v.id,children:a===v.id?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:""})]})})]})]})]})},v.id)})})]}),m.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-display text-lg font-bold text-foreground text-right mb-4",children:["  (",m.length,")"]}),i.jsx("div",{className:"space-y-3",children:m.map(v=>{const g=u(v.role);return i.jsx(Me,{className:"card-luxe opacity-80",children:i.jsx(He,{className:"py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f(v.status||"pending"),i.jsx("span",{className:"text-xs text-muted-foreground",children:v.reviewed_at&&new Date(v.reviewed_at).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-arabic font-medium",children:v.business_name}),i.jsx("p",{className:"text-xs text-muted-foreground font-arabic",children:d(v.role)})]}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:i.jsx(g,{className:"w-4 h-4 text-muted-foreground"})})]})]})})},v.id)})})]})]})}function oWe(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,s]=p.useState("info"),[o,l]=p.useState("all"),[c,u]=p.useState(!1),[d,f]=p.useState(0),[h,m]=p.useState([]),{toast:v}=Ke();p.useEffect(()=>{g();const y=localStorage.getItem("admin_sent_notifications");y&&m(JSON.parse(y))},[o]);const g=async()=>{let y=W.from("profiles").select("id",{count:"exact",head:!0});if(o!=="all"){const{data:j}=await W.from("user_roles").select("user_id").eq("role",o);if(j){f(j.length);return}}const{count:w}=await y;f(w||0)},x=async()=>{if(!e.trim()||!r.trim()){v({title:"",description:"   ",variant:"destructive"});return}u(!0);try{let y=[];if(o==="all"){const{data:S}=await W.from("profiles").select("id");y=(S==null?void 0:S.map(k=>k.id))||[]}else{const{data:S}=await W.from("user_roles").select("user_id").eq("role",o);y=(S==null?void 0:S.map(k=>k.user_id))||[]}if(y.length===0){v({title:"",description:"    ",variant:"destructive"}),u(!1);return}const w=y.map(S=>({user_id:S,title:e.trim(),message:r.trim(),type:a,is_read:!1})),j=100;for(let S=0;S<w.length;S+=j){const k=w.slice(S,S+j),{error:C}=await W.from("notifications").insert(k);if(C)throw C}const N=[{id:crypto.randomUUID(),title:e.trim(),message:r.trim(),type:a,recipients_count:y.length,sent_at:new Date().toISOString()},...h].slice(0,20);m(N),localStorage.setItem("admin_sent_notifications",JSON.stringify(N)),v({title:" ",description:`    ${y.length} `}),t(""),n(""),s("info")}catch(y){console.error("Error sending notifications:",y),v({title:"",description:"   ",variant:"destructive"})}u(!1)},b=y=>{switch(y){case"info":return"";case"success":return"";case"warning":return"";case"error":return"";default:return y}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsxs(ia,{className:"flex items-center gap-2 font-arabic text-right justify-end",children:[i.jsx("span",{children:"  "}),i.jsx(os,{className:"w-5 h-5 text-primary"})]})}),i.jsxs(He,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"text-right block",children:" "}),i.jsxs(jn,{value:a,onValueChange:s,children:[i.jsx(dn,{children:i.jsx(_n,{})}),i.jsxs(fn,{children:[i.jsx(ut,{value:"info",children:""}),i.jsx(ut,{value:"success",children:""}),i.jsx(ut,{value:"warning",children:""}),i.jsx(ut,{value:"error",children:" "})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"text-right block",children:""}),i.jsxs(jn,{value:o,onValueChange:y=>l(y),children:[i.jsx(dn,{children:i.jsx(_n,{})}),i.jsxs(fn,{children:[i.jsx(ut,{value:"all",children:" "}),i.jsx(ut,{value:"user",children:" "}),i.jsx(ut,{value:"hall_owner",children:" "}),i.jsx(ut,{value:"service_provider",children:" "}),i.jsx(ut,{value:"dress_seller",children:" "})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"text-right block",children:""}),i.jsx(ge,{value:e,onChange:y=>t(y.target.value),placeholder:" ",className:"text-right",dir:"rtl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"text-right block",children:""}),i.jsx(Sn,{value:r,onChange:y=>n(y.target.value),placeholder:" ...",rows:4,className:"text-right",dir:"rtl"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4",children:[i.jsxs(K,{onClick:x,disabled:c||!e.trim()||!r.trim(),className:"gold-gradient",children:[c?i.jsx(ve,{className:"w-4 h-4 animate-spin ml-2"}):i.jsx(X2,{className:"w-4 h-4 ml-2"}),i.jsx("span",{className:"font-arabic",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsxs("span",{className:"font-arabic text-sm",children:["  ",d," "]}),i.jsx(Ot,{className:"w-4 h-4"})]})]})]})]}),h.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-display text-lg font-bold text-right",children:" "}),i.jsx("div",{className:"space-y-3",children:h.map(y=>i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-left",children:[i.jsx(Ce,{variant:"outline",className:"text-xs",children:b(y.type)}),i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Ot,{className:"w-3 h-3"}),y.recipients_count]})]}),i.jsxs("div",{className:"text-right flex-1 mr-4",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx("p",{className:"font-medium font-arabic",children:y.title}),i.jsx(ha,{className:"w-4 h-4 text-green-500"})]}),i.jsx("p",{className:"text-sm text-muted-foreground font-arabic line-clamp-2 mt-1",children:y.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(y.sent_at).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})},y.id))})]})]})}const f3=["#C9902B","#8B6914","#DEB86C","#A67C21","#F5E6C8"],lWe={navigation:"",engagement:"",booking:"",search:"",auth:"",vendor:"",chat:"",favorite:""};function cWe(){const[e,t]=p.useState(!0),[r,n]=p.useState([]),[a,s]=p.useState("7d");p.useEffect(()=>{o()},[a]);const o=async()=>{t(!0);const j=a==="7d"?7:a==="30d"?30:90,_=new Date;_.setDate(_.getDate()-j);const{data:N,error:S}=await W.from("analytics_events").select("*").gte("created_at",_.toISOString()).order("created_at",{ascending:!1}).limit(1e4);!S&&N&&n(N),t(!1)},l=r.length,c=new Set(r.filter(j=>j.user_id).map(j=>j.user_id)).size,u=new Set(r.map(j=>{var _;return((_=j.event_data)==null?void 0:_.session_id)||j.id})).size,d=Object.entries(r.reduce((j,_)=>(j[_.event_category]=(j[_.event_category]||0)+1,j),{})).map(([j,_])=>({name:j,value:_,nameAr:lWe[j]||j})),f=Object.entries(r.reduce((j,_)=>{const N=_.device_type||"unknown";return j[N]=(j[N]||0)+1,j},{})).map(([j,_])=>({name:j,value:_})),h=Object.entries(r.reduce((j,_)=>{const N=_.page_path||"/";return j[N]=(j[N]||0)+1,j},{})).sort((j,_)=>_[1]-j[1]).slice(0,5).map(([j,_])=>({page:j,count:_})),m=Object.entries(r.reduce((j,_)=>{const N=new Date(_.created_at).toLocaleDateString("ar-SA");return j[N]||(j[N]={events:0,users:new Set}),j[N].events++,_.user_id&&j[N].users.add(_.user_id),j},{})).map(([j,_])=>({date:j,events:_.events,users:_.users.size})).slice(0,14).reverse(),v=Object.entries(r.reduce((j,_)=>(j[_.event_name]=(j[_.event_name]||0)+1,j),{})).sort((j,_)=>_[1]-j[1]).slice(0,10).map(([j,_])=>({name:j,count:_})),g=r.filter(j=>j.event_category==="booking").length,x=r.filter(j=>j.event_category==="favorite").length,b=r.filter(j=>j.event_category==="chat").length,y=r.filter(j=>j.event_category==="search").length,w=j=>{switch(j){case"mobile":return Q2;case"tablet":return fee;default:return ree}};return e?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"font-display text-lg font-bold",children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{variant:a==="7d"?"default":"outline",size:"sm",onClick:()=>s("7d"),className:a==="7d"?"gold-gradient":"",children:"7 "}),i.jsx(K,{variant:a==="30d"?"default":"outline",size:"sm",onClick:()=>s("30d"),className:a==="30d"?"gold-gradient":"",children:"30 "}),i.jsx(K,{variant:a==="90d"?"default":"outline",size:"sm",onClick:()=>s("90d"),className:a==="90d"?"gold-gradient":"",children:"90 "})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(uf,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold",children:l.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})})}),i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ot,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold",children:c}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})})}),i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(aee,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold",children:u}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),i.jsx(Me,{className:"card-luxe",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qt,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold",children:Math.round(l/(a==="7d"?7:a==="30d"?30:90))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"/"})]})]})})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Me,{className:"card-luxe bg-primary/5",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Lg,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-xl font-bold",children:g}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),i.jsx(Me,{className:"card-luxe bg-primary/5",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hs,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-xl font-bold",children:x}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),i.jsx(Me,{className:"card-luxe bg-primary/5",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cf,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-xl font-bold",children:b}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),i.jsx(Me,{className:"card-luxe bg-primary/5",children:i.jsx(He,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uo,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-xl font-bold",children:y}),i.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})})]}),i.jsxs(fv,{defaultValue:"overview",className:"w-full",children:[i.jsxs(xh,{className:"grid w-full grid-cols-3",children:[i.jsx(pa,{value:"overview",children:" "}),i.jsx(pa,{value:"pages",children:""}),i.jsx(pa,{value:"events",children:""})]}),i.jsxs(ga,{value:"overview",className:"space-y-6 mt-4",children:[i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"text-right font-arabic",children:" "})}),i.jsx(He,{children:i.jsx(Kc,{width:"100%",height:300,children:i.jsxs(F9e,{data:m,children:[i.jsx(bg,{strokeDasharray:"3 3"}),i.jsx(Pi,{dataKey:"date",fontSize:12}),i.jsx(Oi,{fontSize:12}),i.jsx(On,{contentStyle:{textAlign:"right",direction:"rtl"},labelStyle:{marginBottom:8}}),i.jsx(qc,{}),i.jsx(Uf,{type:"monotone",dataKey:"events",stroke:"#C9902B",strokeWidth:2,name:""}),i.jsx(Uf,{type:"monotone",dataKey:"users",stroke:"#8B6914",strokeWidth:2,name:""})]})})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"text-right font-arabic",children:" "})}),i.jsx(He,{children:i.jsx(Kc,{width:"100%",height:250,children:i.jsxs(EY,{children:[i.jsx($i,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({nameAr:j,percent:_})=>`${j} ${(_*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((j,_)=>i.jsx(yv,{fill:f3[_%f3.length]},`cell-${_}`))}),i.jsx(On,{})]})})})]}),i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"text-right font-arabic",children:" "})}),i.jsx(He,{children:i.jsx("div",{className:"space-y-4",children:f.map(j=>{const _=w(j.name),N=Math.round(j.value/l*100);return i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[N,"%"]}),i.jsx("span",{className:"text-sm font-medium capitalize",children:j.name})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${N}%`}})})]})]},j.name)})})})]})]})]}),i.jsx(ga,{value:"pages",className:"mt-4",children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"text-right font-arabic",children:"  "})}),i.jsx(He,{children:i.jsx(Kc,{width:"100%",height:300,children:i.jsxs(bO,{data:h,layout:"vertical",children:[i.jsx(bg,{strokeDasharray:"3 3"}),i.jsx(Pi,{type:"number"}),i.jsx(Oi,{dataKey:"page",type:"category",width:100,fontSize:12}),i.jsx(On,{}),i.jsx(Ro,{dataKey:"count",fill:"#C9902B",radius:[0,4,4,0]})]})})})]})}),i.jsx(ga,{value:"events",className:"mt-4",children:i.jsxs(Me,{className:"card-luxe",children:[i.jsx(sa,{children:i.jsx(ia,{className:"text-right font-arabic",children:"  "})}),i.jsx(He,{children:i.jsx("div",{className:"space-y-3",children:v.map((j,_)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:j.count.toLocaleString()}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm",children:j.name}),i.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center",children:_+1})]})]},j.name))})})]})})]})]})}function OY({onBack:e,initialSection:t}){const[r,n]=p.useState("dashboard");p.useEffect(()=>{t&&(t==="applications"?n("applications"):t==="bookings"&&n("bookings"))},[t]);const a=[{id:"dashboard",label:" ",icon:JJ},{id:"analytics",label:"",icon:Bg},{id:"users",label:"",icon:Ot},{id:"halls",label:"",icon:cn},{id:"services",label:"",icon:un},{id:"dresses",label:"",icon:hs},{id:"bookings",label:"",icon:qt},{id:"notifications",label:"",icon:os},{id:"complaints",label:"",icon:cf},{id:"ads",label:"",icon:MB},{id:"applications",label:" ",icon:WJ}],s=()=>{switch(r){case"dashboard":return i.jsx(d3,{});case"analytics":return i.jsx(cWe,{});case"users":return i.jsx(J9e,{});case"halls":return i.jsx(eWe,{});case"services":return i.jsx(tWe,{});case"dresses":return i.jsx(rWe,{});case"bookings":return i.jsx(nWe,{});case"notifications":return i.jsx(oWe,{});case"complaints":return i.jsx(aWe,{});case"ads":return i.jsx(sWe,{});case"applications":return i.jsx(iWe,{});default:return i.jsx(d3,{})}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur border-b border-border px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:e,children:i.jsx(V2,{className:"w-5 h-5"})}),i.jsx("h1",{className:"font-display text-lg font-bold",children:" "}),i.jsx("div",{className:"w-10"})]})}),i.jsx("div",{className:"overflow-x-auto border-b border-border",children:i.jsx("div",{className:"flex px-4 py-2 gap-2 min-w-max",children:a.map(o=>{const l=o.icon;return i.jsxs(K,{variant:r===o.id?"default":"ghost",size:"sm",onClick:()=>n(o.id),className:`flex items-center gap-2 ${r===o.id?"gold-gradient":""}`,children:[i.jsx(l,{className:"w-4 h-4"}),i.jsx("span",{className:"font-arabic text-sm",children:o.label})]},o.id)})})}),i.jsx("div",{className:"p-4",children:s()})]})}function Ik({open:e,onOpenChange:t,showTrigger:r=!0}){const{user:n,isVendor:a,isAdmin:s}=at(),o=Mi(),l=Js(),[c,u]=p.useState(!1),d=e!==void 0,f=d?e:c,h=S=>{t&&t(S),d||u(S)},m=S=>{if(S.is_read||w.mutate(S.id),S.reference_type&&S.reference_id)switch(h(!1),S.reference_type){case"hall_booking":l(a||s?"/?tab=vendor&section=bookings":"/?tab=profile&section=bookings");break;case"service_booking":l(a||s?"/?tab=vendor&section=service-bookings":"/?tab=profile&section=bookings");break;case"vendor_application":s&&l("/?tab=admin&section=applications");break}},v=S=>S.reference_type&&S.reference_id,{data:g=[],isLoading:x}=Bn({queryKey:["notifications",n==null?void 0:n.id],queryFn:async()=>{const{data:S,error:k}=await W.from("notifications").select("*").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(50);if(k)throw k;return S},enabled:!!(n!=null&&n.id)}),b=()=>{const S=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleVcWAXe+0NrMbTUKPYTG0s+OUQO/ecfWz5JQBraEx9TQkVADuIPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQAw==");S.volume=.5,S.play().catch(()=>{})};p.useEffect(()=>{if(!(n!=null&&n.id))return;const S=W.channel("notifications-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${n.id}`},()=>{b(),o.invalidateQueries({queryKey:["notifications",n.id]})}).subscribe();return()=>{W.removeChannel(S)}},[n==null?void 0:n.id,o]);const y=g.filter(S=>!S.is_read).length,w=hf({mutationFn:async S=>{const{error:k}=await W.from("notifications").update({is_read:!0}).eq("id",S);if(k)throw k},onSuccess:()=>{o.invalidateQueries({queryKey:["notifications"]})}}),j=hf({mutationFn:async()=>{const{error:S}=await W.from("notifications").update({is_read:!0}).eq("user_id",n.id).eq("is_read",!1);if(S)throw S},onSuccess:()=>{o.invalidateQueries({queryKey:["notifications"]})}}),_=S=>{switch(S){case"success":return i.jsx(ha,{className:"w-5 h-5 text-green-500"});case"error":return i.jsx($b,{className:"w-5 h-5 text-destructive"});case"warning":return i.jsx(IB,{className:"w-5 h-5 text-amber-500"});default:return i.jsx(QJ,{className:"w-5 h-5 text-blue-500"})}},N=(S,k)=>{if(k)return"bg-muted/30";switch(S){case"success":return"bg-green-50 dark:bg-green-950/20";case"error":return"bg-red-50 dark:bg-red-950/20";case"warning":return"bg-amber-50 dark:bg-amber-950/20";default:return"bg-blue-50 dark:bg-blue-950/20"}};return n?i.jsxs(Mt,{open:f,onOpenChange:h,children:[r&&i.jsx(Xpe,{asChild:!0,children:i.jsxs(K,{variant:"ghost",size:"icon",className:"relative",children:[i.jsx(os,{className:"w-5 h-5"}),y>0&&i.jsx(X.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-destructive text-destructive-foreground text-xs rounded-full flex items-center justify-center font-bold",children:y>9?"9+":y})]})}),i.jsxs(kt,{side:"right",className:"w-full sm:max-w-md p-0",children:[i.jsxs(ur,{className:"p-4 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>h(!1),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsxs(Kt,{className:"flex items-center gap-2",children:["",i.jsx(os,{className:"w-5 h-5"})]})]}),y>0&&i.jsx("div",{className:"flex justify-start pt-2",children:i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending,children:j.isPending?i.jsx(ve,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"w-4 h-4 ml-1"})," "]})})})]}),i.jsx(ow,{className:"h-[calc(100vh-80px)]",children:x?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):g.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center px-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(os,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-bold text-foreground mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]}):i.jsx("div",{className:"divide-y",children:i.jsx(Lt,{children:g.map((S,k)=>i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:k*.03},className:oe("p-4 cursor-pointer transition-colors hover:bg-muted/50",N(S.type,S.is_read),v(S)&&"active:scale-[0.99]"),onClick:()=>m(S),children:i.jsxs("div",{className:"flex gap-3",children:[v(S)&&i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i.jsx(Vr,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_(S.type)}),i.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("div",{className:"flex items-center gap-2",children:!S.is_read&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),i.jsx("h4",{className:oe("text-sm",S.is_read?"text-muted-foreground":"font-bold text-foreground"),children:S.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:S.message}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:_U(new Date(S.created_at),{addSuffix:!0,locale:Je})}),v(S)&&i.jsx(Ce,{variant:"outline",className:"text-xs",children:" "})]})]})]})},S.id))})})})]})]}):null}function uWe({open:e,onOpenChange:t}){const[r,n]=p.useState(!0),[a,s]=p.useState(!0),[o,l]=p.useState(!0),[c,u]=p.useState(!0),[d,f]=p.useState(!1),[h,m]=p.useState("ar"),[v,g]=p.useState("light");p.useEffect(()=>{const _=localStorage.getItem("theme"),N=localStorage.getItem("language");_&&g(_),N&&m(N),_==="dark"&&document.documentElement.classList.add("dark")},[]);const x=_=>{g(_),localStorage.setItem("theme",_),_==="dark"?document.documentElement.classList.add("dark"):_==="light"?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),bn.success("   ")},b=_=>{m(_),localStorage.setItem("language",_),bn.success(_==="ar"?"    ":"Language changed to English")},y=(_,N)=>{switch(_){case"push":n(N);break;case"email":s(N);break;case"sound":l(N);break;case"reminders":u(N);break;case"priceAlerts":f(N);break}bn.success("  ")},w=[{value:"light",label:"",icon:YT},{value:"dark",label:"",icon:nee}],j=[{value:"ar",label:"",flag:""},{value:"en",label:"English",flag:""}];return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"right",className:"w-full sm:max-w-md p-0 overflow-y-auto",children:[i.jsx(ur,{className:"p-4 border-b sticky top-0 bg-background z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(!1),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsx(Kt,{className:"font-display",children:""})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(X.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(YT,{className:"w-4 h-4 text-primary"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:""})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(_=>i.jsxs("button",{onClick:()=>x(_.value),className:`relative p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${v===_.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[i.jsx(_.icon,{className:`w-6 h-6 ${v===_.value?"text-primary":"text-muted-foreground"}`}),i.jsx("span",{className:`text-sm font-medium ${v===_.value?"text-primary":"text-foreground"}`,children:_.label}),v===_.value&&i.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 left-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(It,{className:"w-3 h-3 text-primary-foreground"})})]},_.value))})]}),i.jsx($s,{}),i.jsxs(X.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(GJ,{className:"w-4 h-4 text-primary"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:""})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(_=>i.jsxs("button",{onClick:()=>b(_.value),className:`relative p-4 rounded-xl border-2 transition-all flex items-center justify-center gap-2 ${h===_.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[i.jsx("span",{className:"text-2xl",children:_.flag}),i.jsx("span",{className:`text-sm font-medium ${h===_.value?"text-primary":"text-foreground"}`,children:_.label}),h===_.value&&i.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 left-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(It,{className:"w-3 h-3 text-primary-foreground"})})]},_.value))})]}),i.jsx($s,{}),i.jsxs(X.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(os,{className:"w-4 h-4 text-primary"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:""})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Q2,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   "})]})]}),i.jsx(Oa,{checked:r,onCheckedChange:_=>y("push",_)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lf,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   "})]})]}),i.jsx(Oa,{checked:a,onCheckedChange:_=>y("email",_)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gee,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]})]}),i.jsx(Oa,{checked:o,onCheckedChange:_=>y("sound",_)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(os,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   "})]})]}),i.jsx(Oa,{checked:c,onCheckedChange:_=>y("reminders",_)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(os,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]})]}),i.jsx(Oa,{checked:d,onCheckedChange:_=>y("priceAlerts",_)})]})]})]}),i.jsx("div",{className:"pt-4 text-center",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:" 1.0.0"})})]})]})})}const dWe=["",""," "," ","","","","","",""," ","","","","","","","",""];function fWe({open:e,onOpenChange:t}){const{user:r}=at(),n=Mi(),a=p.useRef(null),[s,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(null),[m,v]=p.useState(!1),{data:g,isLoading:x}=Bn({queryKey:["profile",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const{data:j,error:_}=await W.from("profiles").select("*").eq("id",r.id).single();if(_&&_.code!=="PGRST116")throw _;return j},enabled:!!(r!=null&&r.id)&&e});p.useEffect(()=>{var j;g?(o(g.full_name||""),c(g.phone||""),d(g.city||""),h(g.avatar_url||null)):r&&o(((j=r.user_metadata)==null?void 0:j.full_name)||"")},[g,r]);const b=hf({mutationFn:async()=>{if(!(r!=null&&r.id))throw new Error("User not authenticated");const{error:j}=await W.from("profiles").upsert({id:r.id,full_name:s.trim(),phone:l.trim(),city:u,avatar_url:f,updated_at:new Date().toISOString()});if(j)throw j},onSuccess:()=>{n.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),bn.success("   "),t(!1)},onError:j=>{console.error("Error updating profile:",j),bn.error("    ")}}),y=async j=>{var N;const _=(N=j.target.files)==null?void 0:N[0];if(!(!_||!(r!=null&&r.id))){if(!_.type.startsWith("image/")){bn.error("   ");return}if(_.size>5*1024*1024){bn.error("       5 ");return}v(!0);try{const S=_.name.split(".").pop(),k=`${r.id}/avatar.${S}`;if(f){const E=f.split("/avatars/")[1];E&&await W.storage.from("avatars").remove([E])}const{error:C}=await W.storage.from("avatars").upload(k,_,{upsert:!0});if(C)throw C;const{data:{publicUrl:A}}=W.storage.from("avatars").getPublicUrl(k);h(A),bn.success("   ")}catch(S){console.error("Error uploading avatar:",S),bn.error("    ")}finally{v(!1)}}},w=()=>{if(!s.trim()){bn.error("   ");return}b.mutate()};return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"right",className:"w-full sm:max-w-md p-0 overflow-y-auto",children:[i.jsx(ur,{className:"p-4 border-b sticky top-0 bg-background z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(!1),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsx(Kt,{className:"font-display",children:" "})]})}),x?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(ve,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-28 h-28 rounded-full bg-muted border-4 border-primary/20 overflow-hidden flex items-center justify-center",children:f?i.jsx("img",{src:f,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(ya,{className:"w-14 h-14 text-muted-foreground"})}),i.jsx("button",{onClick:()=>{var j;return(j=a.current)==null?void 0:j.click()},disabled:m,className:"absolute bottom-0 right-0 w-10 h-10 rounded-full gold-gradient flex items-center justify-center shadow-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:m?i.jsx(ve,{className:"w-5 h-5 text-white animate-spin"}):i.jsx(Fg,{className:"w-5 h-5 text-white"})}),i.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:y,className:"hidden"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2 font-arabic",children:"  "})]}),i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"flex items-center gap-2 text-right font-arabic",children:[i.jsx(ya,{className:"w-4 h-4 text-primary"})," "]}),i.jsx(ge,{value:s,onChange:j=>o(j.target.value),placeholder:"  ",className:"text-right",dir:"rtl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"flex items-center gap-2 text-right font-arabic",children:[i.jsx(G2,{className:"w-4 h-4 text-primary"})," "]}),i.jsx(ge,{value:l,onChange:j=>c(j.target.value),placeholder:"05xxxxxxxx",className:"text-right",dir:"rtl",type:"tel"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{className:"flex items-center gap-2 text-right font-arabic",children:[i.jsx(wr,{className:"w-4 h-4 text-primary"}),""]}),i.jsxs(jn,{value:u,onValueChange:d,children:[i.jsx(dn,{className:"text-right",dir:"rtl",children:i.jsx(_n,{placeholder:" "})}),i.jsx(fn,{children:dWe.map(j=>i.jsx(ut,{value:j,children:j},j))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{className:"text-right font-arabic text-muted-foreground",children:" "}),i.jsx(ge,{value:(r==null?void 0:r.email)||"",disabled:!0,className:"text-right bg-muted/50",dir:"rtl"}),i.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"    "})]})]}),i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"pt-4",children:i.jsx(K,{onClick:w,disabled:b.isPending,className:"w-full gold-gradient text-white hover:opacity-90",children:b.isPending?i.jsx(ve,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(cee,{className:"w-5 h-5 ml-2"}),i.jsx("span",{className:"font-arabic",children:" "})]})})})]})]})})}var ri="Accordion",hWe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[wO,mWe,pWe]=th(ri),[Sj]=Dr(ri,[pWe,dH]),jO=dH(),TY=L.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return i.jsx(wO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(xWe,{...s,ref:t}):i.jsx(yWe,{...a,ref:t})})});TY.displayName=ri;var[MY,gWe]=Sj(ri),[RY,vWe]=Sj(ri,{collapsible:!1}),yWe=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[l,c]=va({prop:r,defaultProp:n??"",onChange:a,caller:ri});return i.jsx(MY,{scope:e.__scopeAccordion,value:L.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:L.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(RY,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(DY,{...o,ref:t})})})}),xWe=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[o,l]=va({prop:r,defaultProp:n??[],onChange:a,caller:ri}),c=L.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=L.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(MY,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(RY,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(DY,{...s,ref:t})})})}),[bWe,Cj]=Sj(ri),DY=L.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...o}=e,l=L.useRef(null),c=Oe(l,t),u=mWe(r),f=Hl(a)==="ltr",h=le(e.onKeyDown,m=>{var k;if(!hWe.includes(m.key))return;const v=m.target,g=u().filter(C=>{var A;return!((A=C.ref.current)!=null&&A.disabled)}),x=g.findIndex(C=>C.ref.current===v),b=g.length;if(x===-1)return;m.preventDefault();let y=x;const w=0,j=b-1,_=()=>{y=x+1,y>j&&(y=w)},N=()=>{y=x-1,y<w&&(y=j)};switch(m.key){case"Home":y=w;break;case"End":y=j;break;case"ArrowRight":s==="horizontal"&&(f?_():N());break;case"ArrowDown":s==="vertical"&&_();break;case"ArrowLeft":s==="horizontal"&&(f?N():_());break;case"ArrowUp":s==="vertical"&&N();break}const S=y%b;(k=g[S].ref.current)==null||k.focus()});return i.jsx(bWe,{scope:r,disabled:n,direction:a,orientation:s,children:i.jsx(wO.Slot,{scope:r,children:i.jsx(me.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),ub="AccordionItem",[wWe,_O]=Sj(ub),IY=L.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=Cj(ub,r),o=gWe(ub,r),l=jO(r),c=ls(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return i.jsx(wWe,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(mH,{"data-orientation":s.orientation,"data-state":UY(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});IY.displayName=ub;var $Y="AccordionHeader",LY=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cj(ri,r),s=_O($Y,r);return i.jsx(me.h3,{"data-orientation":a.orientation,"data-state":UY(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});LY.displayName=$Y;var $k="AccordionTrigger",FY=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cj(ri,r),s=_O($k,r),o=vWe($k,r),l=jO(r);return i.jsx(wO.ItemSlot,{scope:r,children:i.jsx(jbe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});FY.displayName=$k;var BY="AccordionContent",zY=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cj(ri,r),s=_O(BY,r),o=jO(r);return i.jsx(_be,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});zY.displayName=BY;function UY(e){return e?"open":"closed"}var jWe=TY,_We=IY,NWe=LY,VY=FY,WY=zY;const SWe=jWe,HY=p.forwardRef(({className:e,...t},r)=>i.jsx(_We,{ref:r,className:oe("border-b",e),...t}));HY.displayName="AccordionItem";const qY=p.forwardRef(({className:e,children:t,...r},n)=>i.jsx(NWe,{className:"flex",children:i.jsxs(VY,{ref:n,className:oe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Ml,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));qY.displayName=VY.displayName;const KY=p.forwardRef(({className:e,children:t,...r},n)=>i.jsx(WY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:oe("pb-4 pt-0",e),children:t})}));KY.displayName=WY.displayName;const CWe=[{category:"",icon:qt,questions:[{q:"   ",a:"             ' '   .     ."},{q:"   ",a:"  ''    (  ...)       ' '    ."},{q:"   ",a:"      ''   .            ."},{q:"   ",a:"       ''.       ."}]},{category:"",icon:W2,questions:[{q:"    ",a:"    :   ( )  Apple Pay    (  )."},{q:"  ",a:"        .      ."},{q:"  ",a:"              5-10  ."}]},{category:"",icon:Ot,questions:[{q:"   ",a:"  ' '  '  '.         ."},{q:"    ",a:"  '  '             ."},{q:"   ",a:"     '  '     .       24-48 ."}]},{category:" ",icon:mp,questions:[{q:"   ",a:"     .          ."},{q:"   ",a:"          .     ."}]}],kWe=[{icon:Xr,title:"",description:"  ",action:"https://wa.me/966500000000",buttonText:" ",color:"bg-green-500"},{icon:lf,title:" ",description:"support@zefaf.app",action:"mailto:support@zefaf.app",buttonText:" ",color:"bg-blue-500"}];function EWe({open:e,onOpenChange:t}){return i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"right",className:"w-full sm:max-w-md p-0 overflow-y-auto",children:[i.jsx(ur,{className:"p-4 border-b sticky top-0 bg-background z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(!1),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsxs(Kt,{className:"font-display flex items-center gap-2",children:[i.jsx("span",{children:" "}),i.jsx(PB,{className:"w-5 h-5 text-primary"})]})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(X.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(Xr,{className:"w-4 h-4 text-primary"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:" "})]}),i.jsx("div",{className:"space-y-3",children:kWe.map((r,n)=>i.jsxs(X.a,{href:r.action,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"flex items-center justify-between p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[i.jsxs(K,{size:"sm",variant:"outline",className:"gap-1",children:[i.jsx(q2,{className:"w-3 h-3"}),i.jsx("span",{className:"font-arabic text-xs",children:r.buttonText})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold text-sm",children:r.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r.description})]}),i.jsx("div",{className:`w-10 h-10 rounded-full ${r.color} flex items-center justify-center`,children:i.jsx(r.icon,{className:"w-5 h-5 text-white"})})]})]},r.title))})]}),i.jsxs(X.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(RJ,{className:"w-4 h-4 text-primary"})}),i.jsx("h3",{className:"font-semibold text-foreground",children:" "})]}),i.jsx("div",{className:"space-y-4",children:CWe.map((r,n)=>i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+n*.1},className:"rounded-xl border bg-card overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 border-b",children:[i.jsx(r.icon,{className:"w-4 h-4 text-primary"}),i.jsx("h4",{className:"font-semibold text-sm",children:r.category})]}),i.jsx(SWe,{type:"single",collapsible:!0,className:"px-3",children:r.questions.map((a,s)=>i.jsxs(HY,{value:`${n}-${s}`,className:"border-b-0",children:[i.jsx(qY,{className:"text-right text-sm py-3 hover:no-underline",children:i.jsx("span",{className:"text-right flex-1",children:a.q})}),i.jsx(KY,{className:"text-right text-sm text-muted-foreground pb-3 leading-relaxed",children:a.a})]},s))})]},r.category))})]}),i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center pt-4 border-t",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" 1.0.0"})]})]})]})})}function AWe(){var P;const e=Js(),{user:t,loading:r,signOut:n,isAuthenticated:a,role:s,isVendor:o,isAdmin:l}=at(),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[x,b]=p.useState(!1),[y,w]=p.useState(!1),[j,_]=p.useState(!1),[N,S]=p.useState(!1),k=[{icon:ya,label:" ",labelEn:"Profile",action:()=>_(!0)},{icon:os,label:"",labelEn:"Notifications",action:()=>b(!0)},{icon:uee,label:"",labelEn:"Settings",action:()=>w(!0)},{icon:PB,label:"",labelEn:"Help",action:()=>S(!0)}],C=async()=>{await n()},A=()=>{switch(s){case"hall_owner":return" ";case"service_provider":return" ";case"dress_seller":return" ";case"admin":return"";default:return""}},E=()=>{switch(s){case"hall_owner":return cn;case"service_provider":return un;case"dress_seller":return hs;case"admin":return mp;default:return ya}};return r?i.jsx("div",{className:"min-h-screen pb-24 flex items-center justify-center",children:i.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h&&a?i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsxs("div",{className:"gold-gradient px-4 pt-12 pb-6 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),i.jsxs("button",{onClick:()=>m(!1),className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors mb-4",children:[i.jsx("span",{className:"font-arabic text-sm",children:" "}),i.jsx(Vr,{className:"w-4 h-4 rotate-180"})]}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center relative z-10",children:[i.jsx("h1",{className:"font-display text-3xl font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-white/80 font-arabic text-sm",children:"  "})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(Q9e,{})})]}):v&&a&&l?i.jsx(OY,{onBack:()=>g(!1)}):d&&a&&o?i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsxs("div",{className:"gold-gradient px-4 pt-12 pb-6 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),i.jsxs("button",{onClick:()=>f(!1),className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors mb-4",children:[i.jsx("span",{className:"font-arabic text-sm",children:" "}),i.jsx(Vr,{className:"w-4 h-4 rotate-180"})]}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center relative z-10",children:[i.jsx("h1",{className:"font-display text-3xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-white/80 font-arabic text-sm",children:"  "})]})]}),i.jsx(PY,{})]}):i.jsxs("div",{className:"min-h-screen pb-24",children:[i.jsxs("div",{className:"gold-gradient px-4 pt-12 pb-16 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center relative z-10",children:[i.jsx("h1",{className:"font-display text-3xl font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-white/80 font-arabic text-sm",children:"  "})]})]}),i.jsx("div",{className:"px-4 -mt-10 relative z-20",children:i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-luxe rounded-2xl p-6 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center border-4 border-primary/20",children:(()=>{const F=E();return i.jsx(F,{className:"w-10 h-10 text-muted-foreground"})})()}),a?i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-1",children:((P=t==null?void 0:t.user_metadata)==null?void 0:P.full_name)||" "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-2",children:t==null?void 0:t.email}),s&&i.jsx("span",{className:"inline-block px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-arabic",children:A()})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"font-display text-xl font-bold text-foreground mb-1",children:" "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-4",children:"     "}),i.jsx(K,{onClick:()=>e("/auth"),className:"gold-gradient text-white hover:opacity-90 w-full",children:i.jsx("span",{className:"font-arabic",children:" "})})]})]})}),a&&i.jsx("div",{className:"px-4 mt-6",children:i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>m(!0),className:"w-full card-luxe rounded-xl p-4 flex items-center justify-between hover:shadow-lg transition-shadow",children:[i.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-foreground",children:""}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(qt,{className:"w-5 h-5 text-primary"})})]})]})}),a&&o&&i.jsx("div",{className:"px-4 mt-3",children:i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>f(!0),className:"w-full card-luxe rounded-xl p-4 flex items-center justify-between hover:shadow-lg transition-shadow",children:[i.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-foreground",children:"  "}),i.jsx("div",{className:"w-10 h-10 rounded-full gold-gradient flex items-center justify-center",children:i.jsx(DJ,{className:"w-5 h-5 text-white"})})]})]})}),a&&l&&i.jsx("div",{className:"px-4 mt-3",children:i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>g(!0),className:"w-full card-luxe rounded-xl p-4 flex items-center justify-between hover:shadow-lg transition-shadow border-2 border-slate-700",children:[i.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-foreground",children:" "}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center",children:i.jsx(mp,{className:"w-5 h-5 text-white"})})]})]})}),a&&s==="user"&&i.jsx("div",{className:"px-4 mt-3",children:i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>u(!0),className:"w-full card-luxe rounded-xl p-4 flex items-center justify-between hover:shadow-lg transition-shadow border-2 border-dashed border-primary/30",children:[i.jsx(Vr,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-primary font-semibold",children:"  "}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(H2,{className:"w-5 h-5 text-primary"})})]})]})}),i.jsxs("div",{className:"px-4 mt-6 space-y-3",children:[k.map((F,I)=>{const z=F.icon;return i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:I*.1},onClick:F.action,className:"w-full card-luxe rounded-xl p-4 flex items-center justify-between hover:shadow-lg transition-shadow",children:[i.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-foreground",children:F.label}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(z,{className:"w-5 h-5 text-primary"})})]})]},I)}),a&&i.jsxs(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},onClick:C,className:"w-full bg-destructive/10 rounded-xl p-4 flex items-center justify-between hover:bg-destructive/20 transition-colors",children:[i.jsx(Vr,{className:"w-5 h-5 text-destructive"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-arabic text-destructive",children:" "}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center",children:i.jsx(TB,{className:"w-5 h-5 text-destructive"})})]})]})]}),i.jsx(Obe,{open:c,onOpenChange:u}),i.jsx(Ik,{open:x,onOpenChange:b}),i.jsx(uWe,{open:y,onOpenChange:w}),i.jsx(fWe,{open:j,onOpenChange:_}),i.jsx(EWe,{open:N,onOpenChange:S})]})}const Lk=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleVcWAXe+0NrMbTUKPYTG0s+OUQO/ecfWz5JQBraEx9TQkVADuIPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQA7mDx9XQklADuYPH1dCSUAO5g8fV0JJQAw==");Lk.volume=.5;function PWe(){const{user:e}=at(),[t,r]=p.useState("default"),[n,a]=p.useState(!1);p.useEffect(()=>{"Notification"in window&&(a(!0),r(Notification.permission))},[]);const s=p.useCallback(async()=>{if(!n)return!1;try{const l=await Notification.requestPermission();return r(l),l==="granted"}catch(l){return console.error("Error requesting notification permission:",l),!1}},[n]),o=p.useCallback((l,c)=>{if(!(!n||t!=="granted"))try{Lk.currentTime=0,Lk.play().catch(()=>{});const u=new Notification(l,{icon:"/favicon.ico",badge:"/favicon.ico",dir:"rtl",lang:"ar",...c});return u.onclick=()=>{window.focus(),u.close()},setTimeout(()=>u.close(),5e3),u}catch(u){console.error("Error showing notification:",u)}},[n,t]);return p.useEffect(()=>{if(!(e!=null&&e.id)||t!=="granted")return;const l=W.channel("push-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},c=>{const u=c.new;o(u.title,{body:u.message,tag:"booking-notification"})}).subscribe();return()=>{W.removeChannel(l)}},[e==null?void 0:e.id,t,o]),{isSupported:n,permission:t,requestPermission:s,showNotification:o}}function OWe(){const{isSupported:e,permission:t,requestPermission:r}=PWe(),[n,a]=p.useState(!1),[s,o]=p.useState(!1);if(!e||t==="granted"||t==="denied"||n)return null;const l=async()=>{o(!0),await r(),o(!1)};return i.jsx(Lt,{children:i.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-16 left-4 right-4 z-50 mx-auto max-w-md",children:i.jsx("div",{className:"bg-primary text-primary-foreground rounded-xl p-4 shadow-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(os,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("h4",{className:"font-bold text-sm mb-1",children:" "}),i.jsx("p",{className:"text-xs opacity-90 mb-3",children:"       "}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-primary-foreground hover:bg-white/20",children:""}),i.jsx(K,{variant:"secondary",size:"sm",onClick:l,disabled:s,children:s?" ...":""})]})]}),i.jsx("button",{onClick:()=>a(!0),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded",children:i.jsx(Tt,{className:"w-4 h-4"})})]})})})})}function TWe({open:e,onOpenChange:t}){var g,x,b;const{user:r}=at(),{conversations:n,loading:a,fetchConversations:s}=TA(),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState([]);p.useEffect(()=>{e&&s()},[e,s]),p.useEffect(()=>{(async()=>{if(!n.length){f([]);return}const w=await Promise.all(n.map(async j=>{const{data:_}=await W.from("chat_messages").select("content, created_at").eq("conversation_id",j.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();return{...j,last_message_preview:_}}));f(w)})()},[n]);const h=y=>{var j,_;const w=y.participant_1===(r==null?void 0:r.id)?y.participant_2:y.participant_1;l({otherUserId:w,otherUserName:((j=y.other_participant)==null?void 0:j.full_name)||"",otherUserAvatar:(_=y.other_participant)==null?void 0:_.avatar_url,context:{providerId:y.provider_id||void 0,hallId:y.hall_id||void 0,dressId:y.dress_id||void 0}}),u(!0)},m=y=>{const w=new Date(y),j=new Date;if(w.toDateString()===j.toDateString())return fe(w,"h:mm a",{locale:Je});const N=new Date(j);return N.setDate(N.getDate()-1),w.toDateString()===N.toDateString()?"":fe(w,"d MMM",{locale:Je})},v=y=>y.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2);return i.jsxs(i.Fragment,{children:[i.jsx(Mt,{open:e,onOpenChange:t,children:i.jsxs(kt,{side:"bottom",className:"h-[85vh] rounded-t-3xl p-0",children:[i.jsx(ur,{className:"p-4 border-b border-border",children:i.jsxs(Kt,{className:"font-arabic text-xl flex items-center gap-2 justify-center",children:[i.jsx(Xr,{className:"w-5 h-5 text-primary"}),""]})}),i.jsx(ow,{className:"h-[calc(85vh-80px)]",children:a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:i.jsx(Xr,{className:"w-10 h-10 text-primary"})}),i.jsx("h4",{className:"font-arabic font-semibold text-lg",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"       "})]}):i.jsx("div",{className:"p-2",children:d.map((y,w)=>{var j,_,N;return i.jsxs(X.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:w*.05},onClick:()=>h(y),className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-muted/50 transition-colors text-right",children:[i.jsxs(Gx,{className:"w-12 h-12 border-2 border-primary/10",children:[i.jsx(Yx,{src:((j=y.other_participant)==null?void 0:j.avatar_url)||void 0}),i.jsx(Xx,{className:"bg-primary/10 text-primary font-arabic",children:v(((_=y.other_participant)==null?void 0:_.full_name)||"")})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h4",{className:"font-arabic font-semibold text-foreground truncate",children:((N=y.other_participant)==null?void 0:N.full_name)||""}),y.last_message_preview&&i.jsx("span",{className:"text-xs text-muted-foreground",children:m(y.last_message_preview.created_at)})]}),y.last_message_preview?i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:y.last_message_preview.content}):i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"   "})]}),i.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"})]},y.id)})})})]})}),o&&i.jsx(ph,{open:c,onOpenChange:u,otherUserId:o.otherUserId,otherUserName:o.otherUserName,otherUserAvatar:o.otherUserAvatar,providerId:(g=o.context)==null?void 0:g.providerId,hallId:(x=o.context)==null?void 0:x.hallId,dressId:(b=o.context)==null?void 0:b.dressId})]})}function MWe(){const{user:e}=at(),{getUnreadCount:t}=TA(),[r,n]=p.useState(!1),[a,s]=p.useState(0),[o,l]=p.useState(!0),c=p.useRef(0);return p.useEffect(()=>{if(e){t().then(s);const u=setInterval(()=>{t().then(s)},3e4);return()=>clearInterval(u)}},[e,t]),p.useEffect(()=>{const u=()=>{const d=window.scrollY;d>c.current&&d>100?l(!1):l(!0),c.current=d};return window.addEventListener("scroll",u,{passive:!0}),()=>window.removeEventListener("scroll",u)},[]),e?i.jsxs(i.Fragment,{children:[i.jsxs(X.button,{initial:{scale:1,opacity:1},animate:{scale:o?1:0,opacity:o?1:0,y:o?0:20},transition:{type:"spring",stiffness:200},onClick:()=>n(!0),className:"fixed bottom-28 left-4 z-40 w-11 h-11 rounded-full bg-primary text-primary-foreground shadow-lg shadow-primary/25 flex items-center justify-center hover:scale-110 transition-transform",children:[i.jsx(Xr,{className:"w-5 h-5"}),i.jsx(Lt,{children:a>0&&i.jsx(X.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-destructive text-destructive-foreground text-[10px] font-bold flex items-center justify-center",children:a>9?"9+":a})})]}),i.jsx(TWe,{open:r,onOpenChange:n})]}):null}const RWe={initial:e=>({opacity:0,x:e*60,scale:.98}),animate:{opacity:1,x:0,scale:1},exit:e=>({opacity:0,x:e*-60,scale:.98})},DWe={type:"tween",duration:.15,ease:"easeOut"},IWe=()=>{const[e,t]=ese(),[r,n]=p.useState(2),[a,s]=p.useState(null),[o,l]=p.useState(0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=p.useRef(2),{user:m,isVendor:v,isAdmin:g,loading:x,role:b}=at(),y=e.get("admin")==="true",w=e.get("tab"),j=e.get("section");p.useEffect(()=>{if(!w&&!j){v&&!c&&u(!0);return}w==="profile"?(n(4),j&&s(j)):w==="vendor"&&(v||g)?(u(!0),f(!1),j&&(s(j),l(k=>k+1))):w==="admin"&&g&&(f(!0),u(!1),j&&s(j)),t({},{replace:!0})},[w,j,v,g,t,c]);const _=k=>{h.current=r,n(k)},N=r>h.current?-1:1;if(x||y&&m&&b===null)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",dir:"rtl",children:i.jsx(ve,{className:"w-8 h-8 text-primary animate-spin"})});if((y||d)&&g)return i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:"  | "}),i.jsx("meta",{name:"description",content:"  "})]}),i.jsx(OY,{onBack:()=>window.location.href="/",initialSection:a})]});if(m&&(v||c))return i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:"  | "}),i.jsx("meta",{name:"description",content:"    -   "})]}),i.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden pb-20",dir:"rtl",children:[i.jsx(OWe,{}),i.jsx("div",{className:"fixed top-4 left-4 z-50",children:i.jsx(Ik,{})}),i.jsxs("div",{className:"p-4 pt-6",children:[i.jsx("h1",{className:"font-display text-2xl font-bold text-foreground text-right",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm text-right mt-1",children:"  "})]}),i.jsx(PY,{initialSection:a},o),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-lg border-t border-border/50 py-2 px-4 z-40",children:i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>window.location.href="/?mode=user",className:"flex flex-col items-center gap-1 px-6 py-2 rounded-xl text-muted-foreground hover:text-primary transition-colors",children:i.jsx("span",{className:"font-arabic text-xs",children:" "})})})})]})]});const S={0:i.jsx(lxe,{},"services"),1:i.jsx(ybe,{},"dresses"),2:i.jsx(Dye,{},"home"),3:i.jsx(Cbe,{},"favorites"),4:i.jsx(AWe,{},"profile")};return i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:" | Wedding Services Super-App"}),i.jsx("meta",{name:"description",content:"         .      ."})]}),i.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",dir:"rtl",children:[m&&i.jsx("div",{className:"fixed top-4 left-4 z-50",children:i.jsx(Ik,{})}),i.jsx(Lt,{mode:"wait",custom:N,children:i.jsx(X.div,{custom:N,variants:RWe,initial:"initial",animate:"animate",exit:"exit",transition:DWe,className:"will-change-transform",children:S[r]},r)}),i.jsx(MWe,{}),i.jsx(bue,{activeTab:r,setActiveTab:_})]})]})};function $We(){const e=Js();return at(),i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:"  | "}),i.jsx("meta",{name:"description",content:"  -          "})]}),i.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 gold-gradient opacity-5"}),i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNiODg2MGIiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0YzAtMiAyLTQgMi00czIgMiAyIDQtMiA0LTIgNC0yLTItMi00em0wLTEwYzAtMiAyLTQgMi00czIgMiAyIDQtMiA0LTIgNC0yLTItMi00eiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),i.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center px-6 py-12",children:[i.jsxs(X.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[i.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full gold-gradient flex items-center justify-center shadow-2xl",children:i.jsx(H2,{className:"w-12 h-12 text-white"})}),i.jsx("h1",{className:"font-display text-5xl font-bold gold-text-gradient mb-4",children:""}),i.jsx("p",{className:"text-muted-foreground font-arabic text-lg max-w-sm mx-auto",children:"        "})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"flex items-center gap-6 mb-12 text-sm text-muted-foreground font-arabic",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"w-4 h-4 text-primary"}),i.jsx("span",{children:" "})]}),i.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"w-4 h-4 text-primary"}),i.jsx("span",{children:" "})]}),i.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"w-4 h-4 text-primary"}),i.jsx("span",{children:" "})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"w-full max-w-sm space-y-4",children:[i.jsx(K,{onClick:()=>e("/auth"),className:"w-full py-6 gold-gradient text-white text-lg font-arabic shadow-xl hover:opacity-90 transition-opacity",children:"    "}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-background text-muted-foreground font-arabic",children:""})})]}),i.jsx(K,{variant:"outline",onClick:()=>e("/"),className:"w-full py-6 text-lg font-arabic border-2 hover:bg-muted/50",children:" "})]}),i.jsxs(X.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"absolute bottom-8 text-center text-sm text-muted-foreground font-arabic",children:["   "," ",i.jsx("button",{className:"text-primary hover:underline",children:" "})," ",""," ",i.jsx("button",{className:"text-primary hover:underline",children:" "})]})]})]})]})}var LWe=Object.defineProperty,FWe=Object.defineProperties,BWe=Object.getOwnPropertyDescriptors,db=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,h3=(e,t,r)=>t in e?LWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zWe=(e,t)=>{for(var r in t||(t={}))GY.call(t,r)&&h3(e,r,t[r]);if(db)for(var r of db(t))YY.call(t,r)&&h3(e,r,t[r]);return e},UWe=(e,t)=>FWe(e,BWe(t)),VWe=(e,t)=>{var r={};for(var n in e)GY.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&db)for(var n of db(e))t.indexOf(n)<0&&YY.call(e,n)&&(r[n]=e[n]);return r};function WWe(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function HWe(e){let t=p.useRef();return p.useEffect(()=>{t.current=e}),t.current}var qWe=18,XY=40,KWe=`${XY}px`,GWe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function YWe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&a&&o,[a,o,r]),f=p.useCallback(()=>{let h=e.current,m=t.current;if(!h||!m||c||r==="none")return;let v=h,g=v.getBoundingClientRect().left+v.offsetWidth,x=v.getBoundingClientRect().top+v.offsetHeight/2,b=g-qWe,y=x;document.querySelectorAll(GWe).length===0&&document.elementFromPoint(b,y)===h||(s(!0),u(!0))},[e,t,c,r]);return p.useEffect(()=>{let h=e.current;if(!h||r==="none")return;function m(){let g=window.innerWidth-h.getBoundingClientRect().right;l(g>=XY)}m();let v=setInterval(m,1e3);return()=>{clearInterval(v)}},[e,r]),p.useEffect(()=>{let h=n||document.activeElement===t.current;if(r==="none"||!h)return;let m=setTimeout(f,0),v=setTimeout(f,2e3),g=setTimeout(f,5e3),x=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(v),clearTimeout(g),clearTimeout(x)}},[t,n,r,f]),{hasPWMBadge:a,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:KWe}}var ZY=p.createContext({}),QY=p.forwardRef((e,t)=>{var r=e,{value:n,onChange:a,maxLength:s,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:h,containerClassName:m,noScriptCSSFallback:v=XWe,render:g,children:x}=r,b=VWe(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,w,j,_,N;let[S,k]=p.useState(typeof b.defaultValue=="string"?b.defaultValue:""),C=n??S,A=HWe(C),E=p.useCallback(ie=>{a==null||a(ie),k(ie)},[a]),P=p.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),F=p.useRef(null),I=p.useRef(null),z=p.useRef({value:C,onChange:E,isIOS:typeof window<"u"&&((w=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:w.call(y,"-webkit-touch-callout","none"))}),O=p.useRef({prev:[(j=F.current)==null?void 0:j.selectionStart,(_=F.current)==null?void 0:_.selectionEnd,(N=F.current)==null?void 0:N.selectionDirection]});p.useImperativeHandle(t,()=>F.current,[]),p.useEffect(()=>{let ie=F.current,he=I.current;if(!ie||!he)return;z.current.value!==ie.value&&z.current.onChange(ie.value),O.current.prev=[ie.selectionStart,ie.selectionEnd,ie.selectionDirection];function ke(){if(document.activeElement!==ie){M(null),V(null);return}let Ve=ie.selectionStart,ht=ie.selectionEnd,Rt=ie.selectionDirection,mt=ie.maxLength,At=ie.value,jr=O.current.prev,Ir=-1,Nt=-1,Dt;if(At.length!==0&&Ve!==null&&ht!==null){let be=Ve===ht,xt=Ve===At.length&&At.length<mt;if(be&&!xt){let dr=Ve;if(dr===0)Ir=0,Nt=1,Dt="forward";else if(dr===mt)Ir=dr-1,Nt=dr,Dt="backward";else if(mt>1&&At.length>1){let We=0;if(jr[0]!==null&&jr[1]!==null){Dt=dr<jr[1]?"backward":"forward";let $r=jr[0]===jr[1]&&jr[0]<mt;Dt==="backward"&&!$r&&(We=-1)}Ir=We+dr,Nt=We+dr+1}}Ir!==-1&&Nt!==-1&&Ir!==Nt&&F.current.setSelectionRange(Ir,Nt,Dt)}let Jn=Ir!==-1?Ir:Ve,ea=Nt!==-1?Nt:ht,ja=Dt??Rt;M(Jn),V(ea),O.current.prev=[Jn,ea,ja]}if(document.addEventListener("selectionchange",ke,{capture:!0}),ke(),document.activeElement===ie&&U(!0),!document.getElementById("input-otp-style")){let Ve=document.createElement("style");if(Ve.id="input-otp-style",document.head.appendChild(Ve),Ve.sheet){let ht="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";lm(Ve.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),lm(Ve.sheet,`[data-input-otp]:autofill { ${ht} }`),lm(Ve.sheet,`[data-input-otp]:-webkit-autofill { ${ht} }`),lm(Ve.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),lm(Ve.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Qe=()=>{he&&he.style.setProperty("--root-height",`${ie.clientHeight}px`)};Qe();let et=new ResizeObserver(Qe);return et.observe(ie),()=>{document.removeEventListener("selectionchange",ke,{capture:!0}),et.disconnect()}},[]);let[$,D]=p.useState(!1),[T,U]=p.useState(!1),[R,M]=p.useState(null),[B,V]=p.useState(null);p.useEffect(()=>{WWe(()=>{var ie,he,ke,Qe;(ie=F.current)==null||ie.dispatchEvent(new Event("input"));let et=(he=F.current)==null?void 0:he.selectionStart,Ve=(ke=F.current)==null?void 0:ke.selectionEnd,ht=(Qe=F.current)==null?void 0:Qe.selectionDirection;et!==null&&Ve!==null&&(M(et),V(Ve),O.current.prev=[et,Ve,ht])})},[C,T]),p.useEffect(()=>{A!==void 0&&C!==A&&A.length<s&&C.length===s&&(d==null||d(C))},[s,d,A,C]);let q=YWe({containerRef:I,inputRef:F,pushPasswordManagerStrategy:f,isFocused:T}),J=p.useCallback(ie=>{let he=ie.currentTarget.value.slice(0,s);if(he.length>0&&P&&!P.test(he)){ie.preventDefault();return}typeof A=="string"&&he.length<A.length&&document.dispatchEvent(new Event("selectionchange")),E(he)},[s,E,A,P]),Y=p.useCallback(()=>{var ie;if(F.current){let he=Math.min(F.current.value.length,s-1),ke=F.current.value.length;(ie=F.current)==null||ie.setSelectionRange(he,ke),M(he),V(ke)}U(!0)},[s]),te=p.useCallback(ie=>{var he,ke;let Qe=F.current;if(!h&&(!z.current.isIOS||!ie.clipboardData||!Qe))return;let et=ie.clipboardData.getData("text/plain"),Ve=h?h(et):et;ie.preventDefault();let ht=(he=F.current)==null?void 0:he.selectionStart,Rt=(ke=F.current)==null?void 0:ke.selectionEnd,mt=(ht!==Rt?C.slice(0,ht)+Ve+C.slice(Rt):C.slice(0,ht)+Ve+C.slice(ht)).slice(0,s);if(mt.length>0&&P&&!P.test(mt))return;Qe.value=mt,E(mt);let At=Math.min(mt.length,s-1),jr=mt.length;Qe.setSelectionRange(At,jr),M(At),V(jr)},[s,E,P,C]),Z=p.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),ne=p.useMemo(()=>({position:"absolute",inset:0,width:q.willPushPWMBadge?`calc(100% + ${q.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:q.willPushPWMBadge?`inset(0 ${q.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[q.PWM_BADGE_SPACE_WIDTH,q.willPushPWMBadge,o]),ee=p.useMemo(()=>p.createElement("input",UWe(zWe({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":C.length===0||void 0,"data-input-otp-mss":R,"data-input-otp-mse":B,inputMode:u,pattern:P==null?void 0:P.source,"aria-placeholder":c,style:ne,maxLength:s,value:C,ref:F,onPaste:ie=>{var he;te(ie),(he=b.onPaste)==null||he.call(b,ie)},onChange:J,onMouseOver:ie=>{var he;D(!0),(he=b.onMouseOver)==null||he.call(b,ie)},onMouseLeave:ie=>{var he;D(!1),(he=b.onMouseLeave)==null||he.call(b,ie)},onFocus:ie=>{var he;Y(),(he=b.onFocus)==null||he.call(b,ie)},onBlur:ie=>{var he;U(!1),(he=b.onBlur)==null||he.call(b,ie)}})),[J,Y,te,u,ne,s,B,R,b,P==null?void 0:P.source,C]),G=p.useMemo(()=>({slots:Array.from({length:s}).map((ie,he)=>{var ke;let Qe=T&&R!==null&&B!==null&&(R===B&&he===R||he>=R&&he<B),et=C[he]!==void 0?C[he]:null,Ve=C[0]!==void 0?null:(ke=c==null?void 0:c[he])!=null?ke:null;return{char:et,placeholderChar:Ve,isActive:Qe,hasFakeCaret:Qe&&et===null}}),isFocused:T,isHovering:!b.disabled&&$}),[T,$,s,B,R,b.disabled,C]),_e=p.useMemo(()=>g?g(G):p.createElement(ZY.Provider,{value:G},x),[x,G,g]);return p.createElement(p.Fragment,null,v!==null&&p.createElement("noscript",null,p.createElement("style",null,v)),p.createElement("div",{ref:I,"data-input-otp-container":!0,style:Z,className:m},_e,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ee)))});QY.displayName="Input";function lm(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var XWe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const JY=p.forwardRef(({className:e,containerClassName:t,...r},n)=>i.jsx(QY,{ref:n,containerClassName:oe("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:oe("disabled:cursor-not-allowed",e),...r}));JY.displayName="InputOTP";const eX=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("flex items-center",e),...t}));eX.displayName="InputOTPGroup";const gc=p.forwardRef(({index:e,className:t,...r},n)=>{const a=p.useContext(ZY),{char:s,hasFakeCaret:o,isActive:l}=a.slots[e];return i.jsxs("div",{ref:n,className:oe("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[s,o&&i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});gc.displayName="InputOTPSlot";const ZWe=p.forwardRef(({...e},t)=>i.jsx("div",{ref:t,role:"separator",...e,children:i.jsx(BJ,{})}));ZWe.displayName="InputOTPSeparator";var bt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(bt||(bt={}));var m3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(m3||(m3={}));const Ne=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yo=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},de=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof bo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bo.create=e=>new bo(e);const Fk=(e,t)=>{let r;switch(e.code){case de.invalid_type:e.received===Ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case de.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,bt.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:r=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case de.invalid_union:r="Invalid input";break;case de.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case de.invalid_enum_value:r=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case de.invalid_arguments:r="Invalid function arguments";break;case de.invalid_return_type:r="Invalid function return type";break;case de.invalid_date:r="Invalid date";break;case de.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:bt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case de.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case de.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case de.custom:r="Invalid input";break;case de.invalid_intersection_types:r="Intersection results could not be merged";break;case de.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case de.not_finite:r="Number must be finite";break;default:r=t.defaultError,bt.assertNever(e)}return{message:r}};let QWe=Fk;function JWe(){return QWe}const eHe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function xe(e,t){const r=JWe(),n=eHe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Fk?void 0:Fk].filter(a=>!!a)});e.common.issues.push(n)}class Ba{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ye;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return Ba.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Ye;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Ye=Object.freeze({status:"aborted"}),bm=e=>({status:"dirty",value:e}),ys=e=>({status:"valid",value:e}),p3=e=>e.status==="aborted",g3=e=>e.status==="dirty",Gf=e=>e.status==="valid",fb=e=>typeof Promise<"u"&&e instanceof Promise;var Se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Se||(Se={}));class Ll{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v3=(e,t)=>{if(Gf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bo(e.common.issues);return this._error=r,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class yt{get description(){return this._def.description}_getType(t){return Yo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ba,ctx:{common:t.parent.common,data:t.data,parsedType:Yo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(fb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return v3(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yo(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Gf(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Gf(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yo(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(fb(a)?a:Promise.resolve(a));return v3(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:de.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Xf({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Pl.create(this,this._def)}nullable(){return Zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ni.create(this)}promise(){return gb.create(this,this._def)}or(t){return mb.create([this,t],this._def)}and(t){return pb.create(this,t,this._def)}transform(t){return new Xf({...it(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new zk({...it(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new _He({typeName:Xe.ZodBranded,type:this,...it(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Uk({...it(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return NO.create(this,t)}readonly(){return Vk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tHe=/^c[^\s-]{8,}$/i,rHe=/^[0-9a-z]+$/,nHe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aHe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sHe=/^[a-z0-9_-]{21}$/i,iHe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oHe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lHe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cHe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let R_;const uHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gHe=new RegExp(`^${tX}$`);function rX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function vHe(e){return new RegExp(`^${rX(e)}$`)}function yHe(e){let t=`${tX}T${rX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xHe(e,t){return!!((t==="v4"||!t)&&uHe.test(e)||(t==="v6"||!t)&&fHe.test(e))}function bHe(e,t){if(!iHe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function wHe(e,t){return!!((t==="v4"||!t)&&dHe.test(e)||(t==="v6"||!t)&&hHe.test(e))}class gl extends yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const s=this._getOrReturnCtx(t);return xe(s,{code:de.invalid_type,expected:Ne.string,received:s.parsedType}),Ye}const n=new Ba;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:de.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:de.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?xe(a,{code:de.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&xe(a,{code:de.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")lHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"email",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")R_||(R_=new RegExp(cHe,"u")),R_.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"emoji",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")aHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"uuid",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")sHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"nanoid",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")tHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")rHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid2",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")nHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ulid",code:de.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),xe(a,{validation:"url",code:de.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"regex",code:de.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?yHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?gHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?vHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:de.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?oHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"duration",code:de.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?xHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ip",code:de.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?bHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"jwt",code:de.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?wHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cidr",code:de.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?mHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"base64",code:de.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?pHe.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"base64url",code:de.invalid_string,message:s.message}),n.dirty()):bt.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:de.invalid_string,...Se.errToObj(n)})}_addCheck(t){return new gl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Se.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Se.errToObj(r)})}nonempty(t){return this.min(1,Se.errToObj(t))}trim(){return new gl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gl.create=e=>new gl({checks:[],typeName:Xe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});function jHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class _g extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const s=this._getOrReturnCtx(t);return xe(s,{code:de.invalid_type,expected:Ne.number,received:s.parsedType}),Ye}let n;const a=new Ba;for(const s of this._def.checks)s.kind==="int"?bt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:de.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?jHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:de.not_finite,message:s.message}),a.dirty()):bt.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,a){return new _g({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(a)}]})}_addCheck(t){return new _g({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&bt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}_g.create=e=>new _g({checks:[],typeName:Xe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Ng extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let n;const a=new Ba;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:de.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):bt.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return xe(r,{code:de.invalid_type,expected:Ne.bigint,received:r.parsedType}),Ye}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,a){return new Ng({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(a)}]})}_addCheck(t){return new Ng({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ng.create=e=>new Ng({checks:[],typeName:Xe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...it(e)});class y3 extends yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.boolean,received:n.parsedType}),Ye}return ys(t.data)}}y3.create=e=>new y3({typeName:Xe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class hb extends yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const s=this._getOrReturnCtx(t);return xe(s,{code:de.invalid_type,expected:Ne.date,received:s.parsedType}),Ye}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return xe(s,{code:de.invalid_date}),Ye}const n=new Ba;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:de.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:de.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):bt.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new hb({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}hb.create=e=>new hb({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Xe.ZodDate,...it(e)});class x3 extends yt{_parse(t){if(this._getType(t)!==Ne.symbol){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.symbol,received:n.parsedType}),Ye}return ys(t.data)}}x3.create=e=>new x3({typeName:Xe.ZodSymbol,...it(e)});class b3 extends yt{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.undefined,received:n.parsedType}),Ye}return ys(t.data)}}b3.create=e=>new b3({typeName:Xe.ZodUndefined,...it(e)});class w3 extends yt{_parse(t){if(this._getType(t)!==Ne.null){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.null,received:n.parsedType}),Ye}return ys(t.data)}}w3.create=e=>new w3({typeName:Xe.ZodNull,...it(e)});class j3 extends yt{constructor(){super(...arguments),this._any=!0}_parse(t){return ys(t.data)}}j3.create=e=>new j3({typeName:Xe.ZodAny,...it(e)});class _3 extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ys(t.data)}}_3.create=e=>new _3({typeName:Xe.ZodUnknown,...it(e)});class Fl extends yt{_parse(t){const r=this._getOrReturnCtx(t);return xe(r,{code:de.invalid_type,expected:Ne.never,received:r.parsedType}),Ye}}Fl.create=e=>new Fl({typeName:Xe.ZodNever,...it(e)});class N3 extends yt{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.void,received:n.parsedType}),Ye}return ys(t.data)}}N3.create=e=>new N3({typeName:Xe.ZodVoid,...it(e)});class Ni extends yt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ne.array)return xe(r,{code:de.invalid_type,expected:Ne.array,received:r.parsedType}),Ye;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(xe(r,{code:o?de.too_big:de.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(xe(r,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(xe(r,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ll(r,o,r.path,l)))).then(o=>Ba.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Ll(r,o,r.path,l)));return Ba.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Ni({...this._def,minLength:{value:t,message:Se.toString(r)}})}max(t,r){return new Ni({...this._def,maxLength:{value:t,message:Se.toString(r)}})}length(t,r){return new Ni({...this._def,exactLength:{value:t,message:Se.toString(r)}})}nonempty(t){return this.min(1,t)}}Ni.create=(e,t)=>new Ni({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...it(t)});function Zu(e){if(e instanceof zr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Pl.create(Zu(n))}return new zr({...e._def,shape:()=>t})}else return e instanceof Ni?new Ni({...e._def,type:Zu(e.element)}):e instanceof Pl?Pl.create(Zu(e.unwrap())):e instanceof Zf?Zf.create(Zu(e.unwrap())):e instanceof xu?xu.create(e.items.map(t=>Zu(t))):e}class zr extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=bt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return xe(u,{code:de.invalid_type,expected:Ne.object,received:u.parsedType}),Ye}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ll(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Fl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(xe(a,{code:de.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ll(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ba.mergeObjectSync(n,u)):Ba.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Se.errToObj,new zr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Se.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(t){return new zr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new zr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Xe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new zr({...this._def,catchall:t})}pick(t){const r={};for(const n of bt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new zr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of bt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new zr({...this._def,shape:()=>r})}deepPartial(){return Zu(this)}partial(t){const r={};for(const n of bt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new zr({...this._def,shape:()=>r})}required(t){const r={};for(const n of bt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Pl;)s=s._def.innerType;r[n]=s}return new zr({...this._def,shape:()=>r})}keyof(){return nX(bt.objectKeys(this.shape))}}zr.create=(e,t)=>new zr({shape:()=>e,unknownKeys:"strip",catchall:Fl.create(),typeName:Xe.ZodObject,...it(t)});zr.strictCreate=(e,t)=>new zr({shape:()=>e,unknownKeys:"strict",catchall:Fl.create(),typeName:Xe.ZodObject,...it(t)});zr.lazycreate=(e,t)=>new zr({shape:e,unknownKeys:"strip",catchall:Fl.create(),typeName:Xe.ZodObject,...it(t)});class mb extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new bo(l.ctx.common.issues));return xe(r,{code:de.invalid_union,unionErrors:o}),Ye}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new bo(c));return xe(r,{code:de.invalid_union,unionErrors:l}),Ye}}get options(){return this._def.options}}mb.create=(e,t)=>new mb({options:e,typeName:Xe.ZodUnion,...it(t)});function Bk(e,t){const r=Yo(e),n=Yo(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&n===Ne.object){const a=bt.objectKeys(t),s=bt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=Bk(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ne.array&&n===Ne.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=Bk(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ne.date&&n===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pb extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(p3(s)||p3(o))return Ye;const l=Bk(s.value,o.value);return l.valid?((g3(s)||g3(o))&&r.dirty(),{status:r.value,value:l.data}):(xe(n,{code:de.invalid_intersection_types}),Ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}pb.create=(e,t,r)=>new pb({left:e,right:t,typeName:Xe.ZodIntersection,...it(r)});class xu extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.array)return xe(n,{code:de.invalid_type,expected:Ne.array,received:n.parsedType}),Ye;if(n.data.length<this._def.items.length)return xe(n,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ye;!this._def.rest&&n.data.length>this._def.items.length&&(xe(n,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ll(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Ba.mergeArray(r,o)):Ba.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new xu({...this._def,rest:t})}}xu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xu({items:e,typeName:Xe.ZodTuple,rest:null,...it(t)})};class S3 extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.map)return xe(n,{code:de.invalid_type,expected:Ne.map,received:n.parsedType}),Ye;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ll(n,l,n.path,[u,"key"])),value:s._parse(new Ll(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ye;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ye;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}S3.create=(e,t,r)=>new S3({valueType:t,keyType:e,typeName:Xe.ZodMap,...it(r)});class Sg extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.set)return xe(n,{code:de.invalid_type,expected:Ne.set,received:n.parsedType}),Ye;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(xe(n,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(xe(n,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ye;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Ll(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Sg({...this._def,minSize:{value:t,message:Se.toString(r)}})}max(t,r){return new Sg({...this._def,maxSize:{value:t,message:Se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Sg.create=(e,t)=>new Sg({valueType:e,minSize:null,maxSize:null,typeName:Xe.ZodSet,...it(t)});class C3 extends yt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}C3.create=(e,t)=>new C3({getter:e,typeName:Xe.ZodLazy,...it(t)});class k3 extends yt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return xe(r,{received:r.data,code:de.invalid_literal,expected:this._def.value}),Ye}return{status:"valid",value:t.data}}get value(){return this._def.value}}k3.create=(e,t)=>new k3({value:e,typeName:Xe.ZodLiteral,...it(t)});function nX(e,t){return new Yf({values:e,typeName:Xe.ZodEnum,...it(t)})}class Yf extends yt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{expected:bt.joinValues(n),received:r.parsedType,code:de.invalid_type}),Ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{received:r.data,code:de.invalid_enum_value,options:n}),Ye}return ys(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yf.create=nX;class E3 extends yt{_parse(t){const r=bt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const a=bt.objectValues(r);return xe(n,{expected:bt.joinValues(a),received:n.parsedType,code:de.invalid_type}),Ye}if(this._cache||(this._cache=new Set(bt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=bt.objectValues(r);return xe(n,{received:n.data,code:de.invalid_enum_value,options:a}),Ye}return ys(t.data)}get enum(){return this._def.values}}E3.create=(e,t)=>new E3({values:e,typeName:Xe.ZodNativeEnum,...it(t)});class gb extends yt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return xe(r,{code:de.invalid_type,expected:Ne.promise,received:r.parsedType}),Ye;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return ys(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gb.create=(e,t)=>new gb({type:e,typeName:Xe.ZodPromise,...it(t)});class Xf extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{xe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ye;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ye:c.status==="dirty"||r.value==="dirty"?bm(c.value):c});{if(r.value==="aborted")return Ye;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ye:l.status==="dirty"||r.value==="dirty"?bm(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ye:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ye:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gf(o))return Ye;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Gf(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Ye);bt.assertNever(a)}}Xf.create=(e,t,r)=>new Xf({schema:e,typeName:Xe.ZodEffects,effect:t,...it(r)});Xf.createWithPreprocess=(e,t,r)=>new Xf({schema:t,effect:{type:"preprocess",transform:e},typeName:Xe.ZodEffects,...it(r)});class Pl extends yt{_parse(t){return this._getType(t)===Ne.undefined?ys(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pl.create=(e,t)=>new Pl({innerType:e,typeName:Xe.ZodOptional,...it(t)});class Zf extends yt{_parse(t){return this._getType(t)===Ne.null?ys(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zf.create=(e,t)=>new Zf({innerType:e,typeName:Xe.ZodNullable,...it(t)});class zk extends yt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}zk.create=(e,t)=>new zk({innerType:e,typeName:Xe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class Uk extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return fb(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Uk.create=(e,t)=>new Uk({innerType:e,typeName:Xe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class A3 extends yt{_parse(t){if(this._getType(t)!==Ne.nan){const n=this._getOrReturnCtx(t);return xe(n,{code:de.invalid_type,expected:Ne.nan,received:n.parsedType}),Ye}return{status:"valid",value:t.data}}}A3.create=e=>new A3({typeName:Xe.ZodNaN,...it(e)});class _He extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class NO extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ye:s.status==="dirty"?(r.dirty(),bm(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ye:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new NO({in:t,out:r,typeName:Xe.ZodPipeline})}}class Vk extends yt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Gf(a)&&(a.value=Object.freeze(a.value)),a);return fb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Vk.create=(e,t)=>new Vk({innerType:e,typeName:Xe.ZodReadonly,...it(t)});var Xe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const SO=gl.create;Fl.create;Ni.create;mb.create;pb.create;xu.create;Yf.create;gb.create;Pl.create;Zf.create;const P3=SO().email("    "),NHe=SO().min(6,"     6   "),SHe=SO().min(2,"      "),cm=e=>{if(e.length===0)return{level:"weak",label:"",color:"",percentage:0};let t=0;return e.length>=6&&(t+=1),e.length>=8&&(t+=1),e.length>=12&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^a-zA-Z0-9]/.test(e)&&(t+=1),t<=2?{level:"weak",label:"",color:"bg-red-500",percentage:33}:t<=4?{level:"medium",label:"",color:"bg-yellow-500",percentage:66}:{level:"strong",label:"",color:"bg-green-500",percentage:100}};function CHe(){const e=Js(),{toast:t}=Ke(),[r,n]=p.useState("select"),[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(""),[h,m]=p.useState(""),[v,g]=p.useState(""),[x,b]=p.useState(""),[y,w]=p.useState({}),[j,_]=p.useState(""),[N,S]=p.useState(""),[k,C]=p.useState(!1),[A,E]=p.useState(0);p.useEffect(()=>{const{data:{subscription:T}}=W.auth.onAuthStateChange((U,R)=>{R&&e("/onboarding",{replace:!0})});return W.auth.getSession().then(({data:{session:U}})=>{U&&e("/onboarding",{replace:!0})}),()=>T.unsubscribe()},[e]),p.useEffect(()=>{if(A<=0)return;const T=setInterval(()=>{E(U=>U-1)},1e3);return()=>clearInterval(T)},[A]);const P=()=>{const T={},U=P3.safeParse(d);if(U.success||(T.email=U.error.errors[0].message),r==="login"||r==="signup"){const R=NHe.safeParse(h);R.success||(T.password=R.error.errors[0].message)}if(r==="signup"){const R=SHe.safeParse(x);R.success||(T.name=R.error.errors[0].message),h!==v&&(T.confirmPassword="   ")}return w(T),Object.keys(T).length===0},F=async T=>{T.preventDefault();const U=P3.safeParse(d);if(!U.success){w({email:U.error.errors[0].message});return}l(!0);try{const{error:R}=await W.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/auth?mode=reset`});if(R){t({title:"",description:R.message,variant:"destructive"});return}n("reset-sent")}catch{t({title:"",description:"   ",variant:"destructive"})}finally{l(!1)}},I=async()=>{if(N.length!==6){t({title:"",description:"     6 ",variant:"destructive"});return}C(!0);try{const{data:T,error:U}=await W.auth.verifyOtp({email:j,token:N,type:"signup"});if(U){t({title:"  ",description:"       ",variant:"destructive"});return}T.session&&t({title:" !",description:"   "})}catch{t({title:"",description:"   ",variant:"destructive"})}finally{C(!1)}},z=async()=>{if(!(A>0)){l(!0);try{const{error:T}=await W.auth.resend({type:"signup",email:j});T?t({title:"",description:T.message,variant:"destructive"}):(t({title:" ",description:"     "}),S(""),E(60))}catch{t({title:"",description:"   ",variant:"destructive"})}finally{l(!1)}}},O=async T=>{if(T.preventDefault(),!!P()){l(!0);try{if(r==="login"){const{error:U}=await W.auth.signInWithPassword({email:d,password:h});if(U){U.message.includes("Invalid login credentials")?(w(R=>({...R,password:"   "})),t({title:"   ",description:"      ",variant:"destructive"})):U.message.includes("Email not confirmed")?t({title:"   ",description:"      ",variant:"destructive"}):t({title:"",description:U.message,variant:"destructive"});return}}else{const{data:U,error:R}=await W.auth.signUp({email:d,password:h,options:{data:{full_name:x}}});if(R){const M=R.message.toLowerCase();M.includes("already registered")||M.includes("user already registered")||M.includes("email already")||M.includes("already exists")?(t({title:"  ",description:"          ",variant:"destructive"}),n("login")):t({title:"   ",description:R.message,variant:"destructive"});return}if(U!=null&&U.user&&U.user.identities&&U.user.identities.length===0){t({title:"  ",description:"          ",variant:"destructive"}),n("login");return}_(d),S(""),n("verify-email"),E(60),t({title:"  !",description:"      "})}}catch{t({title:"",description:"   ",variant:"destructive"})}finally{l(!1)}}},$=async()=>{u(!0);try{const{error:T}=await W.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/onboarding`}});T&&t({title:"",description:"    Google",variant:"destructive"})}catch{t({title:"",description:"   ",variant:"destructive"})}finally{u(!1)}},D=()=>{f(""),m(""),g(""),b(""),w({}),S("")};return i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsxs("title",{children:[r==="login"?" ":r==="signup"?" ":r==="forgot"?"  ":r==="reset-sent"?" ":r==="verify-email"?" ":""," | "]}),i.jsx("meta",{name:"description",content:"          "})]}),i.jsxs("div",{className:"min-h-screen bg-background",dir:"rtl",children:[i.jsxs("div",{className:"gold-gradient px-6 pt-12 pb-16 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),i.jsx("button",{onClick:()=>{r==="select"?e("/welcome"):(n("select"),D())},className:"absolute top-6 left-6 p-2 text-white/80 hover:text-white transition-colors",children:i.jsx(Ib,{className:"w-6 h-6"})}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center relative z-10 pt-4",children:[i.jsxs("h1",{className:"font-display text-3xl font-bold text-white mb-2",children:[r==="select"&&" ",r==="login"&&" ",r==="signup"&&"  ",r==="forgot"&&"  ",r==="reset-sent"&&" ",r==="verify-email"&&"  "]}),i.jsxs("p",{className:"text-white/80 font-arabic text-sm",children:[r==="select"&&"    ",r==="login"&&"  ",r==="signup"&&"     ",r==="forgot"&&"     ",r==="reset-sent"&&"   ",r==="verify-email"&&"     "]})]},r)]}),i.jsx("div",{className:"px-6 -mt-8 relative z-20 pb-8",children:i.jsxs(Lt,{mode:"wait",children:[r==="select"?i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-luxe rounded-2xl p-6 space-y-4",children:[i.jsx(K,{variant:"outline",onClick:$,disabled:c,className:"w-full py-6 text-lg font-arabic border-2 hover:bg-muted/50 relative",children:c?i.jsx(ve,{className:"w-6 h-6 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-6 h-6 ml-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"  Google"]})}),i.jsxs(K,{variant:"outline",disabled:!0,className:"w-full py-6 text-lg font-arabic border-2 opacity-50 cursor-not-allowed",children:[i.jsx("svg",{className:"w-6 h-6 ml-3",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"  Apple",i.jsx("span",{className:"text-xs mr-2",children:"()"})]}),i.jsxs("div",{className:"relative py-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-card text-muted-foreground font-arabic",children:"  "})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(K,{variant:"outline",onClick:()=>n("signup"),className:"py-6 text-base font-arabic border-2",children:" "}),i.jsx(K,{onClick:()=>n("login"),className:"py-6 text-base font-arabic gold-gradient text-white",children:" "})]})]},"select"):r==="verify-email"?i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-luxe rounded-2xl p-6 text-center space-y-6",children:[i.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(KT,{className:"w-10 h-10 text-primary"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-xl font-bold font-arabic",children:"  "}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:"     6  :"}),i.jsx("p",{className:"font-semibold text-primary",dir:"ltr",children:j})]}),i.jsx("div",{className:"flex justify-center",dir:"ltr",children:i.jsx(JY,{maxLength:6,value:N,onChange:T=>S(T),children:i.jsxs(eX,{children:[i.jsx(gc,{index:0}),i.jsx(gc,{index:1}),i.jsx(gc,{index:2}),i.jsx(gc,{index:3}),i.jsx(gc,{index:4}),i.jsx(gc,{index:5})]})})}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[i.jsx("p",{className:"text-sm font-arabic text-muted-foreground",children:"       "}),i.jsx("p",{className:"text-xs font-arabic text-muted-foreground",children:"           (Spam)"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(K,{onClick:I,disabled:k||N.length!==6,className:"w-full gold-gradient text-white py-5",children:k?i.jsx(ve,{className:"w-5 h-5 animate-spin"}):i.jsx("span",{className:"font-arabic",children:" "})}),i.jsx(K,{variant:"outline",onClick:z,disabled:o||A>0,className:"w-full py-5 font-arabic",children:o?i.jsx(ve,{className:"w-5 h-5 animate-spin"}):A>0?i.jsxs("span",{className:"flex items-center gap-2",children:["  ",i.jsx("span",{className:"inline-flex items-center justify-center min-w-[2rem] h-6 px-2 rounded-full bg-primary/10 text-primary font-bold text-sm",children:A}),""]}):"  "}),i.jsx(K,{variant:"ghost",onClick:()=>{n("login"),D()},className:"w-full py-5 font-arabic",children:"  "})]})]},"verify-email"):r==="login"||r==="signup"?i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-luxe rounded-2xl p-6",children:[i.jsxs("form",{onSubmit:O,className:"space-y-5",children:[r==="signup"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"name",className:"font-arabic text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"name",type:"text",value:x,onChange:T=>b(T.target.value),placeholder:"  ",className:"pr-10 text-right font-arabic",dir:"rtl"}),i.jsx(ya,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),y.name&&i.jsx("p",{className:"text-destructive text-sm font-arabic",children:y.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"email",className:"font-arabic text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"email",type:"email",value:d,onChange:T=>f(T.target.value),placeholder:"example@email.com",className:"pr-10 text-right",dir:"ltr"}),i.jsx(lf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),y.email&&i.jsx("p",{className:"text-destructive text-sm font-arabic",children:y.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"password",className:"font-arabic text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"password",type:a?"text":"password",value:h,onChange:T=>m(T.target.value),placeholder:"",className:"pr-10 pl-10",dir:"ltr"}),i.jsx(Om,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?i.jsx(Rl,{className:"w-5 h-5"}):i.jsx(uo,{className:"w-5 h-5"})})]}),y.password?i.jsx("p",{className:"text-destructive text-sm font-arabic",children:y.password}):r==="signup"&&i.jsxs("div",{className:"space-y-2",children:[h.length>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-arabic text-muted-foreground",children:"  :"}),i.jsx("span",{className:`text-xs font-arabic font-medium ${cm(h).level==="weak"?"text-red-500":cm(h).level==="medium"?"text-yellow-600":"text-green-500"}`,children:cm(h).label})]}),i.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-300 ${cm(h).color}`,style:{width:`${cm(h).percentage}%`}})})]}),i.jsxs("div",{className:"text-muted-foreground text-xs font-arabic space-y-0.5",children:[i.jsx("p",{children:"     :"}),i.jsxs("ul",{className:"list-disc list-inside pr-2 space-y-0.5",children:[i.jsx("li",{children:"6   "}),i.jsx("li",{children:"  (A-Z)"}),i.jsx("li",{children:" (0-9)"}),i.jsx("li",{children:"  (!@#$%...)"})]})]})]})]}),r==="signup"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"confirmPassword",className:"font-arabic text-right block",children:"  "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"confirmPassword",type:a?"text":"password",value:v,onChange:T=>g(T.target.value),placeholder:"   ",className:"pr-10 pl-10",dir:"ltr"}),i.jsx(Om,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?i.jsx(Rl,{className:"w-5 h-5"}):i.jsx(uo,{className:"w-5 h-5"})})]}),y.confirmPassword&&i.jsx("p",{className:"text-destructive text-sm font-arabic",children:y.confirmPassword})]}),i.jsx(K,{type:"submit",disabled:o,className:"w-full gold-gradient text-white hover:opacity-90 py-6",children:o?i.jsx(ve,{className:"w-6 h-6 animate-spin"}):i.jsx("span",{className:"font-arabic text-lg",children:r==="login"?" ":" "})}),r==="login"&&i.jsx("button",{type:"button",onClick:()=>{n("forgot"),w({})},className:"w-full text-center font-arabic text-sm text-muted-foreground hover:text-primary transition-colors",children:"  "})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("button",{onClick:()=>{n(r==="login"?"signup":"login"),w({})},className:"font-arabic text-muted-foreground hover:text-primary transition-colors",children:[r==="login"?"   ":"  ",i.jsx("span",{className:"text-primary font-semibold",children:r==="login"?"  ":" "})]})})]},"form"):null,r==="forgot"&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-luxe rounded-2xl p-6",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(KT,{className:"w-8 h-8 text-primary"})})}),i.jsxs("form",{onSubmit:F,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"reset-email",className:"font-arabic text-right block",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"reset-email",type:"email",value:d,onChange:T=>f(T.target.value),placeholder:"example@email.com",className:"pr-10 text-right",dir:"ltr"}),i.jsx(lf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),y.email&&i.jsx("p",{className:"text-destructive text-sm font-arabic",children:y.email})]}),i.jsx(K,{type:"submit",disabled:o,className:"w-full gold-gradient text-white hover:opacity-90 py-6",children:o?i.jsx(ve,{className:"w-6 h-6 animate-spin"}):i.jsx("span",{className:"font-arabic text-lg",children:"  "})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("button",{onClick:()=>{n("login"),w({})},className:"font-arabic text-muted-foreground hover:text-primary transition-colors",children:[" "," ",i.jsx("span",{className:"text-primary font-semibold",children:" "})]})})]},"forgot"),r==="reset-sent"&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-luxe rounded-2xl p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"w-20 h-20 rounded-full bg-available/10 flex items-center justify-center",children:i.jsx(ha,{className:"w-10 h-10 text-available"})})}),i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-3",children:"   !"}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm mb-2",children:"      :"}),i.jsx("p",{className:"text-primary font-semibold mb-6 dir-ltr",children:d}),i.jsx("p",{className:"text-muted-foreground font-arabic text-xs mb-6",children:"           (Spam)"}),i.jsx(K,{onClick:()=>{n("login"),D()},className:"w-full gold-gradient text-white hover:opacity-90 py-6",children:i.jsx("span",{className:"font-arabic text-lg",children:"  "})})]},"reset-sent")]})})]})]})}const kHe=[{id:"user",icon:ya,title:" /   ",description:"     ",color:"from-pink-400 to-rose-500"},{id:"hall_owner",icon:cn,title:"   ",description:"    ",color:"from-amber-400 to-yellow-500"}],EHe=[{id:"hall_owner",icon:cn,title:"  ",description:"    ",color:"from-emerald-400 to-green-500"},{id:"service_provider",icon:hp,title:"  ",description:"   ",color:"from-purple-400 to-violet-500"},{id:"dress_seller",icon:hs,title:" ",description:"    ",color:"from-pink-400 to-rose-500"}];function AHe(){const e=Js(),{user:t,isAuthenticated:r,loading:n}=at(),{toast:a}=Ke(),[s,o]=p.useState("main"),[l,c]=p.useState(null),[u,d]=p.useState(!1),[f,h]=p.useState(!0);p.useEffect(()=>{if(!n){if(!r){e("/welcome",{replace:!0});return}m()}},[r,n,e]);const m=async()=>{if(t)try{const{data:y}=await W.from("user_roles").select("role").eq("user_id",t.id).limit(1);if(y&&y.length>0){v(y[0].role);return}const{data:w}=await W.from("profiles").select("onboarding_completed").eq("id",t.id).maybeSingle();if(w!=null&&w.onboarding_completed){e("/",{replace:!0});return}}catch(y){console.error("Error checking onboarding:",y)}finally{h(!1)}},v=y=>{switch(y){case"hall_owner":case"service_provider":case"dress_seller":e("/",{replace:!0});break;default:e("/",{replace:!0})}},g=y=>{y==="user"?c("user"):o("vendor")},x=y=>{c(y)},b=async()=>{if(!(!t||!l)){d(!0);try{const{error:y}=await W.rpc("assign_initial_user_role",{p_user_id:t.id});if(y)throw y;const{error:w}=await W.from("profiles").update({onboarding_completed:!0}).eq("id",t.id);if(w)throw w;a({title:" !",description:l==="user"?"    ":"   .          "}),v(l)}catch{a({title:"",description:"    ",variant:"destructive"})}finally{d(!1)}}};return n||f?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(ve,{className:"w-12 h-12 text-primary animate-spin"})}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{children:i.jsx("title",{children:"   | "})}),i.jsxs("div",{className:"min-h-screen bg-background",dir:"rtl",children:[i.jsxs("div",{className:"gold-gradient px-6 pt-16 pb-20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6bTAtMTBjMC0yIDItNCAyLTRzMiAyIDIgNC0yIDQtMiA0LTItMi0yLTR6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),s==="vendor"&&i.jsx("button",{onClick:()=>{o("main"),c(null)},className:"absolute top-6 left-6 p-2 text-white/80 hover:text-white transition-colors",children:i.jsx(Ib,{className:"w-6 h-6"})}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center relative z-10",children:[i.jsx("h1",{className:"font-display text-3xl font-bold text-white mb-3",children:s==="main"?"   ":" "}),i.jsx("p",{className:"text-white/80 font-arabic text-base",children:s==="main"?"    ":"    "})]},s)]}),i.jsx("div",{className:"px-6 -mt-10 relative z-20 pb-32",children:i.jsx(Lt,{mode:"wait",children:s==="main"?i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:kHe.map((y,w)=>{const j=y.icon,_=l===y.id;return i.jsx(X.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},onClick:()=>g(y.id),className:`w-full card-luxe rounded-2xl p-6 text-right transition-all ${_?"ring-2 ring-primary shadow-xl":"hover:shadow-lg"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${y.color} flex items-center justify-center flex-shrink-0`,children:i.jsx(j,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-1",children:y.title}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:y.description})]}),_&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:i.jsx(It,{className:"w-5 h-5 text-white"})})]})},y.id)})},"main"):i.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:EHe.map((y,w)=>{const j=y.icon,_=l===y.id;return i.jsx(X.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},onClick:()=>x(y.id),className:`w-full card-luxe rounded-2xl p-6 text-right transition-all ${_?"ring-2 ring-primary shadow-xl":"hover:shadow-lg"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${y.color} flex items-center justify-center flex-shrink-0`,children:i.jsx(j,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-1",children:y.title}),i.jsx("p",{className:"text-muted-foreground font-arabic text-sm",children:y.description})]}),_&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:i.jsx(It,{className:"w-5 h-5 text-white"})})]})},y.id)})},"vendor")})}),i.jsx(Lt,{children:l&&i.jsx(X.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-background via-background to-transparent",children:i.jsx(K,{onClick:b,disabled:u,className:"w-full py-6 gold-gradient text-white text-lg font-arabic shadow-xl",children:u?i.jsx(ve,{className:"w-6 h-6 animate-spin"}):""})})})]})]})}const PHe=()=>{const e=ch();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function OHe(){const e=Js(),[t,r]=p.useState(""),[n,a]=p.useState(""),[s,o]=p.useState(!1),[l,c]=p.useState(!1),u=async d=>{if(d.preventDefault(),!t||!n){bn.error("     ");return}c(!0);try{const{data:f,error:h}=await W.auth.signInWithPassword({email:t,password:n});if(h){bn.error("   : "+h.message),c(!1);return}if(!f.user){bn.error("    "),c(!1);return}const{data:m,error:v}=await W.from("user_roles").select("role").eq("user_id",f.user.id).eq("role","admin").maybeSingle();if(v){console.error("Error checking role:",v),await W.auth.signOut(),bn.error("     "),c(!1);return}if(!m){await W.auth.signOut(),bn.error("     "),c(!1);return}bn.success("    "),window.location.href="/?admin=true"}catch(f){console.error("Login error:",f),bn.error("   ")}finally{c(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",dir:"rtl",children:i.jsxs(Me,{className:"w-full max-w-md shadow-2xl border-primary/20",children:[i.jsxs(sa,{className:"text-center space-y-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(mp,{className:"w-8 h-8 text-primary"})}),i.jsx(ia,{className:"text-2xl font-bold",children:" "}),i.jsx(j9,{children:"   "})]}),i.jsxs(He,{children:[i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"email",children:" "}),i.jsx(ge,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:d=>r(d.target.value),className:"text-right",disabled:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"password",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"password",type:s?"text":"password",placeholder:"",value:n,onChange:d=>a(d.target.value),className:"text-right pl-10",disabled:l}),i.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:s?i.jsx(Rl,{className:"w-4 h-4"}):i.jsx(uo,{className:"w-4 h-4"})})]})]}),i.jsx(K,{type:"submit",className:"w-full",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(ve,{className:"w-4 h-4 ml-2 animate-spin"})," ..."]}):" "})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"  "})})]})]})})}const THe=()=>i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:"  - "}),i.jsx("meta",{name:"description",content:"    -        "})]}),i.jsx("div",{className:"min-h-screen bg-background",dir:"rtl",children:i.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),i.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(Dx,{to:"/",className:"flex items-center gap-2",children:[i.jsx(V2,{className:"h-4 w-4"}),""]})})]}),i.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-foreground",children:[i.jsx("p",{className:"text-muted-foreground",children:" :    (   )"}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:""}),i.jsx("p",{children:'   ""              (/19)  9/2/1443  .         .'})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"    "}),i.jsx("p",{children:"            .            ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"   "}),i.jsx("p",{children:"       :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"      "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"   (   )"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"  :"}),"   ()"]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"    "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"       "]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"   "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"      "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"       "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"     "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"     "]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"    "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"   "}),i.jsx("li",{children:"   "}),i.jsx("li",{children:"  "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"    "}),i.jsx("p",{children:"       .       :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"        (   )   "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"        "]}),i.jsxs("li",{children:[i.jsx("strong",{children:"  :"}),"          "]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"   "}),i.jsx("p",{children:"        :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"   "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"       "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"       "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"      "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"     "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"        "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"       "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"       "]}),i.jsxs("li",{children:[i.jsx("strong",{children:"  :"}),"        "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"      "]}),i.jsxs("li",{children:[i.jsx("strong",{children:"  :"}),"       "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"        ()"]})]}),i.jsx("p",{className:"mt-2",children:"       : privacy@zafaf.app"})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"           .   :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"    (30) "}),i.jsx("li",{children:"     (10)     "}),i.jsx("li",{children:"      "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"   ()"}),i.jsx("p",{children:"        .                 ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"      (18) .       .       ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"   "}),i.jsx("p",{children:"      .    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"  "}),i.jsx("li",{children:"     "})]}),i.jsx("p",{children:"          ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"       ()     .            ."}),i.jsxs("p",{className:"mt-2",children:["  : ",i.jsx("a",{href:"https://sdaia.gov.sa",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"sdaia.gov.sa"})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"          :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:" : privacy@zafaf.app"}),i.jsx("li",{children:' ""  '})]}),i.jsx("p",{className:"mt-2",children:"    (30)    ."})]}),i.jsx("section",{className:"mt-8 p-4 bg-muted rounded-lg",children:i.jsxs("p",{className:"text-sm",children:["  "," ",i.jsx(Dx,{to:"/terms",className:"text-primary hover:underline font-medium",children:" "})]})})]}),i.jsxs("div",{className:"mt-12 pt-6 border-t border-border text-center text-muted-foreground text-sm",children:[i.jsxs("p",{children:[" ",new Date().getFullYear()," .   ."]}),i.jsx("p",{className:"mt-1",children:"  "})]})]})})]}),MHe=()=>i.jsxs(i.Fragment,{children:[i.jsxs(kl,{children:[i.jsx("title",{children:"  - "}),i.jsx("meta",{name:"description",content:"         "})]}),i.jsx("div",{className:"min-h-screen bg-background",dir:"rtl",children:i.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),i.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(Dx,{to:"/",className:"flex items-center gap-2",children:[i.jsx(V2,{className:"h-4 w-4"}),""]})})]}),i.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-foreground",children:[i.jsx("p",{className:"text-muted-foreground",children:" :    (   )"}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:""}),i.jsx("p",{children:'    "".                          (/126)  7/11/1440.        .'})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:""}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:'""  "":'}),"     "]}),i.jsxs("li",{children:[i.jsx("strong",{children:'""  " ":'}),"     "]}),i.jsxs("li",{children:[i.jsx("strong",{children:'""  "":'}),"          "]}),i.jsxs("li",{children:[i.jsx("strong",{children:'"":'}),"        "]}),i.jsxs("li",{children:[i.jsx("strong",{children:'" ":'}),"          "]}),i.jsxs("li",{children:[i.jsx("strong",{children:'"":'}),"     "]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"    (18   )"}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"         "}),i.jsx("li",{children:"     "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"        "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"        "}),i.jsx("li",{children:"         "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"          .  :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"           "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"        "}),i.jsx("li",{children:"         "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"  :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"    "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"        "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"    "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"   :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"        "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"         "}),i.jsx("li",{children:"        "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"        "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"      "}),i.jsx("li",{children:"        "}),i.jsx("li",{children:"       "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"            :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"        "}),i.jsx("li",{children:"          (72)   "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"      "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"         "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"          "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"       :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:'  ""   '}),i.jsx("li",{children:"  "}),i.jsx("li",{children:"   "}),i.jsx("li",{children:"    "})]}),i.jsx("p",{className:"mt-2",children:"           .        ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"        "}),i.jsx("li",{children:"          "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"        ( )"})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:""}),i.jsx("p",{children:"            :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"   "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"     "})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"        :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"   "}),i.jsx("li",{children:"    "}),i.jsx("li",{children:"       "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"    "})]}),i.jsx("p",{className:"mt-2",children:"              ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"       "}),i.jsx("li",{children:"       (5)  "}),i.jsx("li",{children:"         "}),i.jsx("li",{children:'        " "'})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"                             ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"  "}),i.jsx("p",{children:"     .     (30)    :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:"  "}),i.jsx("li",{children:"    "})]}),i.jsx("p",{children:"         ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"    "}),i.jsx("p",{children:"        .              ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:":"}),"           "]}),i.jsxs("li",{children:[i.jsx("strong",{children:":"}),"         "]}),i.jsxs("li",{children:[i.jsx("strong",{children:" :"}),"       "]}),i.jsxs("li",{children:[i.jsx("strong",{children:":"}),"         "]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" "}),i.jsx("p",{children:"       :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mr-4",children:[i.jsx("li",{children:" : support@zafaf.app"}),i.jsx("li",{children:' ""  '})]})]}),i.jsx("section",{className:"mt-8 p-4 bg-muted rounded-lg",children:i.jsxs("p",{className:"text-sm",children:["  "," ",i.jsx(Dx,{to:"/privacy",className:"text-primary hover:underline font-medium",children:" "})]})})]}),i.jsxs("div",{className:"mt-12 pt-6 border-t border-border text-center text-muted-foreground text-sm",children:[i.jsxs("p",{children:[" ",new Date().getFullYear()," .   ."]}),i.jsx("p",{className:"mt-1",children:"  "})]})]})})]}),RHe=new Dne({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,refetchOnWindowFocus:!1,retry:2}}}),DHe=()=>i.jsx(n8,{children:i.jsx(Bne,{client:RHe,children:i.jsxs(vne,{children:[i.jsx(tte,{}),i.jsx(Mte,{}),i.jsxs(Xae,{children:[i.jsxs(Uae,{children:[i.jsx(Ui,{path:"/",element:i.jsx(IWe,{})}),i.jsx(Ui,{path:"/welcome",element:i.jsx($We,{})}),i.jsx(Ui,{path:"/auth",element:i.jsx(CHe,{})}),i.jsx(Ui,{path:"/onboarding",element:i.jsx(AHe,{})}),i.jsx(Ui,{path:"/admin-login",element:i.jsx(OHe,{})}),i.jsx(Ui,{path:"/privacy",element:i.jsx(THe,{})}),i.jsx(Ui,{path:"/terms",element:i.jsx(MHe,{})}),i.jsx(Ui,{path:"*",element:i.jsx(PHe,{})})]}),i.jsx(Yz,{})]})]})})});class IHe extends p.Component{constructor(){super(...arguments);Va(this,"state",{hasError:!1,error:null,errorInfo:null});Va(this,"handleRefresh",()=>{window.location.reload()});Va(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n),this.setState({errorInfo:n})}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",dir:"rtl",children:i.jsxs("div",{className:"w-full max-w-md text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-destructive/10 flex items-center justify-center",children:i.jsx(IB,{className:"w-10 h-10 text-destructive"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2 font-arabic",children:"   "}),i.jsx("p",{className:"text-muted-foreground mb-6 font-arabic",children:"   .      ."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsxs(K,{onClick:this.handleRefresh,className:"gap-2",children:[i.jsx(Y2,{className:"w-4 h-4"})," "]}),i.jsxs(K,{variant:"outline",onClick:this.handleGoHome,className:"gap-2",children:[i.jsx(zg,{className:"w-4 h-4"})," "]})]}),!1]})}):this.props.children}}eB(document.getElementById("root")).render(i.jsx(IHe,{children:i.jsx(DHe,{})}));
